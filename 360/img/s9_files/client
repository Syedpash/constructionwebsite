
if (verishow == null || typeof (verishow) == "undefined"){
	var verishow = {
			utils : {},
			session :{},
			call_button:{},
			built_in_call_button:{},
			detectflash: {},
			deviceDetect:{}
		};
}
remoteControlTools = {
    Delegate: function (o, f) {
        //        if(f.bind != null){
        //            f.bind(o);
        //            return;
        //        }
        var a = new Array();
        var l = arguments.length;
        for (var i = 2; i < l; i++) a[i - 2] = arguments[i];
        return function () {
            var aP = [].concat(arguments, a);
            if (f == undefined) {
                // TODO : fix undefined problem
                //  this.socket.on('connect',Tools.Delegate(this,this.onConnected)); replace to .bind(this);
                return;
            }
            try {
                f.apply(o, aP[0]);
            } catch (e) {
                // faild run function
                console.error("Delegate faild " + e);
                try {
                    console.debug(o);
                    console.debug(arguments[0]);
                } catch (e) {
                    // ignor trace erro data
                }
                if (!Device.isPC) {
                    return;
                }
                // for debug
                //debugger;
                //try{
                //    f.apply(o, aP[0]);
                //}catch(e){
                //
                //}

            }

        }
    }
}


// ----- PostMassage manager
if (!window.postMessage  && !parent.postMessage) {
    console.error("coBrowser not supported in this browser");
}
// iframe.contentWindow
// window
// if(this.isMSI)
//                this.setTargetWindow(parent);
//            else
//                this.setTargetWindow(parent.parent.window);
// var targe = this.ihIframe.contentWindow;
// this.connector = new PostMessageManager(this,targe,window,"chatIframe");
PostMessageManager = function(obj,outTarget,inTarget,name){
    this.obj = obj;
    this.connectionName = name;
    this.outTarget = outTarget;
    this.inTarget = inTarget;
    this.enabled = true;
    if(parent == outTarget && window == window.top){
        console.debug("PostMessage "+name+" Warning register to prente on root");
        this.enabled = false;
    }
    this.remove = function(){
        this.outTarget = null;
        this.inTarget = null;
        this.obj = null;
        this.enabled = false;
        //debugger;
    }
    this.callFunction = function(name) {
        if(!this.enabled){
            return;
        }
        var args = Array.prototype.slice.call(arguments);
        args.unshift(this.connectionName);
        args = JSON.stringify(args);
        this.outTarget.postMessage(args, "*");
    }
    // Recive
    // expert or Session run function on this HTML
    this.runFunction = remoteControlTools.Delegate(this,function(e) {
        if(!this.enabled){
            return;
        }
        // Do we trust the sender of this message?  (might be
        // different from what we originally opened, for example).
        //if (e.origin !== "http://example.org")
        //     return;
        var params = e.data;
        if(params.charAt(0) != "["){
            // ignor other post messages
            return;
        }
        try {
            params = eval(params);
        } catch (e) {
            params = JSON.parse(params);
        }
        try {
            if(params[0] == this.connectionName){
                //this.obj[params[1]].apply(this, parremoteControlClientams[2]);
                params.shift();
                this.startFunction(params);
            }else{
                // no same connection
            }
        } catch (e) {
            // console.log("apply function error "+params[0]+" , "+params[1]);
        }
    })
    this.startFunction = remoteControlTools.Delegate(this.obj,function(params){
        var fName = params.shift();
        this[fName].apply(this, params);
    })
    if (typeof this.inTarget.addEventListener != 'undefined') {
        this.inTarget.addEventListener('message', this.runFunction, false);
    }else if (typeof this.inTarget.attachEvent != 'undefined') {
        this.inTarget.attachEvent('onmessage', this.runFunction);
    }else{
        console.error("Post messag faild")
    }
}


var remoteControlServer = {
    init:function(){
        this.connector = new PostMessageManager(this,parent,window,"remoteControlManager");
        this.connector.callFunction("_hbrpi_remoteControlClientReady");
    },
    onSuccess:function(callBackFunction,callBackData, data, status,jqXHR){
        this.connector.callFunction(callBackFunction,data,callBackData,status)
    },
    onFaild:function(callBackFunction,callBackData,jqXHR,statusText,errorThrown){
        this.connector.callFunction(callBackFunction,callBackData,statusText,errorThrown)
    },
    callRemoteServer:function(url,responsFunctionName,postData,errorFunctionName,callBackData,timeout,contentType){
        if(contentType == undefined){
            contentType = "text/html; charset=UTF-8"
        }
        if(callBackData == undefined) {
            callBackData = {};
        }
        if(timeout == undefined){
            timeout = 0;
        }
        $.ajax({
            url: url,
            type: "POST",
            data: postData,
            contentType:contentType,
            timeout: timeout,
            success: this.onSuccess.bind(this,responsFunctionName,callBackData),
            error: this.onFaild.bind(this,errorFunctionName,callBackData)
        });
    }
}



var remoteControlClient = {
    initilized: false,
    arr : [],
    callRemoteFunction:function(url,responsFunctionName,postData,errorFunctionName,callBackData,timeout,contentType){
        if(this.initilized) {
            this.jsonSaveManager.callFunction("callRemoteServer", url, responsFunctionName, postData, errorFunctionName, callBackData, timeout, contentType);
        }else{
            this.arr.push({
                url : url,
                responsFunctionName : responsFunctionName,
                postData: postData,
                errorFunctionName : errorFunctionName,
                callBackData: callBackData,
                timeout: timeout,
                contentType : contentType

            })
        }
    },
    callRemoteFunctionDelay:function(obj){
        this.callRemoteFunction(obj.url,obj.responsFunctionName,obj.postData,obj.errorFunctionName,obj.callBackData,obj.timeout,obj.contentType)
    },
    _hbrpi_remoteControlClientReady:function(){
      if(this.initilized){
          return;
      }
      this.initilized = true;
        // send all requests
        this.arr.map(function(obj){
            this.callRemoteFunctionDelay(obj)
        }.bind(this))
        this.clientObj.remoteControlReady();
    },
    ready : function ( fn ) {
        if(document.body){
            fn();
        } else{
            setTimeout(this.ready.bind(this),10,fn);
        }
    },
    _init:function(){
        var iframe = document.createElement('iframe');
        iframe.src = this.src;
        iframe.id = this.iframeID;
        iframe.setAttribute("style","visibility : hidden ; height : 0px ; position :absolute ; display : none");
        document.body.appendChild(iframe);

        var iframewindow = iframe.contentWindow ? iframe.contentWindow : iframe.contentDocument.defaultView;
        this.jsonSaveManager = new PostMessageManager(this.obj, iframewindow, window, "remoteControlManager");
    },
    init:function(obj,src,iframeID){
        if(iframeID == undefined){
            iframeID = "iframeRemotServer"
        }
        this.src = src ;
        this.iframeID = iframeID;
        this.obj = obj;

        obj.callRemoteFunction = this.callRemoteFunction.bind(this);
        obj._hbrpi_remoteControlClientReady = this._hbrpi_remoteControlClientReady.bind(this);
        this.clientObj = obj;

        this.ready(this._init.bind(this));
    }
}






verishow.utils.chat_window_swf_height;
verishow.utils.chat_window_swf_width;
verishow.utils.chat_window_height;
verishow.utils.chat_window_width;
verishow.utils.caf_window_height;
verishow.utils.caf_window_width;
verishow.utils.details_window_height;
verishow.utils.details_window_width;
verishow.utils.side_by_side_chat_window_height = 426;//494;//518;//399;
verishow.utils.side_by_side_chat_window_width = 676;//650
verishow.utils.html_chat_window_height = 285;//320;
verishow.utils.html_chat_window_width = 500;//620;
verishow.utils.min_html_chat_window_height = 285;//320;
verishow.utils.min_html_chat_window_width = 270;//620;
verishow.utils.NOT_READY="not ready";

verishow.utils.details_mobile_window_width=300;
verishow.utils.details_mobile_window_height=240;
verishow.utils.details_mobile_topic_window_height=270;
verishow.utils.footer_height=41;
verishow.utils.head_div;
verishow.utils.footer_div;
verishow.utils.query;

verishow.utils.load_jquery_limit=600;
verishow.utils.load_swfobject_limit=600;

verishow.utils.screenSharingWin;
verishow.utils.cbWindow;
verishow.utils.domCbWindow;

verishow.utils.cookie_visit_id ="vs_t_vid";
verishow.utils.cookie_used_vs_before="vs_t_uvsb";
verishow.utils.cookie_is_first_time="vs_t_ift";
verishow.utils.cookie_number_of_visits_in_site="vs_t_novis";
verishow.utils.cookie_new_http_session="vs_t_nhs";
verishow.utils.cookie_disable_auto_invite="vs_t_dai";
verishow.utils.cookie_delay_call_button_appearance="vs_dcba";
verishow.utils.cookie_dummy_wrapper_loaded="vs_dwl";
verishow.utils.cookie_blocked="vs_blck";
verishow.utils.buttonClickedLately = false;

verishow.utils.floatingIframe = null;

verishow.utils.animation_x_offset = 10;
verishow.utils.animation_y_offset = 50;
verishow.utils.animation_scroll_top=-1;
verishow.utils.animation_win_height=-1;
verishow.utils.animation_win_width=-1;
verishow.utils.vsSessionStartedParamName="vsSessionStarted";
verishow.utils.vsCurrentFloatingIframeNameParam="vsFloatingIframeNameToRestore";
verishow.utils.defaultIframeName="floatingIframe";
verishow.utils.vsInSessionParam="vsInSession";
verishow.utils.isCobrowsingMode = false;
verishow.utils.overflow = 'auto';
verishow.utils.isCustomerInvitationMode = false;

verishow.utils.log = {
	sendToLog : function(type, msg) {
		try {
			var logRequest = "https://platform4.verishow.com/log?action=jslog&type=" + type + "&who=vsutils2&msg=" + msg;
			
			//if(verishow.utils.exists(callTargetIdParam) && callTargetIdParam.indexOf("=") > 0){
			//	logRequest = logRequest + "&" + callTargetIdParam;
			//}
			
			
			verishow.utils.remoteController.send(logRequest,"","application/javascript", 3000,verishow.utils.log.onLogSendSuccess, verishow.utils.log.onLogSendFailure);
			//verishow.utils.loadjscssfile(logRequest, "js");
		} catch (e) {
		}
	},
	debug : function(msg) {
		verishow.utils.log.sendToLog("info", msg);
	},

	error : function(msg) {
		verishow.utils.log.sendToLog("error", msg);
		//console.log(msg);
	},
	
	onLogSendSuccess : function(data){			
	},

	onLogSendFailure : function(statusText,errorThrown){
	}
};

verishow.utils.loadjscssfile = function(filename, filetype) {
	if (filetype == "js") {
		var fileref = document.createElement('script');
		fileref.setAttribute("type", "text/javascript");
		fileref.setAttribute("src", filename);
		document.getElementsByTagName("head")[0].appendChild(fileref);
	} else if (filetype == "css") {
		var fileref = document.createElement("link");
		fileref.setAttribute("rel", "stylesheet");
		fileref.setAttribute("type", "text/css");
		fileref.setAttribute("href", filename);
		document.getElementsByTagName("head")[0].appendChild(fileref);
	} else if (filetype == "body_js") {
		var fileref = document.createElement('script');
		fileref.setAttribute("type", "text/javascript");
		fileref.setAttribute("src", filename);
		document.getElementsByTagName("body")[0].appendChild(fileref);
	}
};

verishow.utils.setCoBrowsingMode= function(){
	try{
		verishow.utils.isCobrowsingMode = true;
		console.log("utils.setCoBrowsingMode: IN THE FUNCTION");
		
		var cboxOverlay = document.getElementById("cboxOverlay");
		if(verishow.utils.exists(cboxOverlay)){
			document.getElementsByTagName("body")[0].removeChild(cboxOverlay);
		}
		
		var colorbox = document.getElementById("colorbox");
		if(verishow.utils.exists(colorbox)){
			document.getElementsByTagName("body")[0].removeChild(colorbox);
		}
		
		
		var vs_container = document.getElementById("vs_container");
		if(verishow.utils.exists(vs_container)){
			document.getElementsByTagName("body")[0].removeChild(vs_container);
		}
		
		if(verishow.utils.exists(verishow.session)){
			verishow.session.disableCallButtons();
		}

	}catch(e){
		verishow.utils.log.error("utils.setCoBrowsingMode: " + e);
	}
};

verishow.utils.endCoBrowsingMode= function(){
	try{
		console.log("verishow.utils.endCoBrowsingMode");
		
		verishow.utils.isCobrowsingMode = false;
		if(verishow.utils.exists(verishow.session)){
			verishow.session.enableCallButtons();
		}
		

	}catch(e){
		verishow.utils.log.error("utils.setCoBrowsingMode: " + e);
	}
};

verishow.utils.setClickedLatelyFalse = function() {
	verishow.utils.buttonClickedLately = false;
};

verishow.utils.moveWindowTo = function(top, left) {
	try {
		var inIframe = (window.top!=window.self) ? true : false;
		if(inIframe){
			window.parent.moveTo(top, left);
		}else{
			window.moveTo(top, left);
		}
	} catch (e) {
		verishow.utils.log.error("utils resizeWindowTo: " + e);
	}
	return false;
};

verishow.utils.resizeWindowTo = function(width_, height_) {
	try {
		var inIframe = (window.top!=window.self) ? true : false;
		if(inIframe){
			try{
				window.parent.resizeTo(width_, height_);
			}catch(e){}
			try{
				if(verishow.utils.exists(Wix)){
					var height = 600;
					var width = 1270;
					
					height_ = (height_ > height) ? height : height_;
					width_ = (width_ > width) ? width : width_;
					
					Wix.resizeWindow(width_,height_);
				}
			}catch(e){
				//alert(e);
			}
		}else{
			 var innerWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
			 var innerHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
			 window.resizeBy(width_-innerWidth,height_-innerHeight);
//			window.resizeTo(width_, height_);
		}
	} catch (e) {
		verishow.utils.log.error("utils resizeWindowTo: " + e);
	}
	return false;
};



verishow.utils.openDomCbWindow = function(url,name, width, height, top, left){
	try{
		name = Math.round(9999 * Math.random()) + new Date().getTime();
		verishow.utils.domCbWindow = verishow.utils.openNewWindow(url,name, width, height, top, left);
	}catch(e){
		verishow.utils.log.error("utils openDomCbWindow: " + e);
	}
};

verishow.utils.closeDomCbWindow = function(){
	try{
		if(verishow.utils.exists(verishow.utils.domCbWindow)){
			verishow.utils.domCbWindow.close();
		}
	}catch(e){
		verishow.utils.log.error("utils closeDomCbWindow: " + e);
	}
};

verishow.utils.openCbWindow = function(url,name, width, height, top, left){
	name = Math.round(9999 * Math.random()) + new Date().getTime();
	verishow.utils.cbWindow = verishow.utils.openNewWindow(url,name, width, height, top, left);
};

verishow.utils.closeCbWindow = function(){
	try{
		if(verishow.utils.exists(verishow.utils.cbWindow)){
			verishow.utils.cbWindow.close();
		}
	}catch(e){
		verishow.utils.log.error("utils closeScreenSharingWindow: " + e);
	}
};

verishow.utils.openScreenSharingWindow = function(url,name, width, height, top, left){
	verishow.utils.screenSharingWin = verishow.utils.openNewWindow(url,name, width, height, top, left);
};

verishow.utils.closeScreenSharingWindow = function(){
	try{
		if(verishow.utils.exists(verishow.utils.screenSharingWin)){
			verishow.utils.screenSharingWin.close();
		}
	}catch(e){
		verishow.utils.log.error("utils closeScreenSharingWindow: " + e);
	}
};

verishow.utils.openWixWindow = function(url,name, width, height, top, left,onClose) {
	try{
		openWixWindow(url,name, width, height, top, left,onClose);
	}catch(e){
		verishow.utils.log.error("utils openWixWindow: " + e);
	}
};

verishow.utils.openNewWindow = function(url,name, width, height, top, left) {
	try {
		//alert("verishow.utils.openNewWindow: name=" + name + "; width=" + width + "; height=" + height + "; top=" + top + "; left=" + left);
		if(name == ""){
			name = Math.round(9999 * Math.random()) + new Date().getTime();
		}
		return window.open(url, name, "width=" + width + ", height="
				+ height + ", top=" + top + ", left=" + left
				+ ", resizable=no, scrollbars=no, status=no");
	} catch (e) {
		verishow.utils.log.error("utils openNewWindow: " + e);
	}
	return false;
};

verishow.utils.getCookie = function(c_name) {
	try {
		var i, x, y, ARRcookies = document.cookie.split(";");
		for (i = 0; i < ARRcookies.length; i++) {
			x = ARRcookies[i].substr(0, ARRcookies[i].indexOf("="));
			y = ARRcookies[i].substr(ARRcookies[i].indexOf("=") + 1);
			x = x.replace(/^\s+|\s+$/g, "");
			if (x == c_name) {
				return unescape(y);
			}
		}
	} catch (e) {
		verishow.utils.log.error("utils getCookie: " + e);
	}
};

verishow.utils.setTempCookie = function(c_name, value, exminutes) {
	try {
		var exdate = new Date();
		exdate.setTime(exdate.getTime()+(exminutes*60*1000) );
		
		var c_value = escape(value)
				+ ((exminutes == null) ? "" : "; expires=" + exdate.toUTCString());
		document.cookie = c_name + "=" + c_value;
	} catch (e) {
		//verishow.utils.log.error("utils setCookie: " + e);
		//https://sbc.arcomone.com/ CHECK
	}
};


verishow.utils.setCookie = function(c_name, value, exdays) {
	try {
		var exdate = new Date();
		exdate.setDate(exdate.getDate() + exdays);
		var c_value = escape(value)
				+ ((exdays == null) ? "" : "; expires=" + exdate.toUTCString());
		document.cookie = c_name + "=" + c_value;
	} catch (e) {
		//verishow.utils.log.error("utils setCookie: " + e);
		//https://sbc.arcomone.com/ CHECK
	}
};

verishow.utils.adjustWindowHeight = function() {
	try {
		verishow.utils.adjustWindowHeightR(60);
	} catch (e) {
		verishow.utils.log.error("utils adjustWindowHeight: " + e);
	}
};

verishow.utils.adjustWindowHeightR = function(r) {
	try {
		(function($){
			var w_height = $(window).height();
			var d_height = $(document).height();

			if (r > 0) {
				if ((w_height < d_height) || ((w_height < d_height + 20) && (verishow.utils.isChrome()))) {
					var button_top = $('#footer_height').offset().top;
					var sw = (verishow.utils.isChrome() == true) ? 16 : 8;
					
					if(verishow.utils.isChrome()){
						if(d_height - button_top < verishow.utils.footer_height){
							d_height = d_height + verishow.utils.footer_height + 20;
						}
					}
					var sh = 60;
					verishow.utils.resizeWindowTo($(window).width() + sw,d_height + sh);

				}
			}
		}(verishow.utils.query));
	} catch (e) {
		r = r - 1;
		verishow.utils.log.debug("utils adjustWindowHeightR: exception" + r);
		setTimeout("verishow.utils.adjustWindowHeightR('" + r + "')", 200);
	}
};

verishow.utils.setAfterHoursView = function() {
	try {
		var left = Math.round(screen.width / 2
				- verishow.utils.caf_window_width / 2);
		var top = Math.round(screen.height / 2
				- verishow.utils.caf_window_height / 2);

		verishow.utils.moveWindowTo(left, top);
		verishow.utils.resizeWindowTo(verishow.utils.caf_window_width,
				verishow.utils.caf_window_height);

		verishow.utils.query(document).ready(verishow.utils.adjustWindowHeight());
	} catch (e) {
		verishow.utils.log.error("utils setAfterHoursView: " + e);
	}
};

verishow.utils.setSideBySideChatView = function() {
	try {
		var left = Math.round(screen.width / 2
				- verishow.utils.side_by_side_chat_window_width / 2);
		var top = Math.round(screen.height / 2
				- verishow.utils.side_by_side_chat_window_height / 2);

		//verishow.utils.moveWindowTo(left, top);
		//verishow.utils.resizeWindowTo(verishow.utils.side_by_side_chat_window_width,
		//		verishow.utils.side_by_side_chat_window_height);

		verishow.utils.removeHeader();
		verishow.utils.removeFooter();

		var container = document.getElementById('container');
		verishow.utils.setElementSizePercent(container,100,100);
		
//		verishow.utils.setElementSize(container,"100%",
//				"100%");

	} catch (e) {
		verishow.utils.log.error("utils setSideBySideChatView: " + e);
	}
};
	
verishow.utils.setChatView = function() {
	try {
		var left = Math.round(screen.width / 2
				- verishow.utils.chat_window_width / 2);
		var top = Math.round(screen.height / 2
				- verishow.utils.chat_window_height / 2);

		verishow.utils.moveWindowTo(left, top);
		verishow.utils.resizeWindowTo(verishow.utils.chat_window_width,
				verishow.utils.chat_window_height);

		verishow.utils.restoreHeader();
		verishow.utils.restoreFooter();

		var container = document.getElementById('container');
		//verishow.utils.setElementSize(container,verishow.utils.chat_window_swf_width,
		//		verishow.utils.chat_window_swf_height);
	
		container.style.left="14px";
		var leftSideChat=document.getElementById("left_chat_side");
		leftSideChat.innerHTML="";
		leftSideChat.style.display="none";
		var chatIframe=document.getElementById("chatHTML");
		chatIframe.style.border="0px";
		chatIframe.style.overflow="hidden";
		chatIframe.style.width="420px";
		//chatIframe.style.height="600px";
		chatIframe.style.height="100%";
		chatIframe.style.top="-8px";
		chatIframe.style.bottom="0px";
		chatIframe.style.position="absolute";
		chatIframe.style.left="-5px";
		chatIframe.style.right="0px";
	} catch (e) {
		verishow.utils.log.error("utils setChatView: " + e);
	}
};

verishow.utils.maxWindow = function() {
    window.moveTo(0, 0);
	window.resizeTo(screen.availWidth, screen.availHeight);

    if (document.layers || document.getElementById) {
        if (window.outerHeight < screen.availHeight || window.outerWidth < screen.availWidth) {
            window.outerHeight = screen.availHeight;
            window.outerWidth = screen.availWidth;
        }
    }
}


verishow.utils.setFullScreenSessionView = function() {
	try {
		
		document.getElementById("container").style.top = "";
		document.getElementById("container").style.bottom = "";
		document.getElementById("container").style.position = "";
		
		verishow.utils.log.debug("utils setFullScreenSessionView: start");
		//verishow.utils.moveWindowTo(0, 0); //instead use the next function
		verishow.utils.maxWindow();

		verishow.utils.removeHeader();
		verishow.utils.removeFooter();

		var container = document.getElementById('container');
		container.style.left="0px";
		verishow.utils.setElementSizePercent(container, 100, 100);
		
		var innerFlashContainer = document.getElementById('inner_container');
		verishow.utils.setElementSizePercent(innerFlashContainer, 100, 100);
		
		var flashContainer = document.getElementById('flashcontent');
		verishow.utils.setElementSizePercent(flashContainer,100,100);
		
		
		container.style.left="0px";
	
	
		verishow.utils.log.debug("utils setFullScreenSessionView: end");
	} catch (e) {
		verishow.utils.log.error("utils setFullScreenSessionView: " + e);
	}
};

verishow.utils.removeHeader = function() {
	try {
		var headContainer = document.getElementById('head_container');
		var head = document.getElementById('head');
		if (verishow.utils.exists(headContainer) && verishow.utils.exists(head)) {
			verishow.utils.head_div = headContainer.removeChild(head);
			headContainer.style.height="0px";
		}

	} catch (e) {
		verishow.utils.log.error("utils removeHeader: " + e);
	}
};
verishow.utils.removeFooter = function() {
	try {
		var footerContainer = document.getElementById('footer_container');
		var footer = document.getElementById('footer');
		verishow.utils.footer_div = footerContainer.removeChild(footer);
	} catch (e) {
		verishow.utils.log.error("utils removeFooter: " + e);
	}
};

verishow.utils.restoreHeader = function() {
	try {
		if (verishow.utils.exists(verishow.utils.head_div)) {
			var headContainer = document.getElementById('head_container');
			headContainer.appendChild(verishow.utils.head_div);
			headContainer.style.height="60px";
		}
	} catch (e) {
		verishow.utils.log.error("utils restoreHeader: " + e);
	}
};

verishow.utils.restoreFooter = function() {
	try {
		if (verishow.utils.exists(verishow.utils.footer_div)) {
			var footerContainer = document.getElementById('footer_container');
			footerContainer.appendChild(verishow.utils.footer_div);
		}
	} catch (e) {
		verishow.utils.log.error("utils restoreFooter: " + e);
	}
};

verishow.utils.isFF = function() {
	return (navigator.userAgent.toString().toLowerCase().indexOf("firefox") != -1 && (navigator.appVersion.indexOf("Edge") == -1)) ? true
			: false;
};

verishow.utils.isIE7 = function() {
	return (navigator.appVersion.indexOf("MSIE 7") != -1) ? true : false;
};

verishow.utils.isIE8 = function() {
	return (navigator.appVersion.indexOf("MSIE 8") != -1) ? true : false;
};

verishow.utils.isIE9 = function() {
	return (navigator.appVersion.indexOf("MSIE 9") != -1) ? true : false;
};

verishow.utils.isIEEdge = function() {
	return (navigator.appVersion.indexOf("Edge") != -1) ? true : false;
};

verishow.utils.isIE = function() {
	var rv = verishow.utils.getInternetExplorerVersion();
	return (rv > -1) ? true : false;
};

verishow.utils.isInQuirksMode =function(){
	try{
		if(verishow.utils.isIE()){
			return document.compatMode==='CSS1Compat'? false:true;
		}
	}catch(e){
		
	}
	return false;
};

verishow.utils.isChrome = function() {
	return ((navigator.appVersion.indexOf("Chrome") != -1 && (navigator.appVersion.indexOf("Edge") == -1)) ||
			(navigator.appVersion.indexOf("CriOS") != -1 )) ? true : false;
};

verishow.utils.isIE10 = function() {
	return (navigator.appVersion.indexOf("MSIE 10") != -1) ? true : false;
};

verishow.utils.isIE11 = function() {
	var rv = verishow.utils.getInternetExplorerVersion();
	return (rv == 11) ? true : false;
};


verishow.utils.isIEMetro = function() {
	var rv = verishow.utils.getInternetExplorerVersion();
	var result = (rv >= 10) && (verishow.utils.isActivexEnabled() == false);
	return result;
};

verishow.utils.getInternetExplorerVersion = function(){
  var rv = -1;
  if (navigator.appName == 'Microsoft Internet Explorer'){
    var ua = navigator.userAgent;
    var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
    if (re.exec(ua) != null)
      rv = parseFloat( RegExp.$1 );
  }else if (navigator.appName == 'Netscape'){
    var ua = navigator.userAgent;
    var re  = new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
    if (re.exec(ua) != null)
      rv = parseFloat( RegExp.$1 );
  }
  return rv;
};


verishow.utils.isActivexEnabled = function() {
    var supported = null;        
    try {
        supported = !!new ActiveXObject("htmlfile");
    } catch (e) {
        supported = false;
    }
    return supported;
};

verishow.utils.isSafari=function(){
	return ( (navigator.appVersion.indexOf("Safari") != -1) && ((navigator.appVersion.indexOf("Chrome") == -1))) ? true : false;
};

verishow.utils.setElementWidth = function(elem, width) {
	try {
		elem.width = width;
		elem.style.width = width + 'px';
	} catch (e) {
		verishow.utils.log.error("utils setElementWidth: " + e);
	}
};

verishow.utils.setElementHeight = function(elem, height) {
	try {
		elem.height = height;
		elem.style.height = height + 'px';
	} catch (e) {
		verishow.utils.log.error("utils setElementHeight: " + e);
	}
};

verishow.utils.setElementSize = function(elem, width, height) {
	try {
		if (height != -1) {
			verishow.utils.setElementHeight(elem, height);
		}

		if (width != -1) {
			verishow.utils.setElementWidth(elem, width);
		}
	} catch (e) {
		verishow.utils.log.error("utils setElementSize: " + e);
	}
};

verishow.utils.setElementSizePercent = function(elem, width, height) {
	try {
		if (height != -1) {
			elem.style.height = height + '%';
		}

		if (width != -1) {
			elem.style.width = width + '%';
		}
	} catch (e) {
		vslog.error("setElementSizePercent error=" + e);
	}
};

verishow.utils.exists = function(elem) {
	try {
		if (elem != null && typeof (elem) != "undefined") {
			return true;
		} else {
			return false;
		}
	} catch (e) {
		vslog.error("exists error=" + e);
	}
};

verishow.utils.loadJQueryInclude = function(){
	try{			
		var request = "https://platform4.verishow.com/Javascripts/jquery-1.7.1.min.noconflict.js";
		//var request = "https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js";
		verishow.utils.loadjscssfile(request, "js");
	}catch(e) {
		verishow.utils.log.error("utils loadJQueryInclude: " + e);
	}
};

verishow.utils.redirect = function(path){
	try{
		window.location.href = path;
	}catch(e){
		verishow.utils.log.error("utils redirect: " + e);
	}
};

verishow.utils.getSwfHeight = function(){
	try{
		if(verishow.utils.isSafari()){
			return 567;//530;
		}
		if(verishow.utils.isIE7() || verishow.utils.isIE8()){
			return 517;//480;
		}

	}catch(e){
		verishow.utils.log.error("utils getSwfHeight: " + e);
	}
	return 537;//500;
};

verishow.utils.init = function(){
	try{			
		verishow.utils.loadJQueryInclude();

		verishow.utils.chat_window_swf_height =verishow.utils.getSwfHeight(); //tzahi=511;//530;//498;// 455;
		verishow.utils.chat_window_swf_width = 401;//410;//420;//405;//378;
		verishow.utils.chat_window_height = 692;//660;
		verishow.utils.chat_window_width = 438;//430;//422;
		
		verishow.utils.caf_window_height = 500; //400; //(verishow.utils.isIE() == true) ? 460 : ((verishow.utils.isChrome() == true) ? 400 : 400);
		verishow.utils.caf_window_width = (verishow.utils.isChrome() == true || (verishow.utils
				.isIE() == true)) ? 443 : 422;
		verishow.utils.details_window_height=(verishow.utils.isChrome()== true) ? 310 : 300;
		verishow.utils.details_window_width = 490;

		verishow.utils.waitForJquery();
		
		
	}catch(e) {
		verishow.utils.log.error("utils init: " + e);
	}
};


verishow.utils.restoreFloatingIframeSession = function(){
	if(sessionStorage[verishow.utils.vsSessionStartedParamName] == "true"){
		//rewrite
		verishow.utils.initHtmlChatWindow();
		console.log("verishow.utils.restoreFloatingIframeSession: disabling callbuttons");
		verishow.session.disableCallButtons();
	}
};

verishow.utils.cancelRestoreFloatingIframeSession = function(){
	sessionStorage.removeItem(verishow.utils.vsSessionStartedParamName);
};
verishow.utils.setSessionStorageInSession= function(){
	sessionStorage.setItem(verishow.utils.vsInSessionParam,"true");
};
verishow.utils.setSessionStorageNotInSession= function(){
	sessionStorage.removeItem(verishow.utils.vsInSessionParam);
};


verishow.utils.waitForJquery = function() {
	try {
		if(verishow.utils.exists(jquery_1_7_1)){
			verishow.utils.query=jquery_1_7_1;
			
			verishow.utils.query(document).ready(verishow.utils.restoreFloatingIframeSession);
			
			//verishow.utils.query(document).ready(verishow.utils.remoteController.init());
			
			if(verishow.utils.exists(verishow.session)){
				//loads dummy details and caf
				//verishow.utils.query(document).ready(verishow.session.preload);
			}
			return;
		}
	} catch (e) {
	}
	if (verishow.utils.load_jquery_limit > 0) {
		verishow.utils.load_jquery_limit = verishow.utils.load_jquery_limit - 1;
		setTimeout("verishow.utils.waitForJquery()", 100);
	}
};

verishow.utils.openMobileWindow = function(url,fromInvite) {
	if(typeof NativeInterface !== "undefined"){
		NativeInterface.openVeriShowSession(url);
	}else if(fromInvite==true){
		 window.location=url;
		 return;
	}else{
		return window.open(url,"_blank");
	}
};



verishow.utils.openSkipDetailsMobile = function(url) {
	try{
		var fc = new FloatingInIframe(parent,verishow.utils.defaultIframeName);
		 fc.redirect(url);
	}catch(e){
		verishow.utils.log.error("utils.openCoBrowsingWindow: " + e);
	}
};

verishow.utils.openCoBrowsingWindow = function(url,width,height,top,left,showPoweredBy) {
	try{
		//HbrCoBrowser.setIframe(url,-2,-2,width,height,true,false);
		var agentImage = Tools.agentImg;
		
		if(verishow.utils.floatingIframe != null){
			verishow.utils.floatingIframe.openURL(url);
			verishow.utils.floatingIframe.show();
		}else{
			Tools.setMetaTag("width=device-width, initial-scale=1, maximum-scale=1 minimum-scale=1 , user-scalable=yes");
			verishow.utils.floatingIframe = new FloatingIframe(url,width,height,null,verishow.utils.defaultIframeName);
			verishow.utils.floatingIframe.enableResize(false);
			verishow.utils.floatingIframe.normal();
			verishow.utils.floatingIframe.moveToCenter();
			
			if(showPoweredBy == "true"){
				verishow.utils.floatingIframe.setPoweredBy();
			}
		
		}

		verishow.utils.floatingIframe.addListener("onEndSessionHandler", verishow.session.onFloatingIframeSessionClose);
	
	}catch(e){
		verishow.utils.log.error("utils.openCoBrowsingWindow: " + e);
	}
};

verishow.utils.restoreScrollBar = function(){
	try{
		document.documentElement.style.overflow=document.body.style.overflow=verishow.utils.overflow;
	}catch(e){}
};

verishow.utils.setPrechatStatus = function(){
	var preChatStatusRequest = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" + verishow.tracking.visit_id + "&aac=" + verishow.proactive.aac + "&status=7&ts=" + new Date().getTime();
	verishow.utils.loadjscssfile(preChatStatusRequest, "js");
};



verishow.utils.alignment_left = "left";
verishow.utils.alignment_right = "right";
verishow.utils.alignment_bottom_left = "bottom_left";
verishow.utils.alignment_bottom_right = "bottom_right";
verishow.utils.alignment_center = "center";
verishow.utils.alignment_default = verishow.utils.alignment_bottom_right;

verishow.utils.getAnimationLeftBefore = function(alignment,width){
	try{
		var win_width = verishow.utils.getAnimationWinWidth();
		
		var left_before = -1;
		if(alignment == verishow.utils.alignment_center){
			left_before  = Tools.getScrollLeft()+(Tools.innerWidth()-width)/2;
		} else if(verishow.utils.alignment_right == alignment){
			left_before = win_width;
		}else if(verishow.utils.alignment_left == alignment){
			left_before = - verishow.utils.html_chat_window_width;
		}else if(verishow.utils.alignment_bottom_left == alignment){
			left_before = verishow.utils.animation_x_offset;
		}else if(verishow.utils.alignment_bottom_right == alignment){
			left_before = win_width - verishow.utils.html_chat_window_width - verishow.utils.animation_x_offset;
		}
		
		return left_before;
	}catch(e){
		console.log("getAminationLeftBefore e" + e);
	}
};

verishow.utils.getAnimationLeftAfter = function(alignment,width,floatingIframe){
	try{
		var win_width = verishow.utils.getAnimationWinWidth();
		
		var left_after = -1;
		if(verishow.deviceDetect.isMobile || alignment == verishow.utils.alignment_center){
			left_after  = Tools.getScrollLeft()+(Tools.innerWidth()-width)/2;
		}else if(verishow.utils.alignment_right == alignment){
			left_after = win_width - verishow.utils.html_chat_window_width - verishow.utils.animation_x_offset;
		}else if(verishow.utils.alignment_left == alignment){
			left_after=verishow.utils.animation_x_offset;
		}else if(verishow.utils.alignment_bottom_left == alignment){
			left_after=verishow.utils.animation_x_offset;
		}else if(verishow.utils.alignment_bottom_right == alignment){
			left_after = win_width - verishow.utils.html_chat_window_width - verishow.utils.animation_x_offset;
		}
		
		return left_after;
	}catch(e){
		console.log("getAminationLeftAfter e" + e);
	}
};

verishow.utils.getAnimationWindowTopFromButtonCenter = function(height){
	var top_from_center_button=0;
	try{
		var button = verishow.utils.query("#hbrlink");
		if(button.length > 0){//exists
			var top_button_middle=button.position().top + button.height()/2;
			top_from_center_button = top_button_middle - verishow.utils.html_chat_window_height/2;
			if(top_from_center_button<0){
				top_from_center_button=0;
			}
		}else{
			top_from_center_button = Tools.getScrollTop()+(Tools.innerHeight()-height)/2;
		}
	}catch(e){
		console.log(e);
	}
	return top_from_center_button;
};

verishow.utils.getAnimationTopBefore = function(alignment,height){
	try{
		var y_scroll_top = verishow.utils.getAnimationScrollTop();
		var win_height = verishow.utils.getAnimationWinHeight();

		var top_from_button_center=verishow.utils.getAnimationWindowTopFromButtonCenter(height);

		var top_before= -1;
		if(alignment == verishow.utils.alignment_center){
			top_before = Tools.getScrollTop()+(Tools.innerHeight()-height)/2;
		}else if(verishow.utils.alignment_right == alignment){
			top_before=top_from_button_center;
		}else if(verishow.utils.alignment_left == alignment){
			top_before=top_from_button_center;
		}else if(verishow.utils.alignment_bottom_left == alignment){
			top_before= win_height + y_scroll_top;
		}else if(verishow.utils.alignment_bottom_right == alignment){
			top_before= win_height + y_scroll_top;
		}
		
		return top_before;
	}catch(e){
		console.log("getAminationTopBefore e" + e);
	}
};

verishow.utils.getAnimationTopAfter = function(alignment,height,floatingIframe){
	try{
		var y_scroll_top = verishow.utils.getAnimationScrollTop();
		var win_height = verishow.utils.getAnimationWinHeight();
		var top_after= -1;
		var top_from_button_center=verishow.utils.getAnimationWindowTopFromButtonCenter(height);
		if(verishow.deviceDetect.isMobile || alignment == verishow.utils.alignment_center){
			top_after = Tools.getScrollTop()+(Tools.innerHeight()-height-floatingIframe.headerHeight)/2;
		}else if(verishow.utils.alignment_right == alignment){
			top_after=top_from_button_center;
		}else if(verishow.utils.alignment_left == alignment){
			top_after=top_from_button_center;
		}else if(verishow.utils.alignment_bottom_left == alignment){
			top_after= win_height  + y_scroll_top - verishow.utils.html_chat_window_height - verishow.utils.animation_y_offset;
		}else if(verishow.utils.alignment_bottom_right == alignment){
			top_after= win_height  + y_scroll_top - verishow.utils.html_chat_window_height - verishow.utils.animation_y_offset;
		}
		
		return top_after;
	}catch(e){
		console.log("getAminationTopAfter e" + e);
	}
};



verishow.utils.getAnimationWinHeight = function(){
	if(verishow.utils.animation_win_height == -1){
		verishow.utils.animation_win_height = verishow.utils.query(window).height();
	}
	return verishow.utils.animation_win_height;
};

verishow.utils.getAnimationWinWidth = function(){
	if(verishow.utils.animation_win_width == -1){
		verishow.utils.animation_win_width = verishow.utils.query(window).width();
	}
	return verishow.utils.animation_win_width;
};

verishow.utils.getAnimationScrollTop = function(){
	//if(verishow.utils.animation_scroll_top == -1){
		verishow.utils.animation_scroll_top = verishow.utils.query(window).scrollTop();
	//}
	return verishow.utils.animation_scroll_top;
};

verishow.utils.animateChatWindow = function(url,alignment,floatingIframe,width,height){
	try{
		if(alignment == ""){
			alignment=verishow.utils.alignment_default;
		}

		var left_before =  verishow.utils.getAnimationLeftBefore(alignment,width);
		var top_before= verishow.utils.getAnimationTopBefore(alignment,height);
		
		var hasScrollBar = verishow.utils.query(document).height() >  verishow.utils.query(window).height();
		floatingIframe.oldHTMLOverflow=document.getElementsByTagName('html')[0].style.overflow;
		floatingIframe.oldBodyOverflow=document.getElementsByTagName('body')[0].style.overflow;
		
		var left_after = verishow.utils.getAnimationLeftAfter(alignment,width,floatingIframe);
		var top_after= verishow.utils.getAnimationTopAfter(alignment,height,floatingIframe);
		
		if(verishow.session.isKioskMode == "false"){
			floatingIframe.setLocation(left_before,top_before);
		
			if (!hasScrollBar) {
				//console.log("hasScrollBar=" + hasScrollBar);
				if(document.documentElement.style.overflow != ""){
					verishow.utils.overflow = document.body.style.overflow;
				}
				if(document.body.style.overflow != ""){
					verishow.utils.overflow = document.body.style.overflow;
				}
				
				document.documentElement.style.overflow=document.body.style.overflow='hidden';
				setTimeout('verishow.utils.restoreScrollBar()',1000);
			}
		}

		if(url != ""){
			floatingIframe.openURL(url);
		}
		
		
		floatingIframe.show();
		
		if(verishow.session.isKioskMode == "false"){
			if (!hasScrollBar) {
				//console.log("hasScrollBar=" + hasScrollBar);
				document.documentElement.style.overflow=document.body.style.overflow='hidden';
				setTimeout('verishow.utils.restoreScrollBar()',1000);
			}
		}

		if(verishow.session.isKioskMode == "true"){
			left_after = left_after + 7;
			floatingIframe.moveTo=function(){};
			floatingIframe.setLocation(left_after,top_after);
			floatingIframe.setLocation=function(){};
		}else{
			floatingIframe.moveTo(left_after,top_after);	
		}

	}catch(e){
		console.log("animate: " + e);	
	}
};

verishow.utils.initHtmlChatWindow = function() {
	try{
		if(verishow.utils.floatingIframe == null){
			Tools.setMetaTag("width=device-width, initial-scale=1, maximum-scale=1 minimum-scale=1 , user-scalable=yes");
			console.log("verishow.utils.initHtmlChatWindow: 1 iframe name=" + sessionStorage[verishow.utils.vsCurrentFloatingIframeNameParam]);
			if(sessionStorage[verishow.utils.vsCurrentFloatingIframeNameParam]==null){
				sessionStorage.setItem(verishow.utils.vsCurrentFloatingIframeNameParam,verishow.utils.defaultIframeName);
			}
			console.log("verishow.utils.initHtmlChatWindow: 2 iframe name=" + sessionStorage[verishow.utils.vsCurrentFloatingIframeNameParam]);
			verishow.utils.floatingIframe = new FloatingIframe(sessionStorage[verishow.utils.vsCurrentFloatingIframeNameParam]);
			
			verishow.utils.floatingIframe.addListener("onEndSessionHandler", verishow.session.onFloatingIframeSessionClose);
			verishow.utils.floatingIframe.isTransperent = true;
			
			verishow.utils.floatingIframe.addListener("onSizeChange",Tools.Delegate(this,function(event){
                if(event.target.minimizeState == event.target.SIZE_FULL){
                	verishow.utils.cancelRestoreFloatingIframeSession();
                }
            }));
			
			verishow.utils.PostMessageManager = new PostMessageManager(verishow.utils,verishow.utils.floatingIframe,window,"verishowUtils");

		}
			
	}catch(e){
		//alert("initHtmlChatWindow error=" + e); 
		verishow.utils.log.error("verishow.utils.initHtmlChatWindow: " + e);
	}
};


verishow.utils.openHtmlChatWindow = function(url,width,height,top,left,fromInvite,alignment,wtitle) {
	try{
		if(!verishow.utils.exists(wtitle)){
			wtitle = "Live Help";	
		}	
		if(fromInvite==true){
			console.log("verishow.utils.openHtmlChatWindow: fromInvite==true verishow.utils.floatingIframe=" + verishow.utils.floatingIframe);
			verishow.utils.floatingIframe.openURL(url);
		}else{
			//console.log("verishow.utils.openHtmlChatWindow: 1");

			sessionStorage.setItem(verishow.utils.vsSessionStartedParamName,true);
			verishow.utils.initHtmlChatWindow();
			//console.log("verishow.utils.openHtmlChatWindow: 2");

			verishow.utils.floatingIframe.setTitleText(wtitle);
			verishow.utils.floatingIframe.enableResize(false);
			if(verishow.session.isKioskMode == "true"){
				alignment=verishow.utils.alignment_center;	
				height = 600;
				width = 980;	
				//console.log("verishow.utils.openHtmlChatWindow: kiosk = true");
			}
			
			
			//verishow.utils.floatingIframe.setWindowSize(width,height);
			//verishow.utils.animateChatWindow(url,alignment,verishow.utils.floatingIframe,width,height);
			
			if(verishow.session.isKioskMode == "true"){
				//console.log("verishow.utils.openHtmlChatWindow: kiosk 2 true");
				verishow.utils.animateChatWindow(url,alignment,verishow.utils.floatingIframe,width,height);
				verishow.utils.floatingIframe.setWindowSize(width,height);
			}else{
				//if(verishow.utils.isCustomerInvitationMode){
				if(verishow.session.startWithContent == "true"  && verishow.session.skipDetails == "true" ){
				//	console.log("verishow.utils.openHtmlChatWindow: start with content");
					verishow.utils.floatingIframe.setLocation(5,5);
					
					verishow.utils.floatingIframe.paddingLeft = 5;
					verishow.utils.floatingIframe.paddingRight = -5;
					verishow.utils.floatingIframe.paddingTop = 5;
					verishow.utils.floatingIframe.paddingBottom = -5;
					
					verishow.utils.floatingIframe.draggableDiv.style.background="#FFFFFF";
					verishow.utils.floatingIframe.draggableDiv.style.opacity =  1.0;
				    
					verishow.utils.floatingIframe.fullScreen();
					if(url != ""){
						verishow.utils.floatingIframe.openURL(url);
					}
					verishow.utils.floatingIframe.show();
				}if(width == -1 && height == -1){//full size
					//console.log("verishow.utils.openHtmlChatWindow: max window size");
					verishow.utils.floatingIframe.setLocation(20,20);
					verishow.utils.floatingIframe.fullScreen();
					if(url != ""){
						verishow.utils.floatingIframe.openURL(url);
					}
					verishow.utils.floatingIframe.show();
				}else{
				//	console.log("verishow.utils.openHtmlChatWindow: 3");
					if(alignment == verishow.utils.alignment_center){
						verishow.utils.floatingIframe.setLocation(Tools.getScrollLeft()+(Tools.innerWidth()-width)/2, Tools.getScrollTop()+(Tools.innerHeight()-height)/2);
					}
					//verishow.utils.floatingIframe.setWindowSize(width,height);
				//}else {
					//console.log("verishow.utils.openHtmlChatWindow:set size width=" + width + "; height=" + height);
					verishow.utils.floatingIframe.setWindowSize(width,height);
					verishow.utils.animateChatWindow(url,alignment,verishow.utils.floatingIframe,width,height);
					
					//console.log("verishow.utils.openHtmlChatWindow: DONE");
				}
			}
			
			verishow.utils.floatingIframe.isEndSessiuonByRoot = true;
		}	
	}catch(e){
		verishow.utils.log.error("verishow.utils.openHtmlChatWindow: " + e);
	}
};


verishow.utils.initJavaDetection = function() {
	try{
		var fileref = "https://platform4.verishow.com/Javascripts/deployJava.js";
		verishow.utils.loadjscssfile(fileref, "js");
	}catch(e){
		verishow.utils.log.error("utils.initJavaDetection: " + e);
	}

};

verishow.utils.isJavaInstall = function() {
	try{
		var isReady=false;
	    try{
	       isReady=jsReady;
	     }catch(err){}
	     if(isReady){
	 		var list=deployJava.getJREs();
	 	    	if(list!= null && list.length>0){
	 	    	return true;
	 	   	}else {
	 	    		return false;
	 	    	}
	 	    }else{
	 	    	setTimeout(verishow.utils.isJavaInstall(),5000);
	 	    	return false;
	 	    }
		
	}catch(e){
		verishow.utils.log.error("utils.isJavaInstall: " + e);
	}
    return false;
};


verishow.utils.createIFrame= function(){
	try{
		verishow.utils.iframeWindow = document.createElement('iframe');
		verishow.utils.iframeWindow.style.position='absolute';
		verishow.utils.iframeWindow.style.top=0+'px';
		verishow.utils.iframeWindow.style.left=0+'px';
		verishow.utils.iframeWindow.height=0;
		verishow.utils.iframeWindow.width=0;
		verishow.utils.iframeWindow.id='generalIframe';
		window.document.body.appendChild(verishow.utils.iframeWindow);
	}
	catch(e){
		verishow.utils.log.error("utils.createIFrame"+e);
	}
	};

	verishow.utils.showIframe=function(url){
		try{
			verishow.utils.iframeWindow.src=url;
			verishow.utils.iframeWindow.style.display = 'block';		
		}
		catch(e){
			verishow.utils.log.error("utils.showIframe"+e);
		}
	};

	verishow.utils.isIframeVisible=function(){
		try{
			if((verishow.utils.exists(verishow.utils.iframeWindow)==true) && (verishow.utils.iframeWindow.style.display == 'block'))
				return true;
			else
				return false;
		}
		catch(e){
			verishow.utils.log.error("utils.isIframeVisible "+e);
		}
	};

	verishow.utils.hideIframe=function(){
		try{
			verishow.utils.iframeWindow.src="about:blank";
			verishow.utils.iframeWindow.style.display = 'none';		
		}
		catch(e){
			verishow.utils.log.error("utils.hideIframe "+e);
		}
	};

	verishow.utils.resizeIframe=function(left,top,width,height){
		try{
			verishow.utils.iframeWindow.style.top = top+"px";
			verishow.utils.iframeWindow.style.left = left+"px";
			verishow.utils.iframeWindow.width = width+"px";
			verishow.utils.iframeWindow.height = height+"px";		
		}
		catch(e){
			verishow.utils.log.error("utils.resizeIframe "+e);
		}
	};
	
	
	verishow.utils.hasRequiredFlashVersion=function(){
		try{
			if(verishow.utils.exists(FlashDetect)){
				return FlashDetect.versionAtLeast("11.2.0".replace(".",","));
			}
			if (verishow.utils.load_swfobject_limit > 0) {
				verishow.utils.load_swfobject_limit = verishow.utils.load_swfobject_limit - 1;
				setTimeout("verishow.utils.hasRequiredFlashVersion()", 100);
			}
			
		}
		catch(e){
			verishow.utils.log.error("utils.hasRequiredFlashVersion "+e);
		}
	};
	
	verishow.utils.hasFlashVersion=function(major,minor,revision){
		try{
			if(verishow.utils.exists(FlashDetect)){
				return FlashDetect.versionAtLeast(major,minor,revision);
			}
			if (verishow.utils.load_swfobject_limit > 0) {
				verishow.utils.load_swfobject_limit = verishow.utils.load_swfobject_limit - 1;
				setTimeout("verishow.utils.hasRequiredFlashVersion()", 100);
			}
			
		}
		catch(e){
			verishow.utils.log.error("utils.hasRequiredFlashVersion "+e);
		}
	};
	
	verishow.utils.getFlashVersion=function(){
		try{
			if(verishow.utils.exists(FlashDetect)){
				var fp= FlashDetect.major + "." + FlashDetect.minor + "." + FlashDetect.revision;
				return fp;
			}
			if (verishow.utils.load_swfobject_limit > 0) {
				verishow.utils.load_swfobject_limit = verishow.utils.load_swfobject_limit - 1;
				setTimeout("verishow.utils.getFlashVersion()", 100);
			}
			
		}
		catch(e){
			verishow.utils.log.error("utils.hasRequiredFlashVersion "+e);
		}
	};
	
	verishow.utils.sendRequest=function(request){
		try{
			var xmlhttp;
			if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
					xmlhttp=new XMLHttpRequest();
			}else{// code for IE6, IE5
					xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				}
			
			xmlhttp.open("GET",request,false);
			xmlhttp.send();
			
		}
		catch(e){
			verishow.utils.log.error("utils.sendRequest "+e);
		}
	};
	
verishow.utils.Delegate = function (o, f) {
    var a = new Array();
    var l = arguments.length;
    for (var i = 2; i < l; i++) a[i - 2] = arguments[i];
    return function () {
        var aP = [].concat(arguments, a);
        try{
            f.apply(o, aP[0]);
        }catch(e){
        }
    }
};
	
verishow.utils.generateGUID = (typeof(window.crypto) != 'undefined' && 
            typeof(window.crypto.getRandomValues) != 'undefined') ?
function() {
    try{
        var buf = new Uint16Array(8);
        window.crypto.getRandomValues(buf);
        var S4 = function(num) {
            var ret = num.toString(16);
            while(ret.length < 4){
                ret = "0"+ret;
            }
            return ret;
        };
        return (S4(buf[0])+S4(buf[1])+"-"+S4(buf[2])+"-"+S4(buf[3])+"-"+S4(buf[4])+"-"+S4(buf[5])+S4(buf[6])+S4(buf[7]));
    }catch(e){
    	verishow.utils.log.error("utils.generateGUID 1 "+e);
    }

}:function() {
    try{
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
            return v.toString(16);
        });
    }catch(e){
    	verishow.utils.log.error("utils.generateGUID 2 "+e);
    }
};

verishow.utils.trackCallButton = function(){
	//this function will be called each time verishow call button is clicked
	//VeriShow customers can override this function to add their actions on this event: like sending google analytics event
};


verishow.utils.onFloatingIframeClose = function(){
	//this function will be called each time verishow floating iframe is closed
	//VeriShow customers can override this function to add their actions on this event.
};


/*
verishow.utils.sendButtonClickToClientsGA = function(data){
	try{
		_gaq.push(['VeriShow._trackEvent', 'VeriShow', 'Call button clicked', data]);
	}catch(e){
		console.log(e);
	}
};
*/




verishow.utils.getCurrentUrl = function(encodeAmp){
	var originalUrl="";
	try{
		originHost = window.location.protocol + "//" + window.location.host;
		originalUrl = originHost + window.location.pathname;

		var query = location.search.substring(1);	
		if(verishow.utils.exists(query) && encodeAmp == true){
			query=query.replace(/&/g,"_and_");
		}
		
		if(query.trim() != ""){
			originalUrl += "?" + query;
		}
		
		return originalUrl;
	}catch(e){
	}
	return "";
};

verishow.utils.getBrowserVersion=function(){
	try{
		return verishowplatform.version;
	}catch(e){
		verishow.utils.log.error("verishow.utils.getBrowserVersion: "+e);
	}
};
	
verishow.utils.getOSVersion=function(){
	try{
		return verishowplatform.os.version;
	}catch(e){
		verishow.utils.log.error("verishow.utils.getOSVersion: "+e);
	}
};

verishow.utils.getDevice=function(){
	try{
		var currentDevice="PC";
        if(Device.isIos ==true || Device.isAndroid==true){
            currentDevice="Mobile_";
            if(Device.isIos ==true)
                currentDevice+="iPhone"
            else if(Device.isTablet==true)
                currentDevice+="Android_Tablet";
            else
                currentDevice+="Android";
        }
        return currentDevice;
	}catch(e){
		verishow.utils.log.error("verishow.utils.getDevice: "+e);
	}
};
verishow.utils.getScreenResolution=function(){
	try{
		return screen.width+"X"+screen.height;
	}catch(e){
		verishow.utils.log.error("verishow.utils.getOSVersion: "+e);
	}
};


if (verishow.utils.remoteController == null || typeof (verishow.utils.remoteController) == "undefined"){
	verishow.utils.remoteController = {
			inited: false,
			id: new Date().getTime(),
			
	        init: function(){
	        	try{
	        		//console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: init");
		        	if(this.inited == false){
		        		 remoteControlClient.init(this,"https://platform4.verishow.com/files/htmlVersion/102en/frameworks/remoteControl/remoteControl.html","vsRemoteControllerIframe");
		        		 this.callBacksObj = new Object();
		        		this.inited=true;
		        		//console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: INITED");
		        	}
	        	}catch(e){
	        		//alert("verishow.utils.remoteController.init error=" + e);
	        		console.log(e);
	        		//TODO implement recovery : setTimeout("verishow.utils.remoteController.init()",2000);
	        	}
	        },
	        remoteControlReady:function(){
	          console.log(verishow.utils.remoteController.id + ": verishow.utils.removeController: connection ready");
	          
	        },
	        send:function(url,postData,contentType, timeout, onSuccess, onError){
	        	try{
	        		//console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: SEND");
	        		if(this.inited == false){
	        		//	console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: SEND this.inited == false -> return");
	        			onError("connector not ready","");
	        			return;
	        		}
	        		
		        	var callBackData = {success:onSuccess, error : onError};
		        	var id = new Date().getTime();
		        	
		        	this.callBacksObj[id] = callBackData;
		        	
				    this.callRemoteFunction(url,"onSuccess",postData,"onError",id,timeout,"text/plain");
				    
				    //console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: SEND after call remote with this.callBacksObj["+id+"].success=" + this.callBacksObj[id].success);
	        	}catch(e){
	        		console.log(e);
	        		
	        	}
	        },
	       	        
	        onSuccess:function(data,callBackData,status){
	        	try{
	        		//console.log(verishow.utils.remoteController.id + ": verishow.utils.remoteController: ONSUCCESS callBackData=" + callBackData + "; this.callBacksObj[" + callBackData + "]" + this.callBacksObj[callBackData]);
		            this.callBacksObj[callBackData].success(data);
		            delete this.callBacksObj[callBackData];
	            }catch(e){
	        		console.log(verishow.utils.remoteController.id + ": " + e);
	        	}
	        },
	        onError:function(callBackData,statusText,errorThrown){
	        	try{
		            this.callBacksObj[callBackData].error(statusText,errorThrown);
		            delete this.callBacksObj[callBackData];
	            }catch(e){
	        		console.log(e);
	        	}
	        }
	};
	
	
	verishow.utils.remoteController.init();
}

verishow.utils.webrtc=null;
verishow.utils.screenSharingSessionId=null;//set by verishow.utils.AddChomeExtension
verishow.utils.AddChomeExtension=function(screenSharingSessionId){
	try{
		console.log("AddChomeExtension!");
		verishow.utils.screenSharingSessionId=screenSharingSessionId;
	    chrome.webstore.install("https://chrome.google.com/webstore/detail/ocamoakgniajkjbbhnmbpgpibnniijag",verishow.utils.onInstalledSuccess,verishow.utils.onInstalledFailed);
	}catch(e){
		console.log("AddChomeExtension error:" + e);
	}
}

verishow.utils.stopScreenShare=function(){
	try{
		verishow.utils.webrtc.stopScreenShare();
	}catch(e){
		console.log("stopScreenShare error:" + e);
	}
}

verishow.utils.uninstallScreenShare=function(){
	try{
        var extensionId = 'ocamoakgniajkjbbhnmbpgpibnniijag';
        chrome.runtime.sendMessage(extensionId,{type:'uninstallExt', id: 1},null,function(e){});
	}catch(e){
		console.log("verishow.utils.uninstallScreenShare error:" + e);
	}
}


verishow.utils.startScreenSharing=function(screenSharingSessionId){
	try{
		console.log("startScreenSharing: screenSharingSessionId=" + screenSharingSessionId);
		verishow.utils.screenSharingSessionId=screenSharingSessionId;
	    verishow.utils.onInstalledSuccess();
	}catch(e){
		console.log("startScreenSharing error:" + e);
	}
}

verishow.utils.onInstalledSuccess=function(){
	try{
		console.log("onInstalledSuccess!");
		
		
		var localVideoContainer = document.getElementById("localVideoContainer");
		if(!verishow.utils.exists(localVideoContainer)){
			localVideoContainer = document.createElement("div");
			localVideoContainer.setAttribute("id", "localVideoContainer");
			localVideoContainer.style.display="none";
			document.getElementsByTagName("body")[0].appendChild(localVideoContainer);
		}

		var remoteVideoContainer = document.getElementById("remoteVideoContainer");
		if(!verishow.utils.exists(remoteVideoContainer)){
			remoteVideoContainer = document.createElement("div");
			remoteVideoContainer.setAttribute("id", "remoteVideoContainer");
			remoteVideoContainer.style.display="none";
			document.getElementsByTagName("body")[0].appendChild(remoteVideoContainer);
		}

		verishow.utils.webrtc = new SimpleWebRTC({
	        localVideoEl: 'localVideoContainer',
	        remoteVideosEl: 'remoteVideoContainer',
	        autoRequestMedia: false,
	        debug: false,
	        detectSpeakingEvents: false,
	        autoAdjustMic: false});
		
		verishow.utils.webrtc.on('readyToCall', function () {
			console.log("readyToCall");
			verishow.utils.webrtc.joinRoom(verishow.utils.screenSharingSessionId,function(roomDescription){
				console.log("before verishow.utils.startScreenSharingWithDelay call");
				setTimeout(verishow.utils.startScreenSharingWithDelay,1000);
			});
		});
		
		
	}catch(e){
		console.log("onInstalledSuccess error:" + e);
	}
}

verishow.utils.startScreenSharingWithDelay =function(){
	console.log("verishow.utils.startScreenSharingWithDelay");
	verishow.utils.webrtc.shareScreen(function (obj) {
        try{
             console.log("startSS ",obj);
        }catch(err){
             console.log("startSS error ",err);
        }
    });	
}
verishow.utils.onInstalledFailed=function(data){
	try{
		console.log("onInstalledFailed!",data);
	}catch(e){
		console.log("onInstalledFailed error:" + e,data);
	}
}
verishow.utils.initChomeExtension=function(){
	try{
		var chomeExtension = document.createElement("link");
		chomeExtension.setAttribute("rel", "chrome-webstore-item");
		chomeExtension.setAttribute("href", "https://chrome.google.com/webstore/detail/ocamoakgniajkjbbhnmbpgpibnniijag");
		document.getElementsByTagName("head")[0].appendChild(chomeExtension);
	}catch(e){
		console.log("initChomeExtension error:" + e);
	}
}	

verishow.utils.shouldRedirectToIponeNativeAppLink=function(accountRedirectIphoneUserToNativeApp){
	try{

		//var standalone = window.navigator.standalone;
		var msg = "verishow.utils.shouldRedirectToIponeNativeAppLink: accountRedirectIphoneUserToNativeApp=" + accountRedirectIphoneUserToNativeApp + "; verishow.deviceDetect.isIos=" + verishow.deviceDetect.isIos + "; verishow.utils.isChrome()=" + verishow.utils.isChrome() + "; verishow.utils.isSafari()=" + verishow.utils.isSafari();
		console.log(msg);
		verishow.utils.log.debug(msg);
		
		if(accountRedirectIphoneUserToNativeApp == "true" && verishow.deviceDetect.isIos && (verishow.utils.isSafari() || verishow.utils.isChrome())){ //}!standalone){
			verishow.utils.log.debug("verishow.utils.shouldRedirectToIponeNativeAppLink: returning TRUE");
			return true;
		}
		verishow.utils.log.debug("verishow.utils.shouldRedirectToIponeNativeAppLink: returning FALSE");
	}catch(e){
		console.log("verishow.utils.shouldRedirectToIponeNativeAppLink error:" + e);
		verishow.utils.log.error("verishow.utils.shouldRedirectToIponeNativeAppLink error:" + e);
	}
	return false;
}	

verishow.utils.redirectToIponeNativeAppLink=function(iphoneItunesAppUrl,iphoneItunesAppName,callTargetParam){
	try{
		setTimeout(function () { window.location = iphoneItunesAppUrl; }, 205);
		var url = iphoneItunesAppName + "://";
		if(callTargetParam != ""){
			url += "?" + callTargetParam;
		}
		window.location = url;
		
	}catch(e){
		console.log("verishow.utils.redirectToIponeNativeAppLink error:" + e);
	}
}	

//remove before release CHECKTOREMOVEBEFORERELEASE1
verishow.utils.initChomeExtension();

verishow.utils.init();
verishow.utils.compression = {};

verishow.utils.compression.compress = function(str_to_compress) {
	try {
		var isBase64 = false;
	
		if(!verishow.utils.compression.containsAllAscii(str_to_compress)){
			isBase64=true;
			str_to_compress=verishow.utils.compression.Base64.encode(str_to_compress);
		}

		return Number(isBase64) + verishow.utils.compression.LZW.compress(str_to_compress);
	} catch (e) {
		verishow.utils.log.error("verishow.utils.compression: " + e);
	}
};

verishow.utils.compression.decompress = function(str_to_decompress) {
	try {
		var isBase64 = str_to_decompress.charAt(0);
		str_to_decompress = str_to_decompress.substring(1);
		var result = verishow.utils.compression.LZW.decompress(str_to_decompress);
		if(isBase64 == Number(true)){
			result = verishow.utils.compression.Base64.decode(result);
		}
		return result;
	} catch (e) {
		verishow.utils.log.error("verishow.utils.decompress: " + e);
	}
};

verishow.utils.compression.containsAllAscii = function(str) {
    return  /^[\000-\255]*$/.test(str) ;
};


verishow.utils.compression.Base64 = {
	// private property
	_keyStr : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
 
	// public method for encoding
	encode : function (input) {
		var output = "";
		var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
		var i = 0;
 
		input = verishow.utils.compression.Base64._utf8_encode(input);
 
		while (i < input.length) {
 
			chr1 = input.charCodeAt(i++);
			chr2 = input.charCodeAt(i++);
			chr3 = input.charCodeAt(i++);
 
			enc1 = chr1 >> 2;
			enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
			enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
			enc4 = chr3 & 63;
 
			if (isNaN(chr2)) {
				enc3 = enc4 = 64;
			} else if (isNaN(chr3)) {
				enc4 = 64;
			}
 
			output = output +
			this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +
			this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
 
		}
 
		return output;
	},
 
	// public method for decoding
	decode : function (input) {
		var output = "";
		var chr1, chr2, chr3;
		var enc1, enc2, enc3, enc4;
		var i = 0;
 
		input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
 
		while (i < input.length) {
 
			enc1 = this._keyStr.indexOf(input.charAt(i++));
			enc2 = this._keyStr.indexOf(input.charAt(i++));
			enc3 = this._keyStr.indexOf(input.charAt(i++));
			enc4 = this._keyStr.indexOf(input.charAt(i++));
 
			chr1 = (enc1 << 2) | (enc2 >> 4);
			chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
			chr3 = ((enc3 & 3) << 6) | enc4;
 
			output = output + String.fromCharCode(chr1);
 
			if (enc3 != 64) {
				output = output + String.fromCharCode(chr2);
			}
			if (enc4 != 64) {
				output = output + String.fromCharCode(chr3);
			}
 
		}
 
		output = verishow.utils.compression.Base64._utf8_decode(output);
 
		return output;
 
	},
 
	// private method for UTF-8 encoding
	_utf8_encode : function (string) {
		string = string.replace(/\r\n/g,"\n");
		var utftext = "";
 
		for (var n = 0; n < string.length; n++) {
 
			var c = string.charCodeAt(n);
 
			if (c < 128) {
				utftext += String.fromCharCode(c);
			}
			else if((c > 127) && (c < 2048)) {
				utftext += String.fromCharCode((c >> 6) | 192);
				utftext += String.fromCharCode((c & 63) | 128);
			}
			else {
				utftext += String.fromCharCode((c >> 12) | 224);
				utftext += String.fromCharCode(((c >> 6) & 63) | 128);
				utftext += String.fromCharCode((c & 63) | 128);
			}
 
		}
 
		return utftext;
	},
 
	// private method for UTF-8 decoding
	_utf8_decode : function (utftext) {
		var string = "";
		var i = 0;
		var c = c1 = c2 = 0;
 
		while ( i < utftext.length ) {
 
			c = utftext.charCodeAt(i);
 
			if (c < 128) {
				string += String.fromCharCode(c);
				i++;
			}
			else if((c > 191) && (c < 224)) {
				c2 = utftext.charCodeAt(i+1);
				string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
				i += 2;
			}
			else {
				c2 = utftext.charCodeAt(i+1);
				c3 = utftext.charCodeAt(i+2);
				string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
				i += 3;
			}
 
		}
 
		return string;
	}
 
};


verishow.utils.compression.LZW = {
    compress: function (uncompressed) {
        "use strict";
        // Build the dictionary.
        var i,
            dictionary = {},
            c,
            wc,
            w = "",
            result = [],
            dictSize = 256;
        for (i = 0; i < 256; i += 1) {
            dictionary[String.fromCharCode(i)] = i;
        }
 
        for (i = 0; i < uncompressed.length; i += 1) {
            c = uncompressed.charAt(i);
            wc = w + c;
            if (dictionary[wc]) {
                w = wc;
            } else {
                result.push(dictionary[w]);
                // Add wc to the dictionary.
                dictionary[wc] = dictSize++;
                w = String(c);
            }
        }
 
        // Output the code for w.
        if (w !== "") {
            result.push(dictionary[w]);
        }
        return result;
    },
 
 
    decompress: function (compressed) {
        "use strict";
        // Build the dictionary.
		compressed = compressed.split(",");
        var i,
            dictionary = [],
            w,
            result,
            k,
            entry = "",
            dictSize = 256;
        for (i = 0; i < 256; i += 1) {
            dictionary[i] = String.fromCharCode(i);
        }
 
        w = String.fromCharCode(compressed[0]);
        result = w;
        for (i = 1; i < compressed.length; i += 1) {
            k = compressed[i];
            if (dictionary[k]) {
                entry = dictionary[k];
            } else {
                if (k == dictSize) {
                    entry = w + w.charAt(0);
                } else {
                    //return null;
					 return result;
                }
            }
 
            result += entry;
 
            // Add w+entry[0] to the dictionary.
            dictionary[dictSize++] = w + entry.charAt(0);
 
            w = entry;
        }
        return result;
    }
};verishow.utils.coBrowser = {
		iFrameInitlized : false,
	    iframe : null,
	    iframeContent: null,
	    iFrameWidth: 0 ,
	    iFrameHeight: 0 ,
	    iFrameTop : 0,
	    iFrameLeft: 0,
	    mouseImage: null,
	    tabOnFocus: false,
	    lastMouseX : 0,
	    lastMouseY : 0,
		currentWidth: 0,
		currentHeight: 0,
        mouseFollow : false,
        animateClick: false,
        isLivePerson: false,
        expertMode: true,
		
		init: function(){
			this.createIFrame();
		},
				
		// scroll
	    onScroll : function(){
	    	if(this.sendScrollerChange == false){
	             return;
	        }
	        window.clearTimeout(this.scrollEndTimer);
	        this.scrollEndTimer = setTimeout(this.Delegate(this,this.scrollEndTimerHangler),500);
	    },
	    
	    getScrollLeft: function(){
			 if(this.iframe.contentWindow.document.documentElement.scrollLeft >0){
				return this.iframe.contentWindow.document.documentElement.scrollLeft;
			 }
			 else{
				return this.iframe.contentWindow.document.body.scrollLeft;
			 }
	    },
    	getScrollTop: function(){
    	 if(this.iframe.contentWindow.document.documentElement.scrollTop > 0){
	    	 return this.iframe.contentWindow.document.documentElement.scrollTop;
    	 }else{
	    	 return this.iframe.contentWindow.document.body.scrollTop;
    	 }	    		
    	},
	    scrollEndTimerHangler : function(){
	        this.callFunction("setScrollerPosition",this.getScrollTop(),this.getScrollLeft());
	        if(this.isLivePerson==true)
	         this.sendScrollPos("setScrollerPosition",this.getScrollTop(),this.getScrollLeft());
	    }, 
	    	    	   
	    sendScrollPos : function(functionName){
	    		var params = new Array();
	    		var funcParams="";
         		for(var i=0;i<arguments.length;i++){
    			   params.push(arguments[i]);
    			   funcParams+=arguments[i]+";";
    		    }
 	    		 params.shift();
			try{
		         var flash=document.getElementById("myDynamicContent");
		         flash.cbSendScrollPos(funcParams);
        	   }
	    	catch(err){
	    		alert("callFunction = "+err);
	    	}
	    },
	    
	    changeScrollerPos: function (functionName,args){
	    this.setScrollerPosition(args[0],args[1]);
	    },
	    
	    
	    setScrollerPosition : function(top,left){
	    	try
	    	{
	    	//alert("setScrollerPosition");
	    	this.sendScrollerChange = false;
	    	if(top != this.iframe.contentWindow.document.body.scrollTop){
                this.scrollingY = true;
                this.expertScrollTweenY.continueTo(top,0.5);
            }else{
                this.scrollingY = false;
            }
            if(left != this.iframe.contentWindow.document.body.scrollLeft){
                this.scrollingX = true;
                this.expertScrollTweenX.continueTo(left,0.5);
            }else{
                 this.scrollingX = false;
            }
            this.enableScrollerChangeTimer = setTimeout(this.Delegate(this,this.enableScrollerChange),4000);
	    	}
	    	catch(err){
	    	alert("setScrollerPosition Error "+err);
	    	}
	    
	    },
		onMouseMove : function(e){
	       var diff = new Date().getTime()-this.lastTimeSend;
	       var my;
	       var mx;
	       if( e[0] != null ) e = e[0];
	       if(e.touches == null){
	             if (!e) e = window.event;
	             if (typeof e.pageY == 'number'){
	                my = e.pageY;
	                mx = e.pageX;
	             }else{
	                my = e.clientY;
	                mx = e.clientX;
	             }
	       }else{

	            var touch = e.touches[0];
	            my = touch.pageY;
	            mx = touch.pageX;
	       }
	       if(this.lastMouseX != mx || this.lastMouseY != my){
	           this.lastMouseX = mx;
	           this.lastMouseY = my;
	           if(diff < 300){
	                return;
	           }
	           this.sendMousePosition(true);
	       }
	    },
        expertClick: function(){
            this.callFunction("onExpertClick",this.lastMouseX,this.lastMouseY);
        },

        onExpertClick: function(clickX,clickY){
            this.mouseMove(clickX,clickY);
            this.animateClick=true;
        },

	    sendMousePosition: function(t){
	        this.lastTimeSend = new Date().getTime();
	        //console.log("mouse move send "+this.lastMouseX+" , "+this.lastMouseY);
	        this.callFunction("mouseMove",this.lastMouseX,this.lastMouseY);
	        window.clearTimeout(this.resendMouseTimerHandler);
	        if(t){
	            this.resendMouseTimerHandler = setTimeout(this.Delegate(this,this.sendMousePosition),2000,false);
	        }
	     },
	     mouseMove : function(x,y){
	    	  y -= 8;
             this.expertMouseLastPositionX = x;
             this.expertMouseLastPositionY = y;
             if(!this.animateClick){
                 this.expertMouseTweenX.continueTo(x,1);
                 this.expertMouseTweenY.continueTo(y,1);
             }else{
                 setTimeout(this.Delegate(this,this.tryMoveExpertMouse),2000);
             }
             if(this.mouseFollow){
                 this.scrollToMousePosition(x,y);
             }
	     },

       tryMoveExpertMouse: function(){
           this.mouseMove(this.expertMouseLastPositionX,this.expertMouseLastPositionY);
       },

       scrollToMousePosition : function(x,y){
        if(this.sendScrollerChange == false){
            return;
        }
        // fix scrollers if mouse out of focus follow mouse
        var fixScroll = false;
        var left = this.iframe.contentWindow.document.body.scrollLeft;
        var top = this.iframe.contentWindow.document.body.scrollTop;
        if(parseFloat(this.iframe.width)+parseFloat(this.iframe.contentWindow.document.body.scrollLeft) < x || x < parseFloat(this.iframe.contentWindow.document.body.scrollLeft)){
            fixScroll = true;
            left  = (x-parseFloat(this.iframe.width)/2);

        }
        if(parseFloat(this.iframe.height)+parseFloat(this.iframe.contentWindow.document.body.scrollTop) < y || y < parseFloat(this.iframe.contentWindow.document.body.scrollTop)){
            fixScroll = true;
            top = (y-parseFloat(this.iframe.height)/2);
        }
        if(fixScroll){
            this.scrollTo(top,left);
        }
       },

    scrollTo: function(top,left){
	  if(this.isLivePerson==false)
      {
        //console.log("ScrollTo: top="+top+" left= "+left);
        this.sendScrollerChange = false;
        // scrollers move
        if(top != this.iframe.contentWindow.document.body.scrollTop){
            this.scrollingY = true;
            //console.log("expertScrollTweenY.continueTo - top "+top);
            this.expertScrollTweenY.continueTo(top,0.5)
        }else{
            this.scrollingY = false;
        }
        if(left != this.iframe.contentWindow.document.body.scrollLeft){
            this.scrollingX = true;
            //console.log("expertScrollTweenX.continueTo - left "+left);
            this.expertScrollTweenX.continueTo(left,0.5)
        }else{
            this.scrollingX = false;
        }
        this.enableScrollerChangeTimer = setTimeout(this.Delegate(this,this.enableScrollerChange),4000);
       }
    },

		setIsLivePerson: function(value){
		this.isLivePerson=value;
		},

		setIsExpertMode: function(value){
		this.expertMode=value;
		},
		
    createIFrame: function(){
			try{
				if(this.iFrameInitlized){
					return;
				}
				if(this.isLivePerson==true)
				{				
					this.iframe = this.create('<iframe style="position: absolute; top: 0px ; left: 0px;z-index: 100000;" id="coBrowserIframe" width="0px" height="0px" scrolling="no"></iframe>');
	            window.document.body.appendChild(this.iframe);
	            this.iframe = document.getElementById("coBrowserIframe");
	            this.iframe.contentWindow.document.open();
	            this.iframe.contentWindow.document.write('<iframe style="position: absolute;  top: 0px ; left: 0px;z-index: 10000000;" id="coBrowserIframeContent" scrolling="yes" frameborder="0" marginwidth="0" marginheight="0" width="100%" height="100%"></iframe>');  
   	            this.iframe.contentWindow.document.close();
	            }
	            else
	            {
				this.iframe = this.create('<iframe style="position: absolute; top: 0px ; left: 0px;z-index: 100000;" id="coBrowserIframe" width="0px" height="0px"></iframe>');
	            window.document.body.appendChild(this.iframe);
	            this.iframe = document.getElementById("coBrowserIframe");
	            this.iframe.contentWindow.document.open();
	            this.iframe.contentWindow.document.write('<iframe style="position: absolute;  top: 0px ; left: 0px;z-index: 10000000;" id="coBrowserIframeContent" scrolling="no" frameborder="0" marginwidth="0" marginheight="0" width="0" height="0"></iframe>');  	            
                this.iframe.contentWindow.document.write('<div id="cursorElement" style="position: absolute; top: 0px ; left: 0px;z-index: 100000000000000;">'
	                +'   <img id="cursorImage" style="position: absolute;left:0px;top:0px;" SRC="https://www.hbrtest3.com/resources/cobrowser/server/cursor.png"><br />'
                    +'   <img id="myCursorImageAnimation" style="position: absolute; visibility: hidden;;left:-45px;top:-45px;" id="cursorClickAnimation" SRC="https://www.hbrtest3.com/resources/cobrowser/server/animationClick.gif">'
	                +'</div>');
   	            this.iframe.contentWindow.document.close();
	            }
	            this.iFrameInitlized = true;

	        if(this.isLivePerson==false)
			{			
   	            if(typeof window.addEventListener != 'undefined') {
		            this.iframe.contentWindow.document.addEventListener("scroll", this.onScroll.bind(this), false);
		        }
		        else if(typeof window.attachEvent != 'undefined') {
		        	this.iframe.contentWindow.document.body.onscroll =this.Delegate(this,this.onScroll);
		        }
	            /// documentElement or body
	            this.expertScrollTweenY = new CBMotionTween(this.iframe.contentWindow.document.body, 'scrollTop', CBMotionTween.regularEaseInOut, 5, 500 , 1, '');
	            this.expertScrollTweenY.onMotionFinished = this.Delegate(this,this.expertScrollTweenYFinish);
	            this.expertScrollTweenX = new CBMotionTween(this.iframe.contentWindow.document.body, 'scrollLeft', CBMotionTween.regularEaseInOut, 5, 500 , 1, '');
	            this.expertScrollTweenX.onMotionFinished = this.Delegate(this,this.expertScrollTweenXFinish);


				this.mouseImage = this.iframe.contentWindow.document.getElementById("myCursorElement");
                this.cursorImageAnimation=this.iframe.contentWindow.document.getElementById("myCursorImageAnimation");
                
	            // set mouse image Twee motion
	            this.expertMouseTweenX = new CBMotionTween(this.mouseImage.style, 'left', CBMotionTween.regularEaseInOut, 5, 500 , 1, 'px');
                this.expertMouseTweenY = new CBMotionTween(this.mouseImage.style, 'top', CBMotionTween.regularEaseInOut, 5, 500 , 1, 'px');
                this.expertMouseTweenX.onMotionFinished=this.Delegate(this,this.mouseMoveFinish);
                this.expertMouseTweenY.onMotionFinished=this.Delegate(this,this.mouseMoveFinish);
                
                
                this.iframeContent = this.iframe.contentWindow.document.getElementById("coBrowserIframeContent");
	        }
	        else
	        {
			  this.iframe.contentWindow.document.close();     
              this.iframeContent = this.iframe.contentWindow.document.getElementById("coBrowserIframeContent");
	        }
		   
   	           
		}
			catch(err){
				alert("createIFrame = "+err);
			}
		},
		onIEScroll: function(){
			try{
//				alert("Scrolled");
			}
			catch(err){
				alert("onIEScroll = "+err);
			}
		},

        mouseMoveFinish: function(){
            if(this.animateClick && this.expertMouseTweenX.isPlaying==false && this.expertMouseTweenY.isPlaying==false){
            	this.cursorImageAnimation.style.top ="1px";
				this.cursorImageAnimation.style.left ="-5px";
				this.mouseImage.style.visibility = "hidden";
                this.cursorImageAnimation.style.visibility = "visible";
                this.animateClick = false;
                setTimeout(this.Delegate(this,this.mouseMoveFinishStopAnimation),5000);
            }
        },
        mouseMoveFinishStopAnimation: function(){
        this.mouseImage.style.visibility = "visible";
            this.cursorImageAnimation.style.visibility = "hidden";
        },

		expertScrollTweenYFinish : function(){
			try{
			    if(this.scrollingX == false){
			          this.enableScrollerChange();
			          window.clearTimeout(this.enableScrollerChangeTimer);
			    }
			    this.scrollingY = false;
			}
			catch(err){
		//		alert("expertScrollTweenYFinish = "+err);
			}
		},
		expertScrollTweenXFinish : function(){
			try{
			    if(this.scrollingY == false){
			         this.enableScrollerChange();
			     }
			     this.scrollingX = false;
			}
			catch(err){
		//		alert("expertScrollTweenXFinish = "+err);
			}
		},
        enableScrollerChange: function(){
        this.sendScrollerChange = true;
        window.clearTimeout(this.enableScrollerChangeTimer);
        },

		// Customer call function on this JS
	    runFunction : function(functionName,args){
	    	try{
	    		//console.log("INSIDE runfunction -> func Name = "+functionName);
 		        this[functionName].apply(this,args);
	    	}
	    	catch(err){
	    		//alert("runFunction = "+err);
	    	}
	    },
	    getFlashMovie: function(movieName) {
	    	try{
		        var isIE = navigator.appName.indexOf("Microsoft") != -1;
		        return (isIE) ? window[movieName] : document[movieName];
	    	}
	    	catch(err){
	    //		alert("getFlashMovie = "+err);
	    	}
	    },
	    // Call function on customer html coBrowser 2.js
	    callFunction : function(functionName){
	    		var params = new Array();
	    		var funcParams="";
         		for(var i=0;i<arguments.length;i++){
    			   params.push(arguments[i]);
    			   funcParams+=arguments[i]+";";
    		    }
 	    		 params.shift();
			try{
				 if(this.isLivePerson==false)
		         {
		         var flash=document.getElementById("myDynamicContent");
		         flash.cbCallFunction([functionName,params]);
		         }
		         else
		         {
		         
		         }
        	   }
	    	catch(err){
	    		alert("callFunction = "+err);
	    	}
	    },
		create: function(htmlStr) {
			try{
		        var frag = document.createDocumentFragment(),
	            temp = document.createElement('div');
	        temp.innerHTML = htmlStr;
	        while (temp.firstChild) {
	            frag.appendChild(temp.firstChild);
	        }
	        return frag;
			}
			catch(err){
			//	alert("create = "+err);
			}
	    },
		resizeIframe: function(left,top,width,height){
			try{
				//console.log("resizeIframe width = "+width+" height = "+height+" top = "+top+" left = "+left);
				if(this.iframe != null){
				this.iFrameWidth = width;
		        this.iFrameHeight = height;
		        this.iFrameTop = top;
		        this.iFrameLeft = left;
		        this.iframe.style.top = top+"px";
		        this.iframe.style.left = left+"px";
		        this.iframe.width = width+"px";
		        this.iframe.height = height+"px";	
				}
			}
			catch(err){
				alert("resizeIframe = "+err);
			}
		},
		showIframe: function(url){
			try{
				//console.log("showIframe -> "+url);
				//this.iframeContent.src="about:blank";
				if(this.isLivePerson==true){
					this.iframeContent.src=url+"&isLP=true";
				}
				else
				{
				 this.iframeContent.width = 1024;
		         this.iframeContent.height = 7000;
 				 this.iframeContent.src=url+"&isLP=false";
				 setTimeout("verishow.utils.coBrowser.fixBodySize()",600);
				}
				  this.iframe.style.display = 'block';
			      this.iframeContent.style.display = 'block';
			  //  this.iframeContent.style.display='none';
			}
			catch(err){
				alert("showIframe : "+err);
			}
		},

		fixBodySize: function(){
			try{
				if(this.isLivePerson==false)
				{
				this.currentHeight=7000;//currentHeight;
				this.currentWidth=1024;//currentWidth;
				this.iframeContent.width =this.currentWidth;//this.iframeContent.contentWindow.document.body.offsetWidth;
			    this.iframeContent.height =this.currentHeight;//this.iframeContent.contentWindow.document.body.offsetHeight;
			    this.iframeContent.style.display = 'block';
   				this.iframe.style.display = 'block';
				this.expertScrollTweenY.continueTo(0,0.5);
				this.expertScrollTweenX.continueTo(80,0.5);
				}
			}
			catch(err){
				alert("fixBodySize = "+err);
			}
		},
		displayIframe: function(){
			try{
				this.iframe.style.display = 'block';
			}
			catch(err){
				//alert("displayIframe = "+err);
			}
		},
		
		hideIframe: function(){
			try{
//				this.iframeContent.src="about:blank";
				this.iframe.style.display = 'none';
			}
			catch(err){
			//	alert("hideIframe = "+err);
			}
		},
		pageChanged: function(url,originUrl){
			try
			{
				if(this.isLivePerson==false)
				{
				try{
				 if(typeof window.addEventListener != 'undefined') {
						this.iframeContent.contentWindow.document.addEventListener("mousemove",this.onMouseMove.bind(this),false);
			        }
			        else if(typeof window.attachEvent != 'undefined') {
			        	this.iframeContent.contentWindow.document.attachEvent("onmousemove",this.Delegate(this,this.onMouseMove),false);
			        }
				 var flash = document.getElementById("myDynamicContent");
				 flash.cbPageChanged(url,originUrl);
				}
				catch(err){
					setTimeout(function(){verishow.utils.coBrowser.pageChanged(url,originUrl)},1000);
				}
				
				}
				else
				{
				alert("pageChanged in LP???");
				}
			}
			catch(err){
				//alert("pageChanged = "+err);
			}
		},

		pageLoaded: function(currentWidth,currentHeight){
			try{
				if(this.isLivePerson==false)
			    {
   				this.currentHeight=7000;//currentHeight;
				this.currentWidth=1024;//currentWidth;
				this.iframeContent.width =this.currentWidth;//this.iframeContent.contentWindow.document.body.offsetWidth;
			    this.iframeContent.height =this.currentHeight;//this.iframeContent.contentWindow.document.body.offsetHeight;

			     this.fixBodySize();
				 if(typeof window.addEventListener != 'undefined') {
						this.iframeContent.contentWindow.document.addEventListener("mousemove",this.onMouseMove.bind(this),false);
			        }
			        else if(typeof window.attachEvent != 'undefined') {
			        	this.iframeContent.contentWindow.document.attachEvent("onmousemove",this.Delegate(this,this.onMouseMove),false);
			        }
			      }
			      else
			      {
			      alert("pageLoaded in LP ???");
			      }
				}
			catch(err){
				alert("pageLoaded = "+err);
			}
		},
		
		Delegate : function (o, f) {
			try{
			       var a = new Array() ;
			       var l = arguments.length ;
			       for(var i = 2 ; i < l ; i++) a[i - 2] = arguments[i] ;
			       return function() {
			           var aP = [].concat(arguments, a) ;
			           f.apply(o, aP);
			        };
			    }
		catch(err){
			alert("delegate = "+err);
		}
	}
};

CBMotionTween  = function(obj, prop, func, begin, finish, duration, suffixe) {
    this.obj = new Object();
    this.prop='';
    this.func = function (t, b, c, d) { return c*t/d + b; };
    if(func != null){
       this.func = func;
    }
    this.begin = 0;
    this.change = 0;
    this.prevTime = 0;
    this.prevPos = 0;
    this.looping = false;
    this._duration = 0;
    this._time = 0;
    this._pos = 0;
    this._position = 0;
    this._startTime = 0;
    this._finish = 0;
    this.name = '';
    this.suffixe = '';
    this._listeners = new Array();
    this.Delegate = function (o, f) {
       var a = new Array() ;
       var l = arguments.length ;
       for(var i = 2 ; i < l ; i++) a[i - 2] = arguments[i] ;
       return function() {
           var aP = [].concat(arguments, a) ;
           f.apply(o, aP);
        };
    },
    this.setTime = function(t){
        this.prevTime = this._time;
        if (t > this.getDuration()) {
            if (this.looping) {
                this.rewind (t - this._duration);
                this.update();
                this.broadcastMessage('onMotionLooped',{target:this,type:'onMotionLooped'});
            } else {
                this._time = this._duration;
                this.update();
                this.stop();
                this.broadcastMessage('onMotionFinished',{target:this,type:'onMotionFinished'});
            }
        } else if (t < 0) {
            this.rewind();
            this.update();
        } else {
            this._time = t;
            this.update();
        }
    },
    this.getTime = function(){
        return this._time;
    },
    this.setDuration = function(d){
        this._duration = (d == null || d <= 0) ? 100000 : d;
    },
    this.getDuration = function(){
        return this._duration;
    },
    this.setPosition = function(p){
        this.prevPos = this._pos;
        var a = this.suffixe != '' ? this.suffixe : '';
        this.obj[this.prop] = Math.round(p) + a;
        this._pos = p;
        this.broadcastMessage('onMotionChanged',{target:this,type:'onMotionChanged'});
    },
    this.getPosition = function(t){
        if (t == undefined) t = this._time;
        return this.func(t, this.begin, this.change, this._duration);
    };
    this.setFinish = function(f){
        this.change = f - this.begin;
    };
    this.getFinish = function(){
        return this.begin + this.change;
    };
    this.init = function(obj, prop, func, begin, finish, duration, suffixe){
        if (!arguments.length) return;
        this._listeners = new Array();
        this.addListener(this);
        if(suffixe) this.suffixe = suffixe;
        this.obj = obj;
        this.prop = prop;
        this.begin = begin;
        this._pos = begin;
        this.setDuration(duration);
        if (func!=null && func!='') {
            this.func = func;
        }
        this.setFinish(finish);
    },
    this.start = function(){
        this.rewind();
        this.startEnterFrame();
        this.broadcastMessage('onMotionStarted',{target:this,type:'onMotionStarted'});
        //alert('in');
    },
    this.rewind = function(t){
        this.stop();
        this._time = (t == undefined) ? 0 : t;
        this.fixTime();
        this.update();
    },
    this.fforward = function(){
        this._time = this._duration;
        this.fixTime();
        this.update();
    },
    this.update = function(){
        this.setPosition(this.getPosition(this._time));
        },
    this.startEnterFrame = function(){
        this.stopEnterFrame();
        this.isPlaying = true;
        this.onEnterFrame();
    },
    this.onEnterFrame = function(){
        if(this.isPlaying) {
            this.nextFrame();
            setTimeout(this.Delegate(this, this.onEnterFrame), 0);
        }
    },
    this.nextFrame = function(){
        this.setTime((this.getTimer() - this._startTime) / 1000);
        },
    this.stop = function(){
        this.stopEnterFrame();
        this.broadcastMessage('onMotionStopped',{target:this,type:'onMotionStopped'});
    },
    this.stopEnterFrame = function(){
        this.isPlaying = false;
    },

    this.continueTo = function(finish, duration){
        this.begin = this._pos;
        this.setFinish(finish);
        if (this._duration != undefined)
            this.setDuration(duration);
        this.start();
    },
    this.resume = function(){
        this.fixTime();
        this.startEnterFrame();
        this.broadcastMessage('onMotionResumed',{target:this,type:'onMotionResumed'});
    },
    this.yoyo = function (){
        this.continueTo(this.begin,this._time);
    },

    this.addListener = function(o){
        this.removeListener (o);
        return this._listeners.push(o);
    },
    this.removeListener = function(o){
        var a = this._listeners;
        var i = a.length;
        while (i--) {
            if (a[i] == o) {
                a.splice (i, 1);
                return true;
            }
        }
        return false;
    },
    this.broadcastMessage = function(){
        var arr = new Array();
        for(var i = 0; i < arguments.length; i++){
            arr.push(arguments[i]);
        }
        var e = arr.shift();
        var a = this._listeners;
        var l = a.length;
        for (var i=0; i<l; i++){
            if(a[i][e])
            a[i][e].apply(a[i], arr);
        }
    },
    this.fixTime = function(){
        this._startTime = this.getTimer() - this._time * 1000;
    },
    this.getTimer = function(){
        return new Date().getTime() - this._time;
    },
    this.init(obj, prop, func, begin, finish, duration, suffixe);
};
// Motion types
CBMotionTween.regularEaseInOut = function(t,b,c,d){
    if ((t/=d/2) < 1) return c/2*t*t + b;
    return -c/2 * ((--t)*(t-2) - 1) + b;
};
CBMotionTween.bounceEaseOut = function(t,b,c,d){
    if ((t/=d) < (1/2.75)) {
        return c*(7.5625*t*t) + b;
    } else if (t < (2/2.75)) {
        return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;
    } else if (t < (2.5/2.75)) {
        return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;
    } else {
        return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;
    }
};
/*
    http://www.JSON.org/json2.js
    2011-10-19

    Public Domain.

    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.

    See http://www.JSON.org/js.html


    This code should be minified before deployment.
    See http://javascript.crockford.com/jsmin.html

    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO
    NOT CONTROL.


    This file creates a global JSON object containing two methods: stringify
    and parse.

        JSON.stringify(value, replacer, space)
            value       any JavaScript value, usually an object or array.

            replacer    an optional parameter that determines how object
                        values are stringified for objects. It can be a
                        function or an array of strings.

            space       an optional parameter that specifies the indentation
                        of nested structures. If it is omitted, the text will
                        be packed without extra whitespace. If it is a number,
                        it will specify the number of spaces to indent at each
                        level. If it is a string (such as '\t' or '&nbsp;'),
                        it contains the characters used to indent at each level.

            This method produces a JSON text from a JavaScript value.

            When an object value is found, if the object contains a toJSON
            method, its toJSON method will be called and the result will be
            stringified. A toJSON method does not serialize: it returns the
            value represented by the name/value pair that should be serialized,
            or undefined if nothing should be serialized. The toJSON method
            will be passed the key associated with the value, and this will be
            bound to the value

            For example, this would serialize Dates as ISO strings.

                Date.prototype.toJSON = function (key) {
                    function f(n) {
                        // Format integers to have at least two digits.
                        return n < 10 ? '0' + n : n;
                    }

                    return this.getUTCFullYear()   + '-' +
                         f(this.getUTCMonth() + 1) + '-' +
                         f(this.getUTCDate())      + 'T' +
                         f(this.getUTCHours())     + ':' +
                         f(this.getUTCMinutes())   + ':' +
                         f(this.getUTCSeconds())   + 'Z';
                };

            You can provide an optional replacer method. It will be passed the
            key and value of each member, with this bound to the containing
            object. The value that is returned from your method will be
            serialized. If your method returns undefined, then the member will
            be excluded from the serialization.

            If the replacer parameter is an array of strings, then it will be
            used to select the members to be serialized. It filters the results
            such that only members with keys listed in the replacer array are
            stringified.

            Values that do not have JSON representations, such as undefined or
            functions, will not be serialized. Such values in objects will be
            dropped; in arrays they will be replaced with null. You can use
            a replacer function to replace those with JSON values.
            JSON.stringify(undefined) returns undefined.

            The optional space parameter produces a stringification of the
            value that is filled with line breaks and indentation to make it
            easier to read.

            If the space parameter is a non-empty string, then that string will
            be used for indentation. If the space parameter is a number, then
            the indentation will be that many spaces.

            Example:

            text = JSON.stringify(['e', {pluribus: 'unum'}]);
            // text is '["e",{"pluribus":"unum"}]'


            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\t');
            // text is '[\n\t"e",\n\t{\n\t\t"pluribus": "unum"\n\t}\n]'

            text = JSON.stringify([new Date()], function (key, value) {
                return this[key] instanceof Date ?
                    'Date(' + this[key] + ')' : value;
            });
            // text is '["Date(---current time---)"]'


        JSON.parse(text, reviver)
            This method parses a JSON text to produce an object or array.
            It can throw a SyntaxError exception.

            The optional reviver parameter is a function that can filter and
            transform the results. It receives each of the keys and values,
            and its return value is used instead of the original value.
            If it returns what it received, then the structure is not modified.
            If it returns undefined then the member is deleted.

            Example:

            // Parse the text. Values that look like ISO date strings will
            // be converted to Date objects.

            myData = JSON.parse(text, function (key, value) {
                var a;
                if (typeof value === 'string') {
                    a =
/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
                    if (a) {
                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],
                            +a[5], +a[6]));
                    }
                }
                return value;
            });

            myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) {
                var d;
                if (typeof value === 'string' &&
                        value.slice(0, 5) === 'Date(' &&
                        value.slice(-1) === ')') {
                    d = new Date(value.slice(5, -1));
                    if (d) {
                        return d;
                    }
                }
                return value;
            });


    This is a reference implementation. You are free to copy, modify, or
    redistribute.
*/

/*jslint evil: true, regexp: true */

/*members "", "\b", "\t", "\n", "\f", "\r", "\"", JSON, "\\", apply,
    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,
    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,
    lastIndex, length, parse, prototype, push, replace, slice, stringify,
    test, toJSON, toString, valueOf
*/


// Create a JSON object only if one does not already exist. We create the
// methods in a closure to avoid creating global variables.

var JSON;
if (!JSON) {
    JSON = {};
}

(function () {
    'use strict';

    function f(n) {
        // Format integers to have at least two digits.
        return n < 10 ? '0' + n : n;
    }

    if (typeof Date.prototype.toJSON !== 'function') {

        Date.prototype.toJSON = function (key) {

            return isFinite(this.valueOf())
                ? this.getUTCFullYear()     + '-' +
                    f(this.getUTCMonth() + 1) + '-' +
                    f(this.getUTCDate())      + 'T' +
                    f(this.getUTCHours())     + ':' +
                    f(this.getUTCMinutes())   + ':' +
                    f(this.getUTCSeconds())   + 'Z'
                : null;
        };

        String.prototype.toJSON      =
            Number.prototype.toJSON  =
            Boolean.prototype.toJSON = function (key) {
                return this.valueOf();
            };
    }

    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        gap,
        indent,
        meta = {    // table of character substitutions
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"' : '\\"',
            '\\': '\\\\'
        },
        rep;


    function quote(string) {

// If the string contains no control characters, no quote characters, and no
// backslash characters, then we can safely slap some quotes around it.
// Otherwise we must also replace the offending characters with safe escape
// sequences.

        escapable.lastIndex = 0;
        return escapable.test(string) ? '"' + string.replace(escapable, function (a) {
            var c = meta[a];
            return typeof c === 'string'
                ? c
                : '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + string + '"';
    }


    function str(key, holder) {

// Produce a string from holder[key].

        var i,          // The loop counter.
            k,          // The member key.
            v,          // The member value.
            length,
            mind = gap,
            partial,
            value = holder[key];

// If the value has a toJSON method, call it to obtain a replacement value.

        if (value && typeof value === 'object' &&
                typeof value.toJSON === 'function') {
            value = value.toJSON(key);
        }

// If we were called with a replacer function, then call the replacer to
// obtain a replacement value.

        if (typeof rep === 'function') {
            value = rep.call(holder, key, value);
        }

// What happens next depends on the value's type.

        switch (typeof value) {
        case 'string':
            return quote(value);

        case 'number':

// JSON numbers must be finite. Encode non-finite numbers as null.

            return isFinite(value) ? String(value) : 'null';

        case 'boolean':
        case 'null':

// If the value is a boolean or null, convert it to a string. Note:
// typeof null does not produce 'null'. The case is included here in
// the remote chance that this gets fixed someday.

            return String(value);

// If the type is 'object', we might be dealing with an object or an array or
// null.

        case 'object':

// Due to a specification blunder in ECMAScript, typeof null is 'object',
// so watch out for that case.

            if (!value) {
                return 'null';
            }

// Make an array to hold the partial results of stringifying this object value.

            gap += indent;
            partial = [];

// Is the value an array?

            if (Object.prototype.toString.apply(value) === '[object Array]') {

// The value is an array. Stringify every element. Use null as a placeholder
// for non-JSON values.

                length = value.length;
                for (i = 0; i < length; i += 1) {
                    partial[i] = str(i, value) || 'null';
                }

// Join all of the elements together, separated with commas, and wrap them in
// brackets.

                v = partial.length === 0
                    ? '[]'
                    : gap
                    ? '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']'
                    : '[' + partial.join(',') + ']';
                gap = mind;
                return v;
            }

// If the replacer is an array, use it to select the members to be stringified.

            if (rep && typeof rep === 'object') {
                length = rep.length;
                for (i = 0; i < length; i += 1) {
                    if (typeof rep[i] === 'string') {
                        k = rep[i];
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            } else {

// Otherwise, iterate through all of the keys in the object.

                for (k in value) {
                    if (Object.prototype.hasOwnProperty.call(value, k)) {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            }

// Join all of the member texts together, separated with commas,
// and wrap them in braces.

            v = partial.length === 0
                ? '{}'
                : gap
                ? '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}'
                : '{' + partial.join(',') + '}';
            gap = mind;
            return v;
        }
    }

// If the JSON object does not yet have a stringify method, give it one.

    if (typeof JSON.stringify !== 'function') {
        JSON.stringify = function (value, replacer, space) {

// The stringify method takes a value and an optional replacer, and an optional
// space parameter, and returns a JSON text. The replacer can be a function
// that can replace values, or an array of strings that will select the keys.
// A default replacer method can be provided. Use of the space parameter can
// produce text that is more easily readable.

            var i;
            gap = '';
            indent = '';

// If the space parameter is a number, make an indent string containing that
// many spaces.

            if (typeof space === 'number') {
                for (i = 0; i < space; i += 1) {
                    indent += ' ';
                }

// If the space parameter is a string, it will be used as the indent string.

            } else if (typeof space === 'string') {
                indent = space;
            }

// If there is a replacer, it must be a function or an array.
// Otherwise, throw an error.

            rep = replacer;
            if (replacer && typeof replacer !== 'function' &&
                    (typeof replacer !== 'object' ||
                    typeof replacer.length !== 'number')) {
                throw new Error('JSON.stringify');
            }

// Make a fake root object containing our value under the key of ''.
// Return the result of stringifying the value.

            return str('', {'': value});
        };
    }


// If the JSON object does not yet have a parse method, give it one.

    if (typeof JSON.parse !== 'function') {
        JSON.parse = function (text, reviver) {

// The parse method takes a text and an optional reviver function, and returns
// a JavaScript value if the text is a valid JSON text.

            var j;

            function walk(holder, key) {

// The walk method is used to recursively walk the resulting structure so
// that modifications can be made.

                var k, v, value = holder[key];
                if (value && typeof value === 'object') {
                    for (k in value) {
                        if (Object.prototype.hasOwnProperty.call(value, k)) {
                            v = walk(value, k);
                            if (v !== undefined) {
                                value[k] = v;
                            } else {
                                delete value[k];
                            }
                        }
                    }
                }
                return reviver.call(holder, key, value);
            }


// Parsing happens in four stages. In the first stage, we replace certain
// Unicode characters with escape sequences. JavaScript handles many characters
// incorrectly, either silently deleting them, or treating them as line endings.

            text = String(text);
            cx.lastIndex = 0;
            if (cx.test(text)) {
                text = text.replace(cx, function (a) {
                    return '\\u' +
                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                });
            }

// In the second stage, we run the text against regular expressions that look
// for non-JSON patterns. We are especially concerned with '()' and 'new'
// because they can cause invocation, and '=' because it can cause mutation.
// But just to be safe, we want to reject all unexpected forms.

// We split the second stage into 4 regexp operations in order to work around
// crippling inefficiencies in IE's and Safari's regexp engines. First we
// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we
// replace all simple value tokens with ']' characters. Third, we delete all
// open brackets that follow a colon or comma or that begin the text. Finally,
// we look to see that the remaining characters are only whitespace or ']' or
// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.

            if (/^[\],:{}\s]*$/
                    .test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')
                        .replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']')
                        .replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {

// In the third stage we use the eval function to compile the text into a
// JavaScript structure. The '{' operator is subject to a syntactic ambiguity
// in JavaScript: it can begin a block or an object literal. We wrap the text
// in parens to eliminate the ambiguity.

                j = eval('(' + text + ')');

// In the optional fourth stage, we recursively walk the new structure, passing
// each name/value pair to a reviver function for possible transformation.

                return typeof reviver === 'function'
                    ? walk({'': j}, '')
                    : j;
            }

// If the text is not JSON parseable, then a SyntaxError is thrown.

            throw new SyntaxError('JSON.parse');
        };
    }
}());
//http://www.featureblend.com/license.txt
var FlashDetect=new function(){var self=this;self.installed=false;self.raw="";self.major=-1;self.minor=-1;self.revision=-1;self.revisionStr="";var activeXDetectRules=[{"name":"ShockwaveFlash.ShockwaveFlash.7","version":function(obj){return getActiveXVersion(obj);}},{"name":"ShockwaveFlash.ShockwaveFlash.6","version":function(obj){var version="6,0,21";try{obj.AllowScriptAccess="always";version=getActiveXVersion(obj);}catch(err){}
return version;}},{"name":"ShockwaveFlash.ShockwaveFlash","version":function(obj){return getActiveXVersion(obj);}}];var getActiveXVersion=function(activeXObj){var version=-1;try{version=activeXObj.GetVariable("$version");}catch(err){}
return version;};var getActiveXObject=function(name){var obj=-1;try{obj=new ActiveXObject(name);}catch(err){obj={activeXError:true};}
return obj;};var parseActiveXVersion=function(str){var versionArray=str.split(",");return{"raw":str,"major":parseInt(versionArray[0].split(" ")[1],10),"minor":parseInt(versionArray[1],10),"revision":parseInt(versionArray[2],10),"revisionStr":versionArray[2]};};var parseStandardVersion=function(str){var descParts=str.split(/ +/);var majorMinor=descParts[2].split(/\./);var revisionStr=descParts[3];return{"raw":str,"major":parseInt(majorMinor[0],10),"minor":parseInt(majorMinor[1],10),"revisionStr":revisionStr,"revision":parseRevisionStrToInt(revisionStr)};};var parseRevisionStrToInt=function(str){return parseInt(str.replace(/[a-zA-Z]/g,""),10)||self.revision;};self.majorAtLeast=function(version){return self.major>=version;};self.minorAtLeast=function(version){return self.minor>=version;};self.revisionAtLeast=function(version){return self.revision>=version;};self.versionAtLeast=function(major){var properties=[self.major,self.minor,self.revision];var len=Math.min(properties.length,arguments.length);for(i=0;i<len;i++){if(properties[i]>=arguments[i]){if(i+1<len&&properties[i]==arguments[i]){continue;}else{return true;}}else{return false;}}};self.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var type='application/x-shockwave-flash';var mimeTypes=navigator.mimeTypes;if(mimeTypes&&mimeTypes[type]&&mimeTypes[type].enabledPlugin&&mimeTypes[type].enabledPlugin.description){var version=mimeTypes[type].enabledPlugin.description;var versionObj=parseStandardVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revisionStr=versionObj.revisionStr;self.revision=versionObj.revision;self.installed=true;}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var version=-1;for(var i=0;i<activeXDetectRules.length&&version==-1;i++){var obj=getActiveXObject(activeXDetectRules[i].name);if(!obj.activeXError){self.installed=true;version=activeXDetectRules[i].version(obj);if(version!=-1){var versionObj=parseActiveXVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revision=versionObj.revision;self.revisionStr=versionObj.revisionStr;}}}}}();};FlashDetect.JS_RELEASE="1.0.4";verishow.deviceDetect = {
    isIos :false,
    isAndroid : false,
    isPC : false,
    isBlackBerry : false,
    isMobile : false,
    isTablet : false,
    isMSIE : false,
    isIE6 : false,
    isIE7 : false,
    isIE8 : false,

    setDeviceTypes: function(){
        // check device type

        var ua = navigator.userAgent;
        var checker = {
          iphone:  ua.match(/(iPhone|iPod|iPad)/),
          blackberry: ua.match(/BlackBerry/),
          android: ua.match(/Android/)
        };
        if (checker.android){
            this.isAndroid = true;
        }
        else if (checker.iphone){
            this.isIos = true;
        }
        else if (checker.blackberry){
            this.isBlackBerry = true;
        }
        else {
           this.isPC = true;
           if(ua.match(/(MSIE 6)/)){
              this.isIE6 = true;
              this.isM = true;
           }
            if(ua.match(/(MSIE 7)/)){
               this.isIE7 = true;
           }
           if(ua.match(/(MSIE 8)/)){
               this.isIE8 = true;
           }
            if(ua.match(/(MSIE)/)){
               isMSIE = true;
            }
        }
        //
        var deviceAgent = navigator.userAgent.toLowerCase();
        var isMobile = deviceAgent.match(/(iphone|ipod|mobile)/);
        var isIpad = deviceAgent.match(/(ipad)/);
        if(isMobile && isIpad == null){
           this.isMobile = true;
           this.isPC = false;
        }
        if((this.isAndroid && this.isMobile == false) || isIpad){
           this.isTablet = true;
           this.isPC = false;
        }
    }
};
verishow.deviceDetect.setDeviceTypes();var _$_90b0=["exports","count","after called too many times","byteLength","slice","buffer","webrtc-adapter","URL","audio","video","createElement","toLowerCase","tagName","disableContextMenu","oncontextmenu","preventDefault","autoplay","muted","mirror","Transform","transform","style","scaleX(-1)","forEach","","moz","webkit","o","ms","srcObject","min","max","factor","jitter","attempts","duration","prototype","pow","random","floor","reset","setMin","setMax","setJitter","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","use strict","encode","length","substring","=","==","decode","indexOf","undefined","call","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","hi","size","append","getBlob","byteOffset","set","type","Blob","string","function","bind() requires a function","concat","apply","on","addEventListener","_callbacks","push","once","off","fn","removeListener","removeAllListeners","removeEventListener","splice","emit","listeners","hasListeners","constructor","./lib/","./socket","parser","engine.io-parser","./transports","component-emitter","engine.io-client:socket","debug","indexof","parseuri","parsejson","parseqs","object","host","secure","protocol","https","wss","port","query","location","https:",":","split","hostname","shift","pop","443","80","agent","localhost","upgrade","path","replace","/engine.io","/","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","t","timestampRequests","transports","polling","websocket","readyState","writeBuffer","callbackBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","open","priorWebsocketSuccess","Socket","Transport","./transport","createTransport","creating transport \"%s\"","EIO","transport","id","sid","hasOwnProperty","error","No transports available","opening","setTransport","setting transport %s","name","clearing existing transport %s","close","transport close","onClose","onError","packet","onPacket","drain","onDrain","probe","probing transport \"%s\"","supportsBinary","probe transport \"%s\" opened","ping","send","pong","data","probe transport \"%s\" pong","upgrading","pausing current transport \"%s\"","closed","changing transport and sending upgrade packet","flush","pause","probe transport \"%s\" failed","probe error","upgradeError","probe error: ","probe transport \"%s\" failed because of error: %s","transport closed","socket closed","\"%s\" works - aborting \"%s\"","onOpen","socket open","starting upgrade probes","upgrades","socket receive: type \"%s\", data \"%s\"","heartbeat","onHandshake","setPing","server error","code","message","packet received with socket readyState \"%s\"","handshake","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","ping timeout","pingIntervalTimer","writing ping packet - expecting pong within %sms","sendPacket","prevBufferLen","writable","flushing %d packets in socket","write","closing","packetCreate","forced close","socket closing - telling transport to close","socket error %j","transport error","socket close with reason: \"%s\"","socket","timestamps","TransportError","description","doOpen","doClose","Transport not open","onData","decodePacket","xmlhttprequest","./polling-xhr","./polling-jsonp","./websocket","xdomain","xscheme","JSONP disabled","./polling","component-inherit","___eio","index","j","document","beforeunload","script","onerror","removeChild","parentNode","form","iframe","doPoll","async","src","uri","jsonp poll error","getElementsByTagName","insertBefore","userAgent","test","appendChild","body","doWrite","textarea","iframeId","eio_iframe_","className","socketio","position","absolute","top","-1000px","left","target","method","POST","accept-charset","utf-8","setAttribute","d","area","action","jsonp polling iframe removal error","<iframe src=\"javascript:0\" name=\"","\">","javascript:0","\\\x0A","value","\\n","submit","attachEvent","onreadystatechange","complete","onload","engine.io-client:polling-xhr","Request","xd","xs","request","success","xhr post error","sendXhr","xhr poll","xhr poll error","pollXhr","GET","isBinary","create","xhr","xhr open %s: %s","responseType","arraybuffer","Content-type","application/octet-stream","setRequestHeader","text/plain;charset=UTF-8","withCredentials","hasXDR","onLoad","responseText","status","xhr data %s","requestsCount","requests","onSuccess","cleanup","abort",";","Content-Type","getResponseHeader","response","ok","XDomainRequest","onunload","../transport","engine.io-client:polling","poll","pausing","paused","we are currently polling - waiting to pause","pollComplete","pre-pause polling complete","we are currently writing - waiting to pause","pre-pause writing complete","polling got data %s","decodePayload","ignoring poll - transport state \"%s\"","writing close packet","transport open - closing","transport not open - deferring close","encodePayload","http","-","b64","?","://","engine.io-client:websocket","ws","check","addEventListeners","onopen","onclose","onmessage","websocket error","websocket closed before onclose event","encodePacket","__initialize","has-cors","Microsoft.XMLHTTP","./debug","log","formatArgs","save","load","useColors","colors","lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson","WebkitAppearance","documentElement","console","firebug","exception","table","match","$1","formatters","stringify","%c","namespace"," %c"," ","%c ","+","diff","humanize","color: ","color","color: inherit","%%","removeItem","enable","coerce","disable","enabled","names","skips","prev","curr","%o","bind",".*?","^","substr","$","stack","long","exec","years","year","y","days","day","hours","hour","h","minutes","minute","m","seconds","second","s","round"," ms","ceil","source","authority","userInfo","user","password","relative","directory","file","anchor","[","]","ipv6uri","./keys","has-binary","arraybuffer.slice","base64-arraybuffer","after","utf8","packets","parser error","blob","ArrayBuffer","base64","b","encodeBase64Packet","result","readAsArrayBuffer",",","readAsDataURL","fromCharCode","btoa","charAt","decodeBase64Packet","encodePayloadAsBlob","encodePayloadAsArrayBuffer","0:","join","decodePayloadAsBinary","toString","reduce","charCodeAt","keys","wildemitter","util","config","channel","inherits","bufferedAmountLowThreshold","number","FileReader","progress","pacing","setTimeout","bufferedAmount","sentFile","chunksize","bufferedamountlow","receiveBuffer","received","metadata","receive","receivedFile","received more than expected, discarding...","support","File","Sender","Receiver","getusermedia","http:","NavigatorUserMediaError","HTTPS_REQUIRED","Chrome","navigator","webstore","chrome","Linux","width","screen","height","ocamoakgniajkjbbhnmbpgpibnniijag","getScreen","sourceId","PERMISSION_DENIED","desktop","chromeMediaSourceId","mandatory","sendMessage","runtime","Firefox","window","currentTime","clearInterval","onended","setInterval","origin","gotScreen","getScreenPending","clearTimeout","PermissionDeniedError","ConstraintNotSatisfiedError","getUserMedia","MediaStreamError","NotSupportedError","NoMediaRequestedError","catch","then","mediaDevices","useFirefoxFakeDevice","true","fake","./utils","browserDetails","extractVersion","disableLog","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","opera","shimPeerConnection","Chrome shim is not included in this adapter release.","adapter.js shimming chrome.","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","Firefox shim is not included in this adapter release.","adapter.js shimming firefox.","firefox","MS edge shim is not included in this adapter release.","adapter.js shimming edge.","edge","Safari shim is not included in this adapter release.","adapter.js shimming safari.","safari","Unsupported browser!","browser","../utils.js","MediaStream","webkitMediaStream","RTCPeerConnection","ontrack","_ontrack","track","addstream","_ontrackpoly","addtrack","receiver","streams","stream","dispatchEvent","getTracks","defineProperty","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","removetrack","PeerConnection","iceTransportPolicy","iceTransports","getStats","timestamp","stat","map","generateCertificate","createOffer","createAnswer","version","setLocalDescription","setRemoteDescription","addIceCandidate","resolve","DEPRECATED, attachMediaStream will soon be removed.","Error attaching stream to element.","DEPRECATED, reattachMediaStream will soon be removed.","./getusermedia","attachMediaStream","reattachMediaStream","optional","require","advanced","mediaSource","exact","toUpperCase","deviceId","ideal","parse","facingMode","environment","getSupportedConstraints","kind","videoinput","filter","back","label","find","chrome: ","enumerateDevices","NotAllowedError","OverconstrainedError","constraintName",": ","webkitGetUserMedia","audioinput","getSources","reject","Dummy mediaDevices.addEventListener called.","Dummy mediaDevices.removeEventListener called.","sdp","../utils","RTCIceGatherer","RTCIceCandidate","RTCSessionDescription","createDocumentFragment","onicecandidate","onaddstream","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","remoteDescription","signalingState","stable","iceConnectionState","new","iceGatheringState","iceOptions","all","gatherPolicy","relay","iceTransportPolicy \"none\" not supported","none","usingBundle","bundlePolicy","max-bundle","iceServers","urls","turn:","transport=udp","transceivers","_localIceCandidatesBuffer","_emitBufferedCandidates","splitSections","candidate","\x0D\x0Aa=end-of-candidates\x0D\x0A","a=end-of-candidates\x0D\x0A","typ endOfCandidates","sdpMLineIndex","a=","\x0D\x0A","iceGatherer","state","completed","every","addStream","clone","_maybeFireNegotiationNeeded","removeStream","getSenders","rtpSender","getReceivers","rtpReceiver","_getCommonCapabilities","codecs","clockRate","numChannels","headerExtensions","_createIceAndDtlsTransports","onlocalcandidate","icecandidate","candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates","component","RTCP","writeCandidate","gathering","onicestatechange","_updateConnectionState","ondtlsstatechange","failed","_transceive","localCapabilities","remoteCapabilities","encodings","sendEncodingParameters","rtcp","localCName","recvEncodingParameters","ssrc","cname","offer","_pendingOffer","parseRtpParameters","answer","a=ice-lite","matchPrefix","iceTransport","dtlsTransport","\x0A","0","getIceParameters","1","parseCandidate","a=candidate:","setRemoteCandidates","getDtlsParameters","role","server","controlling","controlled","start","have-local-offer","_updateSignalingState","unsupported type \"","\"","a=group:BUNDLE ","splitLines","getDirection","client","parseRtpEncodingParameters","a=mid:","generateIdentifier","attribute","parseSsrcMedia","a=ssrc:","a=end-of-candidates","getCapabilities","addTrack","sendrecv","sendonly","recvonly","have-remote-offer","stop","signalingstatechange","negotiationneeded","connected","connecting","checking","disconnected","iceconnectionstatechange","createOffer called while there is a pending offer.","getAudioTracks","getVideoTracks","Legacy mandatory/optional constraints not supported.","offerToReceiveAudio","offerToReceiveVideo","writeSessionBoilerplate","wantReceive","mid","writeMediaSection","addRemoteCandidate","sdpMid","tcp","endOfCandidates","trim","constraint","mozSrcObject","mozRTCPeerConnection","turn","username","credential","The request is not allowed by the ","user agent or the platform in the current context.","spec: ","ff37: ","mozGetUserMedia","default","NotFoundError","navigator.getUserMedia has been replaced by ","navigator.mediaDevices.getUserMedia","warn","boolean","Argument type: ",". Please use a boolean.","adapter.js logging disabled","adapter.js logging enabled","minVersion","Not a browser.","webkitRTCPeerConnection","Unsupported webkit-based browser ","with GUM support but no WebRTC support.","Not a supported browser.","Browser: "," Version: "," < minimum supported version: ","\x0A some things might not work!","detectBrowser","getFloatFrequencyData","AudioContext","webkitAudioContext","smoothing","interval","threshold","play","history","createAnalyser","fftSize","smoothingTimeConstant","frequencyBinCount","jquery","createMediaElementSource","createMediaStreamSource","connect","destination","speaking","setThreshold","volume_change","stopped_speaking","disconnect","speakingHistory","isarray","Buffer","isBuffer","toJSON","isArray","[object Array]","global","XMLHttpRequest","amd","nodeType","JSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","bug-string-char-index","a","json","json-stringify","json-parse","{\"a\":[1,true,false,null,\"\\u0000\\b\\n\\f\\r\\t\"]}","\"\"","[1]","[null]","null","[null,null,null]","\x00\x08\x0A\x0C\x0D\x09","[\x0A 1,\x0A 2\x0A]","\"-271821-04-20T00:00:00.000Z\"","\"+275760-09-13T00:00:00.000Z\"","\"-000001-01-01T00:00:00.000Z\"","\"1969-12-31T23:59:59.999Z\"","\"\x09\"","01","1.","[object Function]","[object Date]","[object Number]","[object String]","[object Boolean]","__proto__","valueOf","toLocaleString","propertyIsEnumerable","isPrototypeOf","\\\\","\\\"","\\b","\\f","\\r","\\t","000000","\\u00","T",".","Z","[\x0A",",\x0A","[]","{\x0A","}","{","{}","\\","\x08","\x09","\x0C","\x0D","@","0x","false","hark","webrtcsupport","getscreenmedia","mediastream-gain","mockconsole","ended","logger","_log","LocalMedia:","_logerror","screenSharingSupport","supportScreenSharing","localScreens","supportGetUserMedia","Your browser does not support local media capture.","media","detectSpeakingEvents","harkOptions","setupAudioMonitor","autoAdjustMic","gainController","setMicIfEnabled","localStreamStopped","localStream","audioFallback","DevicesNotFoundError","prefix","localScreenStopped","stopStreams","stopScreenShare","audioMonitor","startScreenShare","localScreen","mute","_audioEnabled","hardMuted","audioOff","unmute","audioOn","Setup audio","stoppedSpeaking","volumeChange","setGain","pauseVideo","_videoEnabled","videoOff","resumeVideo","videoOn","resume","isAudioEnabled","isVideoEnabled","startLocalMedia","stopLocalMedia","__lodash_hash_undefined__","[object Arguments]","[object Error]","[object GeneratorFunction]","[object Map]","[object Object]","[object Promise]","[object RegExp]","[object Set]","[object Symbol]","[object WeakMap]","[object ArrayBuffer]","[object DataView]","[object Float32Array]","[object Float64Array]","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Uint16Array]","[object Uint32Array]","Object","return this","add","__core-js_shared__","IE_PROTO","Symbol(src)_1.","$1.*?","\\$&","Symbol","Uint8Array","getPrototypeOf","getOwnPropertySymbols","DataView","Map","Promise","Set","WeakMap","clear","__data__","has","delete","get","copy","lastIndex","hash","input","symbol","callee","webAudio","mediaStream","gain","context","microphone","gainFilter","createGain","createMediaStreamDestination","outputStream","removeTrack","getGain","mozRTCIceCandidate","mozRTCSessionDescription","canPlayType","video/webm; codecs=\"vp8\", vorbis","probably","msGetUserMedia","createDataChannel","assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn","values","merge","isEmpty","return ","&","setTimeout has not been defined","clearTimeout has not been defined","run","nextTick","fun","array","title","env","argv","versions","addListener","binding","process.binding is not supported","cwd","chdir","process.chdir is not supported","umask","sdp-jingle-json","traceablepeerconnection","lodash.clonedeep","enableChromeNativeSimulcast","appVersion","enableMultiStreamHacks","restrictBandwidth","andyetRestrictBandwidth","batchIceCandidates","andyetBatchIce","batchedIceCandidates","andyetFasterICE","eliminateDuplicateCandidates","andyetDontSignalCandidates","dontSignalCandidates","assumeSetLocalSuccess","andyetAssumeSetLocalSuccess","wtFirefox","andyetFirefoxMakesMeSad","firefoxcandidatebuffer","pc","*","negotiationNeeded","iceConnectionStateChange","signalingStateChange","_onIce","_onDataChannel","now","iceCredentials","PeerConnection event:","hadLocalStunCandidate","hadRemoteStunCandidate","hadLocalRelayCandidate","hadRemoteRelayCandidate","hadLocalIPv6Candidate","hadRemoteIPv6Candidate","_remoteDataChannels","_localDataChannels","_candidateBuffer","_role","isInitiator","initiator","responder","_checkLocalCandidate","toCandidateJSON","srflx","ip","_checkRemoteCandidate","processIce","contents","jingle","candidates","toCandidateSDP","remote","ufrag","pwd","sdpSessionID","incoming","toSessionSDP","ice restart failed to find matching content","Already closed","useJingle","outgoing","toSessionJSON","local","handleOffer","googConferenceFlag","application","sources","3735928559","deadbeef","msid","mixyourfecintothis please","unshift","bandwidth","AS","answerAudioOnly","_answer","answerBroadcastOnly","handleAnswer","remoteDescription not set","sourceGroups","semantics","SIM","FID","parameters","foundation","priority","address","rtcpMuxPolicy","2","iceUdp","ice","addChannel","./lib/tosdp","./lib/tojson","toIncomingSDPOffer","toOutgoingSDPOffer","toIncomingSDPAnswer","toOutgoingSDPAnswer","toIncomingMediaSDPOffer","toMediaSDP","toOutgoingMediaSDPOffer","toIncomingMediaSDPAnswer","toOutgoingMediaSDPAnswer","toIncomingJSONOffer","toOutgoingJSONOffer","toIncomingJSONAnswer","toOutgoingJSONAnswer","toIncomingMediaJSONOffer","toMediaJSON","toOutgoingMediaJSONOffer","toIncomingMediaJSONAnswer","toOutgoingMediaJSONAnswer","lines","findLine","findLines","mline","formats","rtpmap","clockrate","channels","sctpmap","fmtp","crypto","fingerprint","extmap","senders","rtcpfb","trr-int","subtype","raddr","relAddr","rport","relPort","generation","tcptype","tcpType","network","groups","inactive","both","./senders","./parsers","_setIdCounter","creators","direction","\x0D\x0Am=","m=","a=group:","creator","rtp","datachannel","sctp","a=sendrecv","a=sendonly","a=recvonly","a=inactive","applicationType","b=","a=rtpmap:","feedback","a=fmtp:","a=rtcp-fb:","payloads","a=crypto:","encryption","a=rtcp-mux","mux","a=rtcp-fb:*","a=extmap:","a=ssrc-group:","a=msid:","mslabel","a=x-google-flag:conference","a=fingerprint:","a=setup:","setup","fingerprints","a=ice-ufrag:","a=ice-pwd:","a=sctpmap:","time","v=0","o=- "," IN IP4 0.0.0.0","s=-","t=0 0","a=msid-semantic: WMS *","DTLS/SCTP","UDP/TLS/RTP/SAVPF","RTP/SAVPF","RTP/AVPF","c=IN IP4 0.0.0.0","a=rtcp:1 IN IP4 0.0.0.0","tag","cipherSuite","keyParams","sessionParams"," trr-int ","a=rtcp-fb:* trr-int ","a=rtcp-fb:* ","typ","prflx","TCP","\x0Am=","relatedAddress","relatedPort","candidate:","parseRtpMap","writeRtpMap","payloadType","preferredPayloadType","parseExtmap","writeExtmap","preferredId","parseFmtp","writeFmtp","parseRtcpFb","writeRtcpFb","rtcpFeedback","parameter","auto","writeDtlsParameters","algorithm","writeIceParameters","usernameFragment","RED","fecMechanisms","ULPFEC","writeRtpDescription","9"," UDP/TLS/RTP/SAVPF ","c=IN IP4 0.0.0.0\x0D\x0A","a=rtcp:9 IN IP4 0.0.0.0\x0D\x0A","maxptime","a=maxptime:","a=rtcp-mux\x0D\x0A","a=ssrc-group:FID","RTX","apt","fec","red+ulpfec","red","b=TIAS:","b=AS:","maxBitrate","v=0\x0D\x0A","o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\x0D\x0A","s=-\x0D\x0A","t=0 0\x0D\x0A","getLocalParameters","actpass","active","a=sendrecv\x0D\x0A","a=sendonly\x0D\x0A","a=recvonly\x0D\x0A","a=inactive\x0D\x0A","msid:","rtx","a=ssrc-group:FID "," cname:","./url","socket.io-parser","./manager","socket.io-client","managers","forceNew","force new connection","multiplex","ignoring socket cache for %s","new io instance for %s","Manager","engine.io-client","./on","component-bind","object-component","socket.io-client:manager","backo2","/socket.io","nsps","subs","opts","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","timeout","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","emitAll","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","reconnecting","reconnect","readyState %s","opening %s","skipReconnect","connect_error","Connection error","connect attempt will timeout after %d","connect attempt timed out after %d","destroy","connect_timeout","ondata","decoded","ondecoded","writing packet %j","processPacketQueue","reconnect failed","reconnect_failed","will wait %dms before reconnect attempt","attempting reconnect","reconnect_attempt","reconnect attempt error","reconnect_error","reconnect success","onreconnect","to-array","socket.io-client:socket","io","nsp","ids","acks","sendBuffer","subEvents","onpacket","EVENT","BINARY_EVENT","emitting packet with ack id %d","transport is open - connecting","CONNECT","close (%s)","onconnect","onevent","onack","ACK","BINARY_ACK","ondisconnect","DISCONNECT","ERROR","emitting event %j","attaching ack callback to event","ack","sending ack %j","calling ack %s with %j","emitBuffered","server disconnect (%s)","io server disconnect","performing disconnect (%s)","io client disconnect","socket.io-client:url","//","protocol-less url %s","https://","parse %s","href"," +","toFixed","localStorage","./is-buffer","deconstructPacket","attachments","reconstructPacket","_placeholder","num","removeBlobs","json3","./binary","types","encoding packet %j","encoded %j as %s","buffers","reconstructor","reconPack","got binary data when not reconstructing a packet","takeBinaryData","Unknown type: ","Illegal attachments","decoded %s as %j","finishedReconstruction","peerconnection","trace","PeerConnectionTrace","setLocalDescriptionOnSuccess","setLocalDescriptionOnFailure","setRemoteDescriptionOnSuccess","setRemoteDescriptionOnFailure","createOfferOnSuccess","createOfferOnFailure","createAnswerOnSuccess","createAnswerOnFailure","addIceCandidateOnFailure","Lone surrogate U+"," is not a scalar value","Invalid byte index","Invalid continuation byte","Invalid UTF-8 detected","2.0.0","super_","fill","readUInt8","_process","format","%","%s","%d","[Circular]","%j","deprecate","process","noDeprecation","throwDeprecation","traceDeprecation","debuglog","NODE_DEBUG","i","pid","%s %d: %s","depth","showHidden","_extend","customInspect","stylize","inspect","styles","cyan","yellow","grey","bold","green","magenta","\x1B[","getOwnPropertyNames","[Function","special","regexp","date"," [Function","toUTCString","[Object]","seen","'","\\'","getOwnPropertyDescriptor","[Getter/Setter]","[Getter]","[Setter]","  ","   ","\x0A ",",\x0A  ",", ","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","isObject","isDate","isError","isFunction","isPrimitive","./support/isBuffer","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","getHours","getMinutes","getSeconds","getDate","getMonth","%s - %s","turn:[","stun:","_config","getConfiguration","isDatachannel","H264","level-asymmetry-allowed","m=application 0 DTLS/SCTP 5000\x0D\x0A","The object can not be found here.","mixin","isWildEmitter","callbacks","_groupName","releaseGroup","getWildcardCallbacks","WebSocket","MozWebSocket","rtcpeerconnection","filetransfer","https://simplewebrtc.com/protocol/filetransfer#inband-v1","parent","oneway","sharemyscreen","browserPrefix","enableDataChannels","receiveMedia","peerConnectionConfig","peerConnectionConstraints","onIceCandidate","nick","handleRemoteStreamAdded","handleDataChannelAdded","handleStreamRemoved","iceFailed","connectivityError","adding local screen stream to peer connection","broadcaster","channelOpen","fileTransfer","handleMessage","getting","payload","from","sending","sendDirectly","sending via datachannel","getDataChannel","_observeDataChannel","channelClose","channelError","channelMessage","supportDataChannel","createDataChannel not supported","Ignoring ice candidate not matching pcConfig iceTransports type: ","End of candidates.","simplewebrtc","icerestart","IceRestart","end","Already have a remote stream","peerStreamAdded","peers","peerStreamRemoved","sendFile","getTime","sender received transfer","./webrtc","attachmediastream","./socketioconnection","https://rtc11.verishow.com/","capabilities","connection","connectionReady","getSessionid","sessionReady","testReadiness","roomType","getPeers","webrtc","createPeer","createdPeer","remove","removePeers","sendToAll","sendDirectlyToAll","SimpleWebRTC event:","handlePeerStreamAdded","handlePeerStreamRemoved","adjustPeerVolume","peerVolumeWhenSpeaking","setVolumeForAll","stunservers","turnservers","getRemoteVideoContainer","localScreenAdded","shareScreen","getLocalScreen","volume","remoteVolumeChange","autoRequestMedia","startLocalVideo","leaveRoom","roomName","leave","leftRoom","videoEl","getDomId","videoAdded","autoRemoveVideos","videoRemoved","_","broadcasting","joinRoom","join CB","clients","joinedRoom","getEl","getElementById","localMediaError","getLocalVideoContainer","localVideo","stopLocalVideo","localVideoEl","VIDEO","remoteVideosEl","unshareScreen","isReady","readyToCall","createRoom","dataChannel","DataChannelNotSupported","url","localmedia","./peer","stun:stun.l.google.com:19302","Your browser doesn't seem to support WebRTC","event:","Cannot find module '","MODULE_NOT_FOUND","SimpleWebRTC"];(function(_0x5E68){if( typeof exports=== _$_90b0[99]&&  typeof module!== _$_90b0[53]){module[_$_90b0[0]]= _0x5E68()}else {if( typeof define=== _$_90b0[68]&& define[_$_90b0[872]]){define([],_0x5E68)}else {var _0x5E96;if( typeof window!== _$_90b0[53]){_0x5E96= window}else {if( typeof global!== _$_90b0[53]){_0x5E96= global}else {if( typeof self!== _$_90b0[53]){_0x5E96= self}else {_0x5E96= this}}};_0x5E96[_$_90b0[1720]]= _0x5E68()}}})(function(){var _0x5EC4,_0x5F4E,_0x5F20;return (function _0x5EF2(_0xA7B8,_0x82E2,_0x7E36){function _0x8258(_0x72B6,_0x11BCC){if(!_0x82E2[_0x72B6]){if(!_0xA7B8[_0x72B6]){var _0x68A6= typeof require== _$_90b0[68]&& require;if(!_0x11BCC&& _0x68A6){return _0x68A6(_0x72B6,!0)};if(_0x6200){return _0x6200(_0x72B6,!0)};var _0x5E68= new Error(_$_90b0[1718]+ _0x72B6+ _$_90b0[1538]);throw _0x5E68[_$_90b0[206]]= _$_90b0[1719],_0x5E68};var _0x708E=_0x82E2[_0x72B6]= {exports:{}};_0xA7B8[_0x72B6][0][_$_90b0[54]](_0x708E[_$_90b0[0]],function(_0x5EF2){var _0x82E2=_0xA7B8[_0x72B6][1][_0x5EF2];return _0x8258(_0x82E2?_0x82E2:_0x5EF2)},_0x708E,_0x708E[_$_90b0[0]],_0x5EF2,_0xA7B8,_0x82E2,_0x7E36)};return _0x82E2[_0x72B6][_$_90b0[0]]}var _0x6200= typeof require== _$_90b0[68]&& require;for(var _0x72B6=0;_0x72B6< _0x7E36[_$_90b0[47]];_0x72B6++){_0x8258(_0x7E36[_0x72B6])};return _0x8258})({1:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x5F7C;function _0x5F7C(_0x6062,_0x6034,_0x6090){var _0x6006=false;_0x6090= _0x6090|| _0x5FAA;_0x60BE[_$_90b0[1]]= _0x6062;return (_0x6062=== 0)?_0x6034():_0x60BE;function _0x60BE(_0x60EC,_0x611A){if(_0x60BE[_$_90b0[1]]<= 0){throw  new Error(_$_90b0[2])};--_0x60BE[_$_90b0[1]];if(_0x60EC){_0x6006= true;_0x6034(_0x60EC);_0x6034= _0x6090}else {if(_0x60BE[_$_90b0[1]]=== 0&&  !_0x6006){_0x6034(null,_0x611A)}}}}function _0x5FAA(){}},{}],2:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= function(_0x6176,_0x625C,_0x61D2){var _0x61A4=_0x6176[_$_90b0[3]];_0x625C= _0x625C|| 0;_0x61D2= _0x61D2|| _0x61A4;if(_0x6176[_$_90b0[4]]){return _0x6176[_$_90b0[4]](_0x625C,_0x61D2)};if(_0x625C< 0){_0x625C+= _0x61A4};if(_0x61D2< 0){_0x61D2+= _0x61A4};if(_0x61D2> _0x61A4){_0x61D2= _0x61A4};if(_0x625C>= _0x61A4|| _0x625C>= _0x61D2|| _0x61A4=== 0){return  new ArrayBuffer(0)};var _0x6148= new Uint8Array(_0x6176);var _0x611A= new Uint8Array(_0x61D2- _0x625C);for(var _0x6200=_0x625C,_0x622E=0;_0x6200< _0x61D2;_0x6200++,_0x622E++){_0x611A[_0x622E]= _0x6148[_0x6200]};return _0x611A[_$_90b0[5]]}},{}],3:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x628A=_0x5FD8(_$_90b0[6]);_0x5F4E[_$_90b0[0]]= function(_0x639E,_0x62B8,_0x6342){var _0x6314;var _0x63CC=window[_$_90b0[7]];var _0x62E6=_0x62B8;var _0x6370={autoplay:true,mirror:false,muted:false,audio:false,disableContextMenu:false};if(_0x6342){for(_0x6314 in _0x6342){_0x6370[_0x6314]= _0x6342[_0x6314]}};if(!_0x62E6){_0x62E6= document[_$_90b0[10]](_0x6370[_$_90b0[8]]?_$_90b0[8]:_$_90b0[9])}else {if(_0x62E6[_$_90b0[12]][_$_90b0[11]]()=== _$_90b0[8]){_0x6370[_$_90b0[8]]= true}};if(_0x6370[_$_90b0[13]]){_0x62E6[_$_90b0[14]]= function(_0x5EF2){_0x5EF2[_$_90b0[15]]()}};if(_0x6370[_$_90b0[16]]){_0x62E6[_$_90b0[16]]= _$_90b0[16]};if(_0x6370[_$_90b0[17]]){_0x62E6[_$_90b0[17]]= true};if(!_0x6370[_$_90b0[8]]&& _0x6370[_$_90b0[18]]){[_$_90b0[24],_$_90b0[25],_$_90b0[26],_$_90b0[27],_$_90b0[28]][_$_90b0[23]](function(_0x63FA){var _0x6428=_0x63FA?_0x63FA+ _$_90b0[19]:_$_90b0[20];_0x62E6[_$_90b0[21]][_0x6428]= _$_90b0[22]})};_0x62E6[_$_90b0[29]]= _0x639E;return _0x62E6}},{"webrtc-adapter":90}],4:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x6456;function _0x6456(_0x6370){_0x6370= _0x6370|| {};this[_$_90b0[28]]= _0x6370[_$_90b0[30]]|| 100;this[_$_90b0[31]]= _0x6370[_$_90b0[31]]|| 10000;this[_$_90b0[32]]= _0x6370[_$_90b0[32]]|| 2;this[_$_90b0[33]]= _0x6370[_$_90b0[33]]> 0&& _0x6370[_$_90b0[33]]<= 1?_0x6370[_$_90b0[33]]:0;this[_$_90b0[34]]= 0}_0x6456[_$_90b0[36]][_$_90b0[35]]= function(){var _0x64B2=this[_$_90b0[28]]* Math[_$_90b0[37]](this[_$_90b0[32]],this[_$_90b0[34]]++);if(this[_$_90b0[33]]){var _0x64E0=Math[_$_90b0[38]]();var _0x6484=Math[_$_90b0[39]](_0x64E0* this[_$_90b0[33]]* _0x64B2);_0x64B2= (Math[_$_90b0[39]](_0x64E0* 10)& 1)== 0?_0x64B2- _0x6484:_0x64B2+ _0x6484};return Math[_$_90b0[30]](_0x64B2,this[_$_90b0[31]])| 0};_0x6456[_$_90b0[36]][_$_90b0[40]]= function(){this[_$_90b0[34]]= 0};_0x6456[_$_90b0[36]][_$_90b0[41]]= function(_0x650E){this[_$_90b0[28]]= _0x650E};_0x6456[_$_90b0[36]][_$_90b0[42]]= function(_0x653C){this[_$_90b0[31]]= _0x653C};_0x6456[_$_90b0[36]][_$_90b0[43]]= function(_0x656A){this[_$_90b0[33]]= _0x656A}},{}],5:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x6598){_$_90b0[45];_0x5F20[_$_90b0[46]]= function(_0x6176){var _0x61A4= new Uint8Array(_0x6176),_0x6200,_0x65F4=_0x61A4[_$_90b0[47]],_0x65C6=_$_90b0[24];for(_0x6200= 0;_0x6200< _0x65F4;_0x6200+= 3){_0x65C6+= _0x6598[_0x61A4[_0x6200]>> 2];_0x65C6+= _0x6598[((_0x61A4[_0x6200]& 3)<< 4)| (_0x61A4[_0x6200+ 1]>> 4)];_0x65C6+= _0x6598[((_0x61A4[_0x6200+ 1]& 15)<< 2)| (_0x61A4[_0x6200+ 2]>> 6)];_0x65C6+= _0x6598[_0x61A4[_0x6200+ 2]& 63]};if((_0x65F4% 3)=== 2){_0x65C6= _0x65C6[_$_90b0[48]](0,_0x65C6[_$_90b0[47]]- 1)+ _$_90b0[49]}else {if(_0x65F4% 3=== 1){_0x65C6= _0x65C6[_$_90b0[48]](0,_0x65C6[_$_90b0[47]]- 2)+ _$_90b0[50]}};return _0x65C6};_0x5F20[_$_90b0[51]]= function(_0x65C6){var _0x6622=_0x65C6[_$_90b0[47]]* 0.75,_0x65F4=_0x65C6[_$_90b0[47]],_0x6200,_0x6708=0,_0x6650,_0x667E,_0x66AC,_0x66DA;if(_0x65C6[_0x65C6[_$_90b0[47]]- 1]=== _$_90b0[49]){_0x6622--;if(_0x65C6[_0x65C6[_$_90b0[47]]- 2]=== _$_90b0[49]){_0x6622--}};var _0x6176= new ArrayBuffer(_0x6622),_0x61A4= new Uint8Array(_0x6176);for(_0x6200= 0;_0x6200< _0x65F4;_0x6200+= 4){_0x6650= _0x6598[_$_90b0[52]](_0x65C6[_0x6200]);_0x667E= _0x6598[_$_90b0[52]](_0x65C6[_0x6200+ 1]);_0x66AC= _0x6598[_$_90b0[52]](_0x65C6[_0x6200+ 2]);_0x66DA= _0x6598[_$_90b0[52]](_0x65C6[_0x6200+ 3]);_0x61A4[_0x6708++]= (_0x6650<< 2)| (_0x667E>> 4);_0x61A4[_0x6708++]= ((_0x667E& 15)<< 4)| (_0x66AC>> 2);_0x61A4[_0x6708++]= ((_0x66AC& 3)<< 6)| (_0x66DA& 63)};return _0x6176}})(_$_90b0[44])},{}],6:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x6736=_0x684A[_$_90b0[55]]|| _0x684A[_$_90b0[56]]|| _0x684A[_$_90b0[57]]|| _0x684A[_$_90b0[58]];var _0x67EE=(function(){try{var _0x68A6= new Blob([_$_90b0[59]]);return _0x68A6[_$_90b0[60]]=== 2}catch(_0x5EF2){return false}})();var _0x681C=_0x67EE&& (function(){try{var _0x68D4= new Blob([ new Uint8Array([1,2])]);return _0x68D4[_$_90b0[60]]=== 2}catch(_0x5EF2){return false}})();var _0x6792=_0x6736&& _0x6736[_$_90b0[36]][_$_90b0[61]]&& _0x6736[_$_90b0[36]][_$_90b0[62]];function _0x6878(_0x6902){for(var _0x6200=0;_0x6200< _0x6902[_$_90b0[47]];_0x6200++){var _0x698C=_0x6902[_0x6200];if(_0x698C[_$_90b0[5]] instanceof  ArrayBuffer){var _0x695E=_0x698C[_$_90b0[5]];if(_0x698C[_$_90b0[3]]!== _0x695E[_$_90b0[3]]){var _0x69BA= new Uint8Array(_0x698C[_$_90b0[3]]);_0x69BA[_$_90b0[64]]( new Uint8Array(_0x695E,_0x698C[_$_90b0[63]],_0x698C[_$_90b0[3]]));_0x695E= _0x69BA[_$_90b0[5]]};_0x6902[_0x6200]= _0x695E}}}function _0x6764(_0x6902,_0x6342){_0x6342= _0x6342|| {};var _0x6930= new _0x6736();_0x6878(_0x6902);for(var _0x6200=0;_0x6200< _0x6902[_$_90b0[47]];_0x6200++){_0x6930[_$_90b0[61]](_0x6902[_0x6200])};return (_0x6342[_$_90b0[65]])?_0x6930[_$_90b0[62]](_0x6342[_$_90b0[65]]):_0x6930[_$_90b0[62]]()}function _0x67C0(_0x6902,_0x6342){_0x6878(_0x6902);return  new Blob(_0x6902,_0x6342|| {})}_0x5F4E[_$_90b0[0]]= (function(){if(_0x67EE){return _0x681C?_0x684A[_$_90b0[66]]:_0x67C0}else {if(_0x6792){return _0x6764}else {return undefined}}})()})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{}],7:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x69E8=[][_$_90b0[4]];_0x5F4E[_$_90b0[0]]= function(_0x6A72,_0x6A44){if(_$_90b0[67]==  typeof _0x6A44){_0x6A44= _0x6A72[_0x6A44]};if(_$_90b0[68]!=  typeof _0x6A44){throw  new Error(_$_90b0[69])};var _0x6A16=_0x69E8[_$_90b0[54]](arguments,2);return function(){return _0x6A44[_$_90b0[71]](_0x6A72,_0x6A16[_$_90b0[70]](_0x69E8[_$_90b0[54]](arguments)))}}},{}],8:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x6AA0;function _0x6AA0(_0x6A72){if(_0x6A72){return _0x6ACE(_0x6A72)}}function _0x6ACE(_0x6A72){for(var _0x6BE2 in _0x6AA0[_$_90b0[36]]){_0x6A72[_0x6BE2]= _0x6AA0[_$_90b0[36]][_0x6BE2]};return _0x6A72}_0x6AA0[_$_90b0[36]][_$_90b0[72]]= _0x6AA0[_$_90b0[36]][_$_90b0[73]]= function(_0x6AFC,_0x6A44){this[_$_90b0[74]]= this[_$_90b0[74]]|| {};(this[_$_90b0[74]][_0x6AFC]= this[_$_90b0[74]][_0x6AFC]|| [])[_$_90b0[75]](_0x6A44);return this};_0x6AA0[_$_90b0[36]][_$_90b0[76]]= function(_0x6AFC,_0x6A44){var _0x6B58=this;this[_$_90b0[74]]= this[_$_90b0[74]]|| {};function _0x6B2A(){_0x6B58[_$_90b0[77]](_0x6AFC,_0x6B2A);_0x6A44[_$_90b0[71]](this,arguments)}_0x6B2A[_$_90b0[78]]= _0x6A44;this[_$_90b0[72]](_0x6AFC,_0x6B2A);return this};_0x6AA0[_$_90b0[36]][_$_90b0[77]]= _0x6AA0[_$_90b0[36]][_$_90b0[79]]= _0x6AA0[_$_90b0[36]][_$_90b0[80]]= _0x6AA0[_$_90b0[36]][_$_90b0[81]]= function(_0x6AFC,_0x6A44){this[_$_90b0[74]]= this[_$_90b0[74]]|| {};if(0== arguments[_$_90b0[47]]){this[_$_90b0[74]]= {};return this};var _0x6B86=this[_$_90b0[74]][_0x6AFC];if(!_0x6B86){return this};if(1== arguments[_$_90b0[47]]){delete this[_$_90b0[74]][_0x6AFC];return this};var _0x6BB4;for(var _0x6200=0;_0x6200< _0x6B86[_$_90b0[47]];_0x6200++){_0x6BB4= _0x6B86[_0x6200];if(_0x6BB4=== _0x6A44|| _0x6BB4[_$_90b0[78]]=== _0x6A44){_0x6B86[_$_90b0[82]](_0x6200,1);break}};return this};_0x6AA0[_$_90b0[36]][_$_90b0[83]]= function(_0x6AFC){this[_$_90b0[74]]= this[_$_90b0[74]]|| {};var _0x6A16=[][_$_90b0[4]][_$_90b0[54]](arguments,1),_0x6B86=this[_$_90b0[74]][_0x6AFC];if(_0x6B86){_0x6B86= _0x6B86[_$_90b0[4]](0);for(var _0x6200=0,_0x65F4=_0x6B86[_$_90b0[47]];_0x6200< _0x65F4;++_0x6200){_0x6B86[_0x6200][_$_90b0[71]](this,_0x6A16)}};return this};_0x6AA0[_$_90b0[36]][_$_90b0[84]]= function(_0x6AFC){this[_$_90b0[74]]= this[_$_90b0[74]]|| {};return this[_$_90b0[74]][_0x6AFC]|| []};_0x6AA0[_$_90b0[36]][_$_90b0[85]]= function(_0x6AFC){return !!this[_$_90b0[84]](_0x6AFC)[_$_90b0[47]]}},{}],9:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= function(_0x68A6,_0x68D4){var _0x6A44=function(){};_0x6A44[_$_90b0[36]]= _0x68D4[_$_90b0[36]];_0x68A6[_$_90b0[36]]=  new _0x6A44;_0x68A6[_$_90b0[36]][_$_90b0[86]]= _0x68A6}},{}],10:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x5FD8(_$_90b0[87])},{"./lib/":11}],11:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x5FD8(_$_90b0[88]);_0x5F4E[_$_90b0[0]][_$_90b0[89]]= _0x5FD8(_$_90b0[90])},{"./socket":12,"engine.io-parser":24}],12:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x6D80=_0x5FD8(_$_90b0[91]);var _0x6AA0=_0x5FD8(_$_90b0[92]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[93]);var _0x6C6C=_0x5FD8(_$_90b0[95]);var _0x6CF6=_0x5FD8(_$_90b0[90]);var _0x6D24=_0x5FD8(_$_90b0[96]);var _0x6C9A=_0x5FD8(_$_90b0[97]);var _0x6CC8=_0x5FD8(_$_90b0[98]);_0x5F4E[_$_90b0[0]]= _0x6D52;function _0x5FAA(){}function _0x6D52(_0x7312,_0x6370){if(!(this instanceof  _0x6D52)){return  new _0x6D52(_0x7312,_0x6370)};_0x6370= _0x6370|| {};if(_0x7312&& _$_90b0[99]==  typeof _0x7312){_0x6370= _0x7312;_0x7312= null};if(_0x7312){_0x7312= _0x6D24(_0x7312);_0x6370[_$_90b0[100]]= _0x7312[_$_90b0[100]];_0x6370[_$_90b0[101]]= _0x7312[_$_90b0[102]]== _$_90b0[103]|| _0x7312[_$_90b0[102]]== _$_90b0[104];_0x6370[_$_90b0[105]]= _0x7312[_$_90b0[105]];if(_0x7312[_$_90b0[106]]){_0x6370[_$_90b0[106]]= _0x7312[_$_90b0[106]]}};this[_$_90b0[101]]= null!= _0x6370[_$_90b0[101]]?_0x6370[_$_90b0[101]]:(_0x684A[_$_90b0[107]]&& _$_90b0[108]== location[_$_90b0[102]]);if(_0x6370[_$_90b0[100]]){var _0x72E4=_0x6370[_$_90b0[100]][_$_90b0[110]](_$_90b0[109]);_0x6370[_$_90b0[111]]= _0x72E4[_$_90b0[112]]();if(_0x72E4[_$_90b0[47]]){_0x6370[_$_90b0[105]]= _0x72E4[_$_90b0[113]]()}else {if(!_0x6370[_$_90b0[105]]){_0x6370[_$_90b0[105]]= this[_$_90b0[101]]?_$_90b0[114]:_$_90b0[115]}}};this[_$_90b0[116]]= _0x6370[_$_90b0[116]]|| false;this[_$_90b0[111]]= _0x6370[_$_90b0[111]]|| (_0x684A[_$_90b0[107]]?location[_$_90b0[111]]:_$_90b0[117]);this[_$_90b0[105]]= _0x6370[_$_90b0[105]]|| (_0x684A[_$_90b0[107]]&& location[_$_90b0[105]]?location[_$_90b0[105]]:(this[_$_90b0[101]]?443:80));this[_$_90b0[106]]= _0x6370[_$_90b0[106]]|| {};if(_$_90b0[67]==  typeof this[_$_90b0[106]]){this[_$_90b0[106]]= _0x6CC8[_$_90b0[51]](this[_$_90b0[106]])};this[_$_90b0[118]]= false!== _0x6370[_$_90b0[118]];this[_$_90b0[119]]= (_0x6370[_$_90b0[119]]|| _$_90b0[121])[_$_90b0[120]](/\/$/,_$_90b0[24])+ _$_90b0[122];this[_$_90b0[123]]=  !!_0x6370[_$_90b0[123]];this[_$_90b0[124]]= false!== _0x6370[_$_90b0[124]];this[_$_90b0[125]]=  !!_0x6370[_$_90b0[125]];this[_$_90b0[126]]=  !!_0x6370[_$_90b0[126]];this[_$_90b0[127]]= _0x6370[_$_90b0[127]]|| _$_90b0[128];this[_$_90b0[129]]= _0x6370[_$_90b0[129]];this[_$_90b0[130]]= _0x6370[_$_90b0[130]]|| [_$_90b0[131],_$_90b0[132]];this[_$_90b0[133]]= _$_90b0[24];this[_$_90b0[134]]= [];this[_$_90b0[135]]= [];this[_$_90b0[136]]= _0x6370[_$_90b0[136]]|| 843;this[_$_90b0[137]]= _0x6370[_$_90b0[137]]|| false;this[_$_90b0[138]]= null;this[_$_90b0[139]]= _0x6370[_$_90b0[139]];this[_$_90b0[140]]= _0x6370[_$_90b0[140]]|| null;this[_$_90b0[141]]= _0x6370[_$_90b0[141]]|| null;this[_$_90b0[142]]= _0x6370[_$_90b0[142]]|| null;this[_$_90b0[143]]= _0x6370[_$_90b0[143]]|| null;this[_$_90b0[144]]= _0x6370[_$_90b0[144]]|| null;this[_$_90b0[145]]= _0x6370[_$_90b0[145]]|| null;this[_$_90b0[146]]= _0x6370[_$_90b0[146]]|| null;this[_$_90b0[147]]()}_0x6D52[_$_90b0[148]]= false;_0x6AA0(_0x6D52[_$_90b0[36]]);_0x6D52[_$_90b0[102]]= _0x6CF6[_$_90b0[102]];_0x6D52[_$_90b0[149]]= _0x6D52;_0x6D52[_$_90b0[150]]= _0x5FD8(_$_90b0[151]);_0x6D52[_$_90b0[130]]= _0x5FD8(_$_90b0[91]);_0x6D52[_$_90b0[89]]= _0x5FD8(_$_90b0[90]);_0x6D52[_$_90b0[36]][_$_90b0[152]]= function(_0x6DAE){_0x6C3E(_$_90b0[153],_0x6DAE);var _0x6DDC=_0x6C10(this[_$_90b0[106]]);_0x6DDC[_$_90b0[154]]= _0x6CF6[_$_90b0[102]];_0x6DDC[_$_90b0[155]]= _0x6DAE;if(this[_$_90b0[156]]){_0x6DDC[_$_90b0[157]]= this[_$_90b0[156]]};var _0x6E0A= new _0x6D80[_0x6DAE]({agent:this[_$_90b0[116]],hostname:this[_$_90b0[111]],port:this[_$_90b0[105]],secure:this[_$_90b0[101]],path:this[_$_90b0[119]],query:_0x6DDC,forceJSONP:this[_$_90b0[123]],jsonp:this[_$_90b0[124]],forceBase64:this[_$_90b0[125]],enablesXDR:this[_$_90b0[126]],timestampRequests:this[_$_90b0[129]],timestampParam:this[_$_90b0[127]],policyPort:this[_$_90b0[136]],socket:this,pfx:this[_$_90b0[140]],key:this[_$_90b0[141]],passphrase:this[_$_90b0[142]],cert:this[_$_90b0[143]],ca:this[_$_90b0[144]],ciphers:this[_$_90b0[145]],rejectUnauthorized:this[_$_90b0[146]]});return _0x6E0A};function _0x6C10(_0x6A72){var _0x72B6={};for(var _0x6200 in _0x6A72){if(_0x6A72[_$_90b0[158]](_0x6200)){_0x72B6[_0x6200]= _0x6A72[_0x6200]}};return _0x72B6}_0x6D52[_$_90b0[36]][_$_90b0[147]]= function(){var _0x6E0A;if(this[_$_90b0[137]]&& _0x6D52[_$_90b0[148]]&& this[_$_90b0[130]][_$_90b0[52]](_$_90b0[132])!=  -1){_0x6E0A= _$_90b0[132]}else {if(0== this[_$_90b0[130]][_$_90b0[47]]){var _0x6B58=this;setTimeout(function(){_0x6B58[_$_90b0[83]](_$_90b0[159],_$_90b0[160])},0);return}else {_0x6E0A= this[_$_90b0[130]][0]}};this[_$_90b0[133]]= _$_90b0[161];var _0x6E0A;try{_0x6E0A= this[_$_90b0[152]](_0x6E0A)}catch(_0x5EF2){this[_$_90b0[130]][_$_90b0[112]]();this[_$_90b0[147]]();return};_0x6E0A[_$_90b0[147]]();this[_$_90b0[162]](_0x6E0A)};_0x6D52[_$_90b0[36]][_$_90b0[162]]= function(_0x6E0A){_0x6C3E(_$_90b0[163],_0x6E0A[_$_90b0[164]]);var _0x6B58=this;if(this[_$_90b0[155]]){_0x6C3E(_$_90b0[165],this[_$_90b0[155]][_$_90b0[164]]);this[_$_90b0[155]][_$_90b0[80]]()};this[_$_90b0[155]]= _0x6E0A;_0x6E0A[_$_90b0[72]](_$_90b0[172],function(){_0x6B58[_$_90b0[173]]()})[_$_90b0[72]](_$_90b0[170],function(_0x6E38){_0x6B58[_$_90b0[171]](_0x6E38)})[_$_90b0[72]](_$_90b0[159],function(_0x5EF2){_0x6B58[_$_90b0[169]](_0x5EF2)})[_$_90b0[72]](_$_90b0[166],function(){_0x6B58[_$_90b0[168]](_$_90b0[167])})};_0x6D52[_$_90b0[36]][_$_90b0[174]]= function(_0x6DAE){_0x6C3E(_$_90b0[175],_0x6DAE);var _0x6E0A=this[_$_90b0[152]](_0x6DAE,{probe:1}),_0x6E94=false,_0x6B58=this;_0x6D52[_$_90b0[148]]= false;function _0x6F7A(){if(_0x6B58[_$_90b0[139]]){var _0x7004=!this[_$_90b0[176]]&& _0x6B58[_$_90b0[155]][_$_90b0[176]];_0x6E94= _0x6E94|| _0x7004};if(_0x6E94){return};_0x6C3E(_$_90b0[177],_0x6DAE);_0x6E0A[_$_90b0[179]]([{type:_$_90b0[178],data:_$_90b0[174]}]);_0x6E0A[_$_90b0[76]](_$_90b0[170],function(_0x7032){if(_0x6E94){return};if(_$_90b0[180]== _0x7032[_$_90b0[65]]&& _$_90b0[174]== _0x7032[_$_90b0[181]]){_0x6C3E(_$_90b0[182],_0x6DAE);_0x6B58[_$_90b0[183]]= true;_0x6B58[_$_90b0[83]](_$_90b0[183],_0x6E0A);if(!_0x6E0A){return};_0x6D52[_$_90b0[148]]= _$_90b0[132]== _0x6E0A[_$_90b0[164]];_0x6C3E(_$_90b0[184],_0x6B58[_$_90b0[155]][_$_90b0[164]]);_0x6B58[_$_90b0[155]][_$_90b0[188]](function(){if(_0x6E94){return};if(_$_90b0[185]== _0x6B58[_$_90b0[133]]){return};_0x6C3E(_$_90b0[186]);_0x6E66();_0x6B58[_$_90b0[162]](_0x6E0A);_0x6E0A[_$_90b0[179]]([{type:_$_90b0[118]}]);_0x6B58[_$_90b0[83]](_$_90b0[118],_0x6E0A);_0x6E0A= null;_0x6B58[_$_90b0[183]]= false;_0x6B58[_$_90b0[187]]()})}else {_0x6C3E(_$_90b0[189],_0x6DAE);var _0x60EC= new Error(_$_90b0[190]);_0x60EC[_$_90b0[155]]= _0x6E0A[_$_90b0[164]];_0x6B58[_$_90b0[83]](_$_90b0[191],_0x60EC)}})}function _0x6EC2(){if(_0x6E94){return};_0x6E94= true;_0x6E66();_0x6E0A[_$_90b0[166]]();_0x6E0A= null}function _0x6F1E(_0x60EC){var _0x6FD6= new Error(_$_90b0[192]+ _0x60EC);_0x6FD6[_$_90b0[155]]= _0x6E0A[_$_90b0[164]];_0x6EC2();_0x6C3E(_$_90b0[193],_0x6DAE,_0x60EC);_0x6B58[_$_90b0[83]](_$_90b0[191],_0x6FD6)}function _0x6F4C(){_0x6F1E(_$_90b0[194])}function _0x6EF0(){_0x6F1E(_$_90b0[195])}function _0x6FA8(_0x7060){if(_0x6E0A&& _0x7060[_$_90b0[164]]!= _0x6E0A[_$_90b0[164]]){_0x6C3E(_$_90b0[196],_0x7060[_$_90b0[164]],_0x6E0A[_$_90b0[164]]);_0x6EC2()}}function _0x6E66(){_0x6E0A[_$_90b0[79]](_$_90b0[147],_0x6F7A);_0x6E0A[_$_90b0[79]](_$_90b0[159],_0x6F1E);_0x6E0A[_$_90b0[79]](_$_90b0[166],_0x6F4C);_0x6B58[_$_90b0[79]](_$_90b0[166],_0x6EF0);_0x6B58[_$_90b0[79]](_$_90b0[183],_0x6FA8)}_0x6E0A[_$_90b0[76]](_$_90b0[147],_0x6F7A);_0x6E0A[_$_90b0[76]](_$_90b0[159],_0x6F1E);_0x6E0A[_$_90b0[76]](_$_90b0[166],_0x6F4C);this[_$_90b0[76]](_$_90b0[166],_0x6EF0);this[_$_90b0[76]](_$_90b0[183],_0x6FA8);_0x6E0A[_$_90b0[147]]()};_0x6D52[_$_90b0[36]][_$_90b0[197]]= function(){_0x6C3E(_$_90b0[198]);this[_$_90b0[133]]= _$_90b0[147];_0x6D52[_$_90b0[148]]= _$_90b0[132]== this[_$_90b0[155]][_$_90b0[164]];this[_$_90b0[83]](_$_90b0[147]);this[_$_90b0[187]]();if(_$_90b0[147]== this[_$_90b0[133]]&& this[_$_90b0[118]]&& this[_$_90b0[155]][_$_90b0[188]]){_0x6C3E(_$_90b0[199]);for(var _0x6200=0,_0x708E=this[_$_90b0[200]][_$_90b0[47]];_0x6200< _0x708E;_0x6200++){this[_$_90b0[174]](this[_$_90b0[200]][_0x6200])}}};_0x6D52[_$_90b0[36]][_$_90b0[171]]= function(_0x6E38){if(_$_90b0[161]== this[_$_90b0[133]]|| _$_90b0[147]== this[_$_90b0[133]]){_0x6C3E(_$_90b0[201],_0x6E38[_$_90b0[65]],_0x6E38[_$_90b0[181]]);this[_$_90b0[83]](_$_90b0[170],_0x6E38);this[_$_90b0[83]](_$_90b0[202]);switch(_0x6E38[_$_90b0[65]]){case _$_90b0[147]:this[_$_90b0[203]](_0x6C9A(_0x6E38[_$_90b0[181]]));break;case _$_90b0[180]:this[_$_90b0[204]]();break;case _$_90b0[159]:var _0x60EC= new Error(_$_90b0[205]);_0x60EC[_$_90b0[206]]= _0x6E38[_$_90b0[181]];this[_$_90b0[83]](_$_90b0[159],_0x60EC);break;case _$_90b0[207]:this[_$_90b0[83]](_$_90b0[181],_0x6E38[_$_90b0[181]]);this[_$_90b0[83]](_$_90b0[207],_0x6E38[_$_90b0[181]]);break}}else {_0x6C3E(_$_90b0[208],this[_$_90b0[133]])}};_0x6D52[_$_90b0[36]][_$_90b0[203]]= function(_0x70BC){this[_$_90b0[83]](_$_90b0[209],_0x70BC);this[_$_90b0[156]]= _0x70BC[_$_90b0[157]];this[_$_90b0[155]][_$_90b0[106]][_$_90b0[157]]= _0x70BC[_$_90b0[157]];this[_$_90b0[200]]= this[_$_90b0[210]](_0x70BC[_$_90b0[200]]);this[_$_90b0[211]]= _0x70BC[_$_90b0[211]];this[_$_90b0[212]]= _0x70BC[_$_90b0[212]];this[_$_90b0[197]]();if(_$_90b0[185]== this[_$_90b0[133]]){return};this[_$_90b0[204]]();this[_$_90b0[79]](_$_90b0[202],this[_$_90b0[213]]);this[_$_90b0[72]](_$_90b0[202],this[_$_90b0[213]])};_0x6D52[_$_90b0[36]][_$_90b0[213]]= function(_0x70EA){clearTimeout(this[_$_90b0[214]]);var _0x6B58=this;_0x6B58[_$_90b0[214]]= setTimeout(function(){if(_$_90b0[185]== _0x6B58[_$_90b0[133]]){return};_0x6B58[_$_90b0[168]](_$_90b0[215])},_0x70EA|| (_0x6B58[_$_90b0[211]]+ _0x6B58[_$_90b0[212]]))};_0x6D52[_$_90b0[36]][_$_90b0[204]]= function(){var _0x6B58=this;clearTimeout(_0x6B58[_$_90b0[216]]);_0x6B58[_$_90b0[216]]= setTimeout(function(){_0x6C3E(_$_90b0[217],_0x6B58[_$_90b0[212]]);_0x6B58[_$_90b0[178]]();_0x6B58[_$_90b0[213]](_0x6B58[_$_90b0[212]])},_0x6B58[_$_90b0[211]])};_0x6D52[_$_90b0[36]][_$_90b0[178]]= function(){this[_$_90b0[218]](_$_90b0[178])};_0x6D52[_$_90b0[36]][_$_90b0[173]]= function(){for(var _0x6200=0;_0x6200< this[_$_90b0[219]];_0x6200++){if(this[_$_90b0[135]][_0x6200]){this[_$_90b0[135]][_0x6200]()}};this[_$_90b0[134]][_$_90b0[82]](0,this[_$_90b0[219]]);this[_$_90b0[135]][_$_90b0[82]](0,this[_$_90b0[219]]);this[_$_90b0[219]]= 0;if(this[_$_90b0[134]][_$_90b0[47]]== 0){this[_$_90b0[83]](_$_90b0[172])}else {this[_$_90b0[187]]()}};_0x6D52[_$_90b0[36]][_$_90b0[187]]= function(){if(_$_90b0[185]!= this[_$_90b0[133]]&& this[_$_90b0[155]][_$_90b0[220]]&&  !this[_$_90b0[183]]&& this[_$_90b0[134]][_$_90b0[47]]){_0x6C3E(_$_90b0[221],this[_$_90b0[134]][_$_90b0[47]]);this[_$_90b0[155]][_$_90b0[179]](this[_$_90b0[134]]);this[_$_90b0[219]]= this[_$_90b0[134]][_$_90b0[47]];this[_$_90b0[83]](_$_90b0[187])}};_0x6D52[_$_90b0[36]][_$_90b0[222]]= _0x6D52[_$_90b0[36]][_$_90b0[179]]= function(_0x7032,_0x6A44){this[_$_90b0[218]](_$_90b0[207],_0x7032,_0x6A44);return this};_0x6D52[_$_90b0[36]][_$_90b0[218]]= function(_0x7118,_0x70BC,_0x6A44){if(_$_90b0[223]== this[_$_90b0[133]]|| _$_90b0[185]== this[_$_90b0[133]]){return};var _0x6E38={type:_0x7118,data:_0x70BC};this[_$_90b0[83]](_$_90b0[224],_0x6E38);this[_$_90b0[134]][_$_90b0[75]](_0x6E38);this[_$_90b0[135]][_$_90b0[75]](_0x6A44);this[_$_90b0[187]]()};_0x6D52[_$_90b0[36]][_$_90b0[166]]= function(){if(_$_90b0[161]== this[_$_90b0[133]]|| _$_90b0[147]== this[_$_90b0[133]]){this[_$_90b0[133]]= _$_90b0[223];var _0x6B58=this;function _0x7174(){_0x6B58[_$_90b0[168]](_$_90b0[225]);_0x6C3E(_$_90b0[226]);_0x6B58[_$_90b0[155]][_$_90b0[166]]()}function _0x7146(){_0x6B58[_$_90b0[79]](_$_90b0[118],_0x7146);_0x6B58[_$_90b0[79]](_$_90b0[191],_0x7146);_0x7174()}function _0x71A2(){_0x6B58[_$_90b0[76]](_$_90b0[118],_0x7146);_0x6B58[_$_90b0[76]](_$_90b0[191],_0x7146)}if(this[_$_90b0[134]][_$_90b0[47]]){this[_$_90b0[76]](_$_90b0[172],function(){if(this[_$_90b0[183]]){_0x71A2()}else {_0x7174()}})}else {if(this[_$_90b0[183]]){_0x71A2()}else {_0x7174()}}};return this};_0x6D52[_$_90b0[36]][_$_90b0[169]]= function(_0x60EC){_0x6C3E(_$_90b0[227],_0x60EC);_0x6D52[_$_90b0[148]]= false;this[_$_90b0[83]](_$_90b0[159],_0x60EC);this[_$_90b0[168]](_$_90b0[228],_0x60EC)};_0x6D52[_$_90b0[36]][_$_90b0[168]]= function(_0x71FE,_0x71D0){if(_$_90b0[161]== this[_$_90b0[133]]|| _$_90b0[147]== this[_$_90b0[133]]|| _$_90b0[223]== this[_$_90b0[133]]){_0x6C3E(_$_90b0[229],_0x71FE);var _0x6B58=this;clearTimeout(this[_$_90b0[216]]);clearTimeout(this[_$_90b0[214]]);setTimeout(function(){_0x6B58[_$_90b0[134]]= [];_0x6B58[_$_90b0[135]]= [];_0x6B58[_$_90b0[219]]= 0},0);this[_$_90b0[155]][_$_90b0[80]](_$_90b0[166]);this[_$_90b0[155]][_$_90b0[166]]();this[_$_90b0[155]][_$_90b0[80]]();this[_$_90b0[133]]= _$_90b0[185];this[_$_90b0[156]]= null;this[_$_90b0[83]](_$_90b0[166],_0x71FE,_0x71D0)}};_0x6D52[_$_90b0[36]][_$_90b0[210]]= function(_0x7288){var _0x722C=[];for(var _0x6200=0,_0x725A=_0x7288[_$_90b0[47]];_0x6200< _0x725A;_0x6200++){if(~_0x6C6C(this[_$_90b0[130]],_0x7288[_0x6200])){_0x722C[_$_90b0[75]](_0x7288[_0x6200])}};return _0x722C}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,"debug":20,"engine.io-parser":24,"indexof":44,"parsejson":52,"parseqs":53,"parseuri":23}],13:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x6CF6=_0x5FD8(_$_90b0[90]);var _0x6AA0=_0x5FD8(_$_90b0[92]);_0x5F4E[_$_90b0[0]]= _0x7340;function _0x7340(_0x6370){this[_$_90b0[119]]= _0x6370[_$_90b0[119]];this[_$_90b0[111]]= _0x6370[_$_90b0[111]];this[_$_90b0[105]]= _0x6370[_$_90b0[105]];this[_$_90b0[101]]= _0x6370[_$_90b0[101]];this[_$_90b0[106]]= _0x6370[_$_90b0[106]];this[_$_90b0[127]]= _0x6370[_$_90b0[127]];this[_$_90b0[129]]= _0x6370[_$_90b0[129]];this[_$_90b0[133]]= _$_90b0[24];this[_$_90b0[116]]= _0x6370[_$_90b0[116]]|| false;this[_$_90b0[230]]= _0x6370[_$_90b0[230]];this[_$_90b0[126]]= _0x6370[_$_90b0[126]];this[_$_90b0[140]]= _0x6370[_$_90b0[140]];this[_$_90b0[141]]= _0x6370[_$_90b0[141]];this[_$_90b0[142]]= _0x6370[_$_90b0[142]];this[_$_90b0[143]]= _0x6370[_$_90b0[143]];this[_$_90b0[144]]= _0x6370[_$_90b0[144]];this[_$_90b0[145]]= _0x6370[_$_90b0[145]];this[_$_90b0[146]]= _0x6370[_$_90b0[146]]}_0x6AA0(_0x7340[_$_90b0[36]]);_0x7340[_$_90b0[231]]= 0;_0x7340[_$_90b0[36]][_$_90b0[169]]= function(_0x7032,_0x71D0){var _0x60EC= new Error(_0x7032);_0x60EC[_$_90b0[65]]= _$_90b0[232];_0x60EC[_$_90b0[233]]= _0x71D0;this[_$_90b0[83]](_$_90b0[159],_0x60EC);return this};_0x7340[_$_90b0[36]][_$_90b0[147]]= function(){if(_$_90b0[185]== this[_$_90b0[133]]|| _$_90b0[24]== this[_$_90b0[133]]){this[_$_90b0[133]]= _$_90b0[161];this[_$_90b0[234]]()};return this};_0x7340[_$_90b0[36]][_$_90b0[166]]= function(){if(_$_90b0[161]== this[_$_90b0[133]]|| _$_90b0[147]== this[_$_90b0[133]]){this[_$_90b0[235]]();this[_$_90b0[168]]()};return this};_0x7340[_$_90b0[36]][_$_90b0[179]]= function(_0x736E){if(_$_90b0[147]== this[_$_90b0[133]]){this[_$_90b0[222]](_0x736E)}else {throw  new Error(_$_90b0[236])}};_0x7340[_$_90b0[36]][_$_90b0[197]]= function(){this[_$_90b0[133]]= _$_90b0[147];this[_$_90b0[220]]= true;this[_$_90b0[83]](_$_90b0[147])};_0x7340[_$_90b0[36]][_$_90b0[237]]= function(_0x70BC){var _0x6E38=_0x6CF6[_$_90b0[238]](_0x70BC,this[_$_90b0[230]][_$_90b0[138]]);this[_$_90b0[171]](_0x6E38)};_0x7340[_$_90b0[36]][_$_90b0[171]]= function(_0x6E38){this[_$_90b0[83]](_$_90b0[170],_0x6E38)};_0x7340[_$_90b0[36]][_$_90b0[168]]= function(){this[_$_90b0[133]]= _$_90b0[185];this[_$_90b0[83]](_$_90b0[166])}},{"component-emitter":8,"engine.io-parser":24}],14:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x7454=_0x5FD8(_$_90b0[239]);var _0x7426=_0x5FD8(_$_90b0[240]);var _0x739C=_0x5FD8(_$_90b0[241]);var _0x73F8=_0x5FD8(_$_90b0[242]);_0x5F20[_$_90b0[131]]= _0x73CA;_0x5F20[_$_90b0[132]]= _0x73F8;function _0x73CA(_0x6370){var _0x753A;var _0x750C=false;var _0x7568=false;var _0x74B0=false!== _0x6370[_$_90b0[124]];if(_0x684A[_$_90b0[107]]){var _0x7482=_$_90b0[108]== location[_$_90b0[102]];var _0x74DE=location[_$_90b0[105]];if(!_0x74DE){_0x74DE= _0x7482?443:80};_0x750C= _0x6370[_$_90b0[111]]!= location[_$_90b0[111]]|| _0x74DE!= _0x6370[_$_90b0[105]];_0x7568= _0x6370[_$_90b0[101]]!= _0x7482};_0x6370[_$_90b0[243]]= _0x750C;_0x6370[_$_90b0[244]]= _0x7568;_0x753A=  new _0x7454(_0x6370);if(_$_90b0[147] in  _0x753A&&  !_0x6370[_$_90b0[123]]){return  new _0x7426(_0x6370)}else {if(!_0x74B0){throw  new Error(_$_90b0[245])};return  new _0x739C(_0x6370)}}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,"xmlhttprequest":19}],15:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x7620=_0x5FD8(_$_90b0[246]);var _0x75C4=_0x5FD8(_$_90b0[247]);_0x5F4E[_$_90b0[0]]= _0x75F2;var _0x767C=/\n/g;var _0x764E=/\\n/g;var _0x6B86;var _0x6C6C=0;function _0x7596(){}function _0x75F2(_0x6370){_0x7620[_$_90b0[54]](this,_0x6370);this[_$_90b0[106]]= this[_$_90b0[106]]|| {};if(!_0x6B86){if(!_0x684A[_$_90b0[248]]){_0x684A[_$_90b0[248]]= []};_0x6B86= _0x684A[_$_90b0[248]]};this[_$_90b0[249]]= _0x6B86[_$_90b0[47]];var _0x6B58=this;_0x6B86[_$_90b0[75]](function(_0x7032){_0x6B58[_$_90b0[237]](_0x7032)});this[_$_90b0[106]][_$_90b0[250]]= this[_$_90b0[249]];if(_0x684A[_$_90b0[251]]&& _0x684A[_$_90b0[73]]){_0x684A[_$_90b0[73]](_$_90b0[252],function(){if(_0x6B58[_$_90b0[253]]){_0x6B58[_$_90b0[253]][_$_90b0[254]]= _0x7596}},false)}}_0x75C4(_0x75F2,_0x7620);_0x75F2[_$_90b0[36]][_$_90b0[176]]= false;_0x75F2[_$_90b0[36]][_$_90b0[235]]= function(){if(this[_$_90b0[253]]){this[_$_90b0[253]][_$_90b0[256]][_$_90b0[255]](this[_$_90b0[253]]);this[_$_90b0[253]]= null};if(this[_$_90b0[257]]){this[_$_90b0[257]][_$_90b0[256]][_$_90b0[255]](this[_$_90b0[257]]);this[_$_90b0[257]]= null;this[_$_90b0[258]]= null};_0x7620[_$_90b0[36]][_$_90b0[235]][_$_90b0[54]](this)};_0x75F2[_$_90b0[36]][_$_90b0[259]]= function(){var _0x6B58=this;var _0x7706=document[_$_90b0[10]](_$_90b0[253]);if(this[_$_90b0[253]]){this[_$_90b0[253]][_$_90b0[256]][_$_90b0[255]](this[_$_90b0[253]]);this[_$_90b0[253]]= null};_0x7706[_$_90b0[260]]= true;_0x7706[_$_90b0[261]]= this[_$_90b0[262]]();_0x7706[_$_90b0[254]]= function(_0x5EF2){_0x6B58[_$_90b0[169]](_$_90b0[263],_0x5EF2)};var _0x76AA=document[_$_90b0[264]](_$_90b0[253])[0];_0x76AA[_$_90b0[256]][_$_90b0[265]](_0x7706,_0x76AA);this[_$_90b0[253]]= _0x7706;var _0x76D8=_$_90b0[53]!=  typeof navigator&& /gecko/i[_$_90b0[267]](navigator[_$_90b0[266]]);if(_0x76D8){setTimeout(function(){var _0x7734=document[_$_90b0[10]](_$_90b0[258]);document[_$_90b0[269]][_$_90b0[268]](_0x7734);document[_$_90b0[269]][_$_90b0[255]](_0x7734)},100)}};_0x75F2[_$_90b0[36]][_$_90b0[270]]= function(_0x70BC,_0x6A44){var _0x6B58=this;if(!this[_$_90b0[257]]){var _0x77BE=document[_$_90b0[10]](_$_90b0[257]);var _0x7762=document[_$_90b0[10]](_$_90b0[271]);var _0x77EC=this[_$_90b0[272]]= _$_90b0[273]+ this[_$_90b0[249]];var _0x7734;_0x77BE[_$_90b0[274]]= _$_90b0[275];_0x77BE[_$_90b0[21]][_$_90b0[276]]= _$_90b0[277];_0x77BE[_$_90b0[21]][_$_90b0[278]]= _$_90b0[279];_0x77BE[_$_90b0[21]][_$_90b0[280]]= _$_90b0[279];_0x77BE[_$_90b0[281]]= _0x77EC;_0x77BE[_$_90b0[282]]= _$_90b0[283];_0x77BE[_$_90b0[286]](_$_90b0[284],_$_90b0[285]);_0x7762[_$_90b0[164]]= _$_90b0[287];_0x77BE[_$_90b0[268]](_0x7762);document[_$_90b0[269]][_$_90b0[268]](_0x77BE);this[_$_90b0[257]]= _0x77BE;this[_$_90b0[288]]= _0x7762};this[_$_90b0[257]][_$_90b0[289]]= this[_$_90b0[262]]();function _0x7790(){_0x781A();_0x6A44()}function _0x781A(){if(_0x6B58[_$_90b0[258]]){try{_0x6B58[_$_90b0[257]][_$_90b0[255]](_0x6B58[_$_90b0[258]])}catch(_0x5EF2){_0x6B58[_$_90b0[169]](_$_90b0[290],_0x5EF2)}};try{var _0x7848=_$_90b0[291]+ _0x6B58[_$_90b0[272]]+ _$_90b0[292];_0x7734= document[_$_90b0[10]](_0x7848)}catch(_0x5EF2){_0x7734= document[_$_90b0[10]](_$_90b0[258]);_0x7734[_$_90b0[164]]= _0x6B58[_$_90b0[272]];_0x7734[_$_90b0[261]]= _$_90b0[293]};_0x7734[_$_90b0[156]]= _0x6B58[_$_90b0[272]];_0x6B58[_$_90b0[257]][_$_90b0[268]](_0x7734);_0x6B58[_$_90b0[258]]= _0x7734}_0x781A();_0x70BC= _0x70BC[_$_90b0[120]](_0x764E,_$_90b0[294]);this[_$_90b0[288]][_$_90b0[295]]= _0x70BC[_$_90b0[120]](_0x767C,_$_90b0[296]);try{this[_$_90b0[257]][_$_90b0[297]]()}catch(_0x5EF2){};if(this[_$_90b0[258]][_$_90b0[298]]){this[_$_90b0[258]][_$_90b0[299]]= function(){if(_0x6B58[_$_90b0[258]][_$_90b0[133]]== _$_90b0[300]){_0x7790()}}}else {this[_$_90b0[258]][_$_90b0[301]]= _0x7790}}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./polling":17,"component-inherit":9}],16:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x7454=_0x5FD8(_$_90b0[239]);var _0x7620=_0x5FD8(_$_90b0[246]);var _0x6AA0=_0x5FD8(_$_90b0[92]);var _0x75C4=_0x5FD8(_$_90b0[247]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[302]);_0x5F4E[_$_90b0[0]]= _0x7426;_0x5F4E[_$_90b0[0]][_$_90b0[303]]= _0x7876;function _0x7596(){}function _0x7426(_0x6370){_0x7620[_$_90b0[54]](this,_0x6370);if(_0x684A[_$_90b0[107]]){var _0x7482=_$_90b0[108]== location[_$_90b0[102]];var _0x74DE=location[_$_90b0[105]];if(!_0x74DE){_0x74DE= _0x7482?443:80};this[_$_90b0[304]]= _0x6370[_$_90b0[111]]!= _0x684A[_$_90b0[107]][_$_90b0[111]]|| _0x74DE!= _0x6370[_$_90b0[105]];this[_$_90b0[305]]= _0x6370[_$_90b0[101]]!= _0x7482}}_0x75C4(_0x7426,_0x7620);_0x7426[_$_90b0[36]][_$_90b0[176]]= true;_0x7426[_$_90b0[36]][_$_90b0[306]]= function(_0x6370){_0x6370= _0x6370|| {};_0x6370[_$_90b0[262]]= this[_$_90b0[262]]();_0x6370[_$_90b0[304]]= this[_$_90b0[304]];_0x6370[_$_90b0[305]]= this[_$_90b0[305]];_0x6370[_$_90b0[116]]= this[_$_90b0[116]]|| false;_0x6370[_$_90b0[176]]= this[_$_90b0[176]];_0x6370[_$_90b0[126]]= this[_$_90b0[126]];_0x6370[_$_90b0[140]]= this[_$_90b0[140]];_0x6370[_$_90b0[141]]= this[_$_90b0[141]];_0x6370[_$_90b0[142]]= this[_$_90b0[142]];_0x6370[_$_90b0[143]]= this[_$_90b0[143]];_0x6370[_$_90b0[144]]= this[_$_90b0[144]];_0x6370[_$_90b0[145]]= this[_$_90b0[145]];_0x6370[_$_90b0[146]]= this[_$_90b0[146]];return  new _0x7876(_0x6370)};_0x7426[_$_90b0[36]][_$_90b0[270]]= function(_0x70BC,_0x6A44){var _0x78D2= typeof _0x70BC!== _$_90b0[67]&& _0x70BC!== undefined;var _0x7900=this[_$_90b0[306]]({method:_$_90b0[283],data:_0x70BC,isBinary:_0x78D2});var _0x6B58=this;_0x7900[_$_90b0[72]](_$_90b0[307],_0x6A44);_0x7900[_$_90b0[72]](_$_90b0[159],function(_0x60EC){_0x6B58[_$_90b0[169]](_$_90b0[308],_0x60EC)});this[_$_90b0[309]]= _0x7900};_0x7426[_$_90b0[36]][_$_90b0[259]]= function(){_0x6C3E(_$_90b0[310]);var _0x7900=this[_$_90b0[306]]();var _0x6B58=this;_0x7900[_$_90b0[72]](_$_90b0[181],function(_0x70BC){_0x6B58[_$_90b0[237]](_0x70BC)});_0x7900[_$_90b0[72]](_$_90b0[159],function(_0x60EC){_0x6B58[_$_90b0[169]](_$_90b0[311],_0x60EC)});this[_$_90b0[312]]= _0x7900};function _0x7876(_0x6370){this[_$_90b0[282]]= _0x6370[_$_90b0[282]]|| _$_90b0[313];this[_$_90b0[262]]= _0x6370[_$_90b0[262]];this[_$_90b0[304]]=  !!_0x6370[_$_90b0[304]];this[_$_90b0[305]]=  !!_0x6370[_$_90b0[305]];this[_$_90b0[260]]= false!== _0x6370[_$_90b0[260]];this[_$_90b0[181]]= undefined!= _0x6370[_$_90b0[181]]?_0x6370[_$_90b0[181]]:null;this[_$_90b0[116]]= _0x6370[_$_90b0[116]];this[_$_90b0[314]]= _0x6370[_$_90b0[314]];this[_$_90b0[176]]= _0x6370[_$_90b0[176]];this[_$_90b0[126]]= _0x6370[_$_90b0[126]];this[_$_90b0[140]]= _0x6370[_$_90b0[140]];this[_$_90b0[141]]= _0x6370[_$_90b0[141]];this[_$_90b0[142]]= _0x6370[_$_90b0[142]];this[_$_90b0[143]]= _0x6370[_$_90b0[143]];this[_$_90b0[144]]= _0x6370[_$_90b0[144]];this[_$_90b0[145]]= _0x6370[_$_90b0[145]];this[_$_90b0[146]]= _0x6370[_$_90b0[146]];this[_$_90b0[315]]()}_0x6AA0(_0x7876[_$_90b0[36]]);_0x7876[_$_90b0[36]][_$_90b0[315]]= function(){var _0x6370={agent:this[_$_90b0[116]],xdomain:this[_$_90b0[304]],xscheme:this[_$_90b0[305]],enablesXDR:this[_$_90b0[126]]};_0x6370[_$_90b0[140]]= this[_$_90b0[140]];_0x6370[_$_90b0[141]]= this[_$_90b0[141]];_0x6370[_$_90b0[142]]= this[_$_90b0[142]];_0x6370[_$_90b0[143]]= this[_$_90b0[143]];_0x6370[_$_90b0[144]]= this[_$_90b0[144]];_0x6370[_$_90b0[145]]= this[_$_90b0[145]];_0x6370[_$_90b0[146]]= this[_$_90b0[146]];var _0x753A=this[_$_90b0[316]]=  new _0x7454(_0x6370);var _0x6B58=this;try{_0x6C3E(_$_90b0[317],this[_$_90b0[282]],this[_$_90b0[262]]);_0x753A[_$_90b0[147]](this[_$_90b0[282]],this[_$_90b0[262]],this[_$_90b0[260]]);if(this[_$_90b0[176]]){_0x753A[_$_90b0[318]]= _$_90b0[319]};if(_$_90b0[283]== this[_$_90b0[282]]){try{if(this[_$_90b0[314]]){_0x753A[_$_90b0[322]](_$_90b0[320],_$_90b0[321])}else {_0x753A[_$_90b0[322]](_$_90b0[320],_$_90b0[323])}}catch(_0x5EF2){}};if(_$_90b0[324] in  _0x753A){_0x753A[_$_90b0[324]]= true};if(this[_$_90b0[325]]()){_0x753A[_$_90b0[301]]= function(){_0x6B58[_$_90b0[326]]()};_0x753A[_$_90b0[254]]= function(){_0x6B58[_$_90b0[169]](_0x753A[_$_90b0[327]])}}else {_0x753A[_$_90b0[299]]= function(){if(4!= _0x753A[_$_90b0[133]]){return};if(200== _0x753A[_$_90b0[328]]|| 1223== _0x753A[_$_90b0[328]]){_0x6B58[_$_90b0[326]]()}else {setTimeout(function(){_0x6B58[_$_90b0[169]](_0x753A[_$_90b0[328]])},0)}}};_0x6C3E(_$_90b0[329],this[_$_90b0[181]]);_0x753A[_$_90b0[179]](this[_$_90b0[181]])}catch(_0x5EF2){setTimeout(function(){_0x6B58[_$_90b0[169]](_0x5EF2)},0);return};if(_0x684A[_$_90b0[251]]){this[_$_90b0[249]]= _0x7876[_$_90b0[330]]++;_0x7876[_$_90b0[331]][this[_$_90b0[249]]]= this}};_0x7876[_$_90b0[36]][_$_90b0[332]]= function(){this[_$_90b0[83]](_$_90b0[307]);this[_$_90b0[333]]()};_0x7876[_$_90b0[36]][_$_90b0[237]]= function(_0x70BC){this[_$_90b0[83]](_$_90b0[181],_0x70BC);this[_$_90b0[332]]()};_0x7876[_$_90b0[36]][_$_90b0[169]]= function(_0x60EC){this[_$_90b0[83]](_$_90b0[159],_0x60EC);this[_$_90b0[333]](true)};_0x7876[_$_90b0[36]][_$_90b0[333]]= function(_0x792E){if(_$_90b0[53]==  typeof this[_$_90b0[316]]|| null=== this[_$_90b0[316]]){return};if(this[_$_90b0[325]]()){this[_$_90b0[316]][_$_90b0[301]]= this[_$_90b0[316]][_$_90b0[254]]= _0x7596}else {this[_$_90b0[316]][_$_90b0[299]]= _0x7596};if(_0x792E){try{this[_$_90b0[316]][_$_90b0[334]]()}catch(_0x5EF2){}};if(_0x684A[_$_90b0[251]]){delete _0x7876[_$_90b0[331]][this[_$_90b0[249]]]};this[_$_90b0[316]]= null};_0x7876[_$_90b0[36]][_$_90b0[326]]= function(){var _0x70BC;try{var _0x795C;try{_0x795C= this[_$_90b0[316]][_$_90b0[337]](_$_90b0[336])[_$_90b0[110]](_$_90b0[335])[0]}catch(_0x5EF2){};if(_0x795C=== _$_90b0[321]){_0x70BC= this[_$_90b0[316]][_$_90b0[338]]}else {if(!this[_$_90b0[176]]){_0x70BC= this[_$_90b0[316]][_$_90b0[327]]}else {_0x70BC= _$_90b0[339]}}}catch(_0x5EF2){this[_$_90b0[169]](_0x5EF2)};if(null!= _0x70BC){this[_$_90b0[237]](_0x70BC)}};_0x7876[_$_90b0[36]][_$_90b0[325]]= function(){return _$_90b0[53]!==  typeof _0x684A[_$_90b0[340]]&&  !this[_$_90b0[305]]&& this[_$_90b0[126]]};_0x7876[_$_90b0[36]][_$_90b0[334]]= function(){this[_$_90b0[333]]()};if(_0x684A[_$_90b0[251]]){_0x7876[_$_90b0[330]]= 0;_0x7876[_$_90b0[331]]= {};if(_0x684A[_$_90b0[298]]){_0x684A[_$_90b0[298]](_$_90b0[341],_0x78A4)}else {if(_0x684A[_$_90b0[73]]){_0x684A[_$_90b0[73]](_$_90b0[252],_0x78A4,false)}}};function _0x78A4(){for(var _0x6200 in _0x7876[_$_90b0[331]]){if(_0x7876[_$_90b0[331]][_$_90b0[158]](_0x6200)){_0x7876[_$_90b0[331]][_0x6200][_$_90b0[334]]()}}}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":9,"debug":20,"xmlhttprequest":19}],17:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x7340=_0x5FD8(_$_90b0[342]);var _0x6CC8=_0x5FD8(_$_90b0[98]);var _0x6CF6=_0x5FD8(_$_90b0[90]);var _0x75C4=_0x5FD8(_$_90b0[247]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[343]);_0x5F4E[_$_90b0[0]]= _0x7620;var _0x798A=(function(){var _0x7454=_0x5FD8(_$_90b0[239]);var _0x753A= new _0x7454({xdomain:false});return null!= _0x753A[_$_90b0[318]]})();function _0x7620(_0x6370){var _0x7ACC=(_0x6370&& _0x6370[_$_90b0[125]]);if(!_0x798A|| _0x7ACC){this[_$_90b0[176]]= false};_0x7340[_$_90b0[54]](this,_0x6370)}_0x75C4(_0x7620,_0x7340);_0x7620[_$_90b0[36]][_$_90b0[164]]= _$_90b0[131];_0x7620[_$_90b0[36]][_$_90b0[234]]= function(){this[_$_90b0[344]]()};_0x7620[_$_90b0[36]][_$_90b0[188]]= function(_0x79B8){var _0x7A14=0;var _0x6B58=this;this[_$_90b0[133]]= _$_90b0[345];function _0x79E6(){_0x6C3E(_$_90b0[346]);_0x6B58[_$_90b0[133]]= _$_90b0[346];_0x79B8()}if(this[_$_90b0[131]]||  !this[_$_90b0[220]]){var _0x7A42=0;if(this[_$_90b0[131]]){_0x6C3E(_$_90b0[347]);_0x7A42++;this[_$_90b0[76]](_$_90b0[348],function(){_0x6C3E(_$_90b0[349]);--_0x7A42|| _0x79E6()})};if(!this[_$_90b0[220]]){_0x6C3E(_$_90b0[350]);_0x7A42++;this[_$_90b0[76]](_$_90b0[172],function(){_0x6C3E(_$_90b0[351]);--_0x7A42|| _0x79E6()})}}else {_0x79E6()}};_0x7620[_$_90b0[36]][_$_90b0[344]]= function(){_0x6C3E(_$_90b0[131]);this[_$_90b0[131]]= true;this[_$_90b0[259]]();this[_$_90b0[83]](_$_90b0[344])};_0x7620[_$_90b0[36]][_$_90b0[237]]= function(_0x70BC){var _0x6B58=this;_0x6C3E(_$_90b0[352],_0x70BC);var _0x6034=function(_0x6E38,_0x6C6C,_0x7A42){if(_$_90b0[161]== _0x6B58[_$_90b0[133]]){_0x6B58[_$_90b0[197]]()};if(_$_90b0[166]== _0x6E38[_$_90b0[65]]){_0x6B58[_$_90b0[168]]();return false};_0x6B58[_$_90b0[171]](_0x6E38)};_0x6CF6[_$_90b0[353]](_0x70BC,this[_$_90b0[230]][_$_90b0[138]],_0x6034);if(_$_90b0[185]!= this[_$_90b0[133]]){this[_$_90b0[131]]= false;this[_$_90b0[83]](_$_90b0[348]);if(_$_90b0[147]== this[_$_90b0[133]]){this[_$_90b0[344]]()}else {_0x6C3E(_$_90b0[354],this[_$_90b0[133]])}}};_0x7620[_$_90b0[36]][_$_90b0[235]]= function(){var _0x6B58=this;function _0x7174(){_0x6C3E(_$_90b0[355]);_0x6B58[_$_90b0[222]]([{type:_$_90b0[166]}])}if(_$_90b0[147]== this[_$_90b0[133]]){_0x6C3E(_$_90b0[356]);_0x7174()}else {_0x6C3E(_$_90b0[357]);this[_$_90b0[76]](_$_90b0[147],_0x7174)}};_0x7620[_$_90b0[36]][_$_90b0[222]]= function(_0x736E){var _0x6B58=this;this[_$_90b0[220]]= false;var _0x7A70=function(){_0x6B58[_$_90b0[220]]= true;_0x6B58[_$_90b0[83]](_$_90b0[172])};var _0x6B58=this;_0x6CF6[_$_90b0[358]](_0x736E,this[_$_90b0[176]],function(_0x70BC){_0x6B58[_$_90b0[270]](_0x70BC,_0x7A70)})};_0x7620[_$_90b0[36]][_$_90b0[262]]= function(){var _0x6DDC=this[_$_90b0[106]]|| {};var _0x7A9E=this[_$_90b0[101]]?_$_90b0[103]:_$_90b0[359];var _0x74DE=_$_90b0[24];if(false!== this[_$_90b0[129]]){_0x6DDC[this[_$_90b0[127]]]= + new Date+ _$_90b0[360] + _0x7340[_$_90b0[231]]++};if(!this[_$_90b0[176]]&&  !_0x6DDC[_$_90b0[157]]){_0x6DDC[_$_90b0[361]]= 1};_0x6DDC= _0x6CC8[_$_90b0[46]](_0x6DDC);if(this[_$_90b0[105]]&& ((_$_90b0[103]== _0x7A9E&& this[_$_90b0[105]]!= 443)|| (_$_90b0[359]== _0x7A9E&& this[_$_90b0[105]]!= 80))){_0x74DE= _$_90b0[109]+ this[_$_90b0[105]]};if(_0x6DDC[_$_90b0[47]]){_0x6DDC= _$_90b0[362]+ _0x6DDC};return _0x7A9E+ _$_90b0[363]+ this[_$_90b0[111]]+ _0x74DE+ this[_$_90b0[119]]+ _0x6DDC}},{"../transport":13,"component-inherit":9,"debug":20,"engine.io-parser":24,"parseqs":53,"xmlhttprequest":19}],18:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x7340=_0x5FD8(_$_90b0[342]);var _0x6CF6=_0x5FD8(_$_90b0[90]);var _0x6CC8=_0x5FD8(_$_90b0[98]);var _0x75C4=_0x5FD8(_$_90b0[247]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[364]);var _0x7AFA=_0x5FD8(_$_90b0[365]);_0x5F4E[_$_90b0[0]]= _0x7B28;function _0x7B28(_0x6370){var _0x7ACC=(_0x6370&& _0x6370[_$_90b0[125]]);if(_0x7ACC){this[_$_90b0[176]]= false};_0x7340[_$_90b0[54]](this,_0x6370)}_0x75C4(_0x7B28,_0x7340);_0x7B28[_$_90b0[36]][_$_90b0[164]]= _$_90b0[132];_0x7B28[_$_90b0[36]][_$_90b0[176]]= true;_0x7B28[_$_90b0[36]][_$_90b0[234]]= function(){if(!this[_$_90b0[366]]()){return};var _0x6B58=this;var _0x7312=this[_$_90b0[262]]();var _0x7B56=void((0));var _0x6370={agent:this[_$_90b0[116]]};_0x6370[_$_90b0[140]]= this[_$_90b0[140]];_0x6370[_$_90b0[141]]= this[_$_90b0[141]];_0x6370[_$_90b0[142]]= this[_$_90b0[142]];_0x6370[_$_90b0[143]]= this[_$_90b0[143]];_0x6370[_$_90b0[144]]= this[_$_90b0[144]];_0x6370[_$_90b0[145]]= this[_$_90b0[145]];_0x6370[_$_90b0[146]]= this[_$_90b0[146]];this[_$_90b0[365]]=  new _0x7AFA(_0x7312,_0x7B56,_0x6370);if(this[_$_90b0[365]][_$_90b0[138]]=== undefined){this[_$_90b0[176]]= false};this[_$_90b0[365]][_$_90b0[138]]= _$_90b0[319];this[_$_90b0[367]]()};_0x7B28[_$_90b0[36]][_$_90b0[367]]= function(){var _0x6B58=this;this[_$_90b0[365]][_$_90b0[368]]= function(){_0x6B58[_$_90b0[197]]()};this[_$_90b0[365]][_$_90b0[369]]= function(){_0x6B58[_$_90b0[168]]()};this[_$_90b0[365]][_$_90b0[370]]= function(_0x7B84){_0x6B58[_$_90b0[237]](_0x7B84[_$_90b0[181]])};this[_$_90b0[365]][_$_90b0[254]]= function(_0x5EF2){_0x6B58[_$_90b0[169]](_$_90b0[371],_0x5EF2)}};if(_$_90b0[53]!=  typeof navigator&& /iPad|iPhone|iPod/i[_$_90b0[267]](navigator[_$_90b0[266]])){_0x7B28[_$_90b0[36]][_$_90b0[237]]= function(_0x70BC){var _0x6B58=this;setTimeout(function(){_0x7340[_$_90b0[36]][_$_90b0[237]][_$_90b0[54]](_0x6B58,_0x70BC)},0)}};_0x7B28[_$_90b0[36]][_$_90b0[222]]= function(_0x736E){var _0x6B58=this;this[_$_90b0[220]]= false;for(var _0x6200=0,_0x708E=_0x736E[_$_90b0[47]];_0x6200< _0x708E;_0x6200++){_0x6CF6[_$_90b0[373]](_0x736E[_0x6200],this[_$_90b0[176]],function(_0x70BC){try{_0x6B58[_$_90b0[365]][_$_90b0[179]](_0x70BC)}catch(_0x5EF2){_0x6C3E(_$_90b0[372])}})};function _0x7BB2(){_0x6B58[_$_90b0[220]]= true;_0x6B58[_$_90b0[83]](_$_90b0[172])}setTimeout(_0x7BB2,0)};_0x7B28[_$_90b0[36]][_$_90b0[168]]= function(){_0x7340[_$_90b0[36]][_$_90b0[168]][_$_90b0[54]](this)};_0x7B28[_$_90b0[36]][_$_90b0[235]]= function(){if( typeof this[_$_90b0[365]]!== _$_90b0[53]){this[_$_90b0[365]][_$_90b0[166]]()}};_0x7B28[_$_90b0[36]][_$_90b0[262]]= function(){var _0x6DDC=this[_$_90b0[106]]|| {};var _0x7A9E=this[_$_90b0[101]]?_$_90b0[104]:_$_90b0[365];var _0x74DE=_$_90b0[24];if(this[_$_90b0[105]]&& ((_$_90b0[104]== _0x7A9E&& this[_$_90b0[105]]!= 443)|| (_$_90b0[365]== _0x7A9E&& this[_$_90b0[105]]!= 80))){_0x74DE= _$_90b0[109]+ this[_$_90b0[105]]};if(this[_$_90b0[129]]){_0x6DDC[this[_$_90b0[127]]]=  + new Date};if(!this[_$_90b0[176]]){_0x6DDC[_$_90b0[361]]= 1};_0x6DDC= _0x6CC8[_$_90b0[46]](_0x6DDC);if(_0x6DDC[_$_90b0[47]]){_0x6DDC= _$_90b0[362]+ _0x6DDC};return _0x7A9E+ _$_90b0[363]+ this[_$_90b0[111]]+ _0x74DE+ this[_$_90b0[119]]+ _0x6DDC};_0x7B28[_$_90b0[36]][_$_90b0[366]]= function(){return !!_0x7AFA&&  !(_$_90b0[374] in  _0x7AFA&& this[_$_90b0[164]]=== _0x7B28[_$_90b0[36]][_$_90b0[164]])}},{"../transport":13,"component-inherit":9,"debug":20,"engine.io-parser":24,"parseqs":53,"ws":101}],19:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x7BE0=_0x5FD8(_$_90b0[375]);_0x5F4E[_$_90b0[0]]= function(_0x6370){var _0x7C3C=_0x6370[_$_90b0[243]];var _0x7C6A=_0x6370[_$_90b0[244]];var _0x7C0E=_0x6370[_$_90b0[126]];try{if(_$_90b0[53]!=  typeof XMLHttpRequest&& (!_0x7C3C|| _0x7BE0)){return  new XMLHttpRequest()}}catch(_0x5EF2){};try{if(_$_90b0[53]!=  typeof XDomainRequest&&  !_0x7C6A&& _0x7C0E){return  new XDomainRequest()}}catch(_0x5EF2){};if(!_0x7C3C){try{return  new ActiveXObject(_$_90b0[376])}catch(_0x5EF2){}}}},{"has-cors":43}],20:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F20= _0x5F4E[_$_90b0[0]]= _0x5FD8(_$_90b0[377]);_0x5F20[_$_90b0[378]]= _0x7CF4;_0x5F20[_$_90b0[379]]= _0x7C98;_0x5F20[_$_90b0[380]]= _0x7D22;_0x5F20[_$_90b0[381]]= _0x7CC6;_0x5F20[_$_90b0[382]]= _0x7D50;_0x5F20[_$_90b0[383]]= [_$_90b0[384],_$_90b0[385],_$_90b0[386],_$_90b0[387],_$_90b0[388],_$_90b0[389]];function _0x7D50(){return (_$_90b0[390] in  document[_$_90b0[391]][_$_90b0[21]])|| (window[_$_90b0[392]]&& (console[_$_90b0[393]]|| (console[_$_90b0[394]]&& console[_$_90b0[395]])))|| (navigator[_$_90b0[266]][_$_90b0[11]]()[_$_90b0[396]](/firefox\/(\d+)/)&& parseInt(RegExp[_$_90b0[397]],10)>= 31)}_0x5F20[_$_90b0[398]][_$_90b0[250]]= function(_0x7D7E){return JSON[_$_90b0[399]](_0x7D7E)};function _0x7C98(){var _0x6A16=arguments;var _0x7D50=this[_$_90b0[382]];_0x6A16[0]= (_0x7D50?_$_90b0[400]:_$_90b0[24])+ this[_$_90b0[401]]+ (_0x7D50?_$_90b0[402]:_$_90b0[403])+ _0x6A16[0]+ (_0x7D50?_$_90b0[404]:_$_90b0[403])+ _$_90b0[405]+ _0x5F20[_$_90b0[407]](this[_$_90b0[406]]);if(!_0x7D50){return _0x6A16};var _0x7DAC=_$_90b0[408]+ this[_$_90b0[409]];_0x6A16= [_0x6A16[0],_0x7DAC,_$_90b0[410]][_$_90b0[70]](Array[_$_90b0[36]][_$_90b0[4]][_$_90b0[54]](_0x6A16,1));var _0x6C6C=0;var _0x7DDA=0;_0x6A16[0][_$_90b0[120]](/%[a-z%]/g,function(_0x7E08){if(_$_90b0[411]=== _0x7E08){return};_0x6C6C++;if(_$_90b0[400]=== _0x7E08){_0x7DDA= _0x6C6C}});_0x6A16[_$_90b0[82]](_0x7DDA,0,_0x7DAC);return _0x6A16}function _0x7CF4(){return _$_90b0[99]==  typeof console&& _$_90b0[68]==  typeof console[_$_90b0[378]]&& Function[_$_90b0[36]][_$_90b0[71]][_$_90b0[54]](console[_$_90b0[378]],console,arguments)}function _0x7D22(_0x7E64){try{if(null== _0x7E64){localStorage[_$_90b0[412]](_$_90b0[94])}else {localStorage[_$_90b0[94]]= _0x7E64}}catch(_0x5EF2){}}function _0x7CC6(){var _0x7E36;try{_0x7E36= localStorage[_$_90b0[94]]}catch(_0x5EF2){};return _0x7E36}_0x5F20[_$_90b0[413]](_0x7CC6())},{"./debug":21}],21:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F20= _0x5F4E[_$_90b0[0]]= _0x6C3E;_0x5F20[_$_90b0[414]]= _0x7E92;_0x5F20[_$_90b0[415]]= _0x7EC0;_0x5F20[_$_90b0[413]]= _0x7EEE;_0x5F20[_$_90b0[416]]= _0x7F1C;_0x5F20[_$_90b0[407]]= _0x5FD8(_$_90b0[28]);_0x5F20[_$_90b0[417]]= [];_0x5F20[_$_90b0[418]]= [];_0x5F20[_$_90b0[398]]= {};var _0x7F4A=0;var _0x7F78;function _0x7FA6(){return _0x5F20[_$_90b0[383]][_0x7F4A++ % _0x5F20[_$_90b0[383]][_$_90b0[47]]]}function _0x6C3E(_0x8030){function _0x8002(){}_0x8002[_$_90b0[416]]= false;function _0x7F1C(){var _0x6B58=_0x7F1C;var _0x805E=+ new Date();var _0x64B2=_0x805E- (_0x7F78|| _0x805E);_0x6B58[_$_90b0[406]]= _0x64B2;_0x6B58[_$_90b0[419]]= _0x7F78;_0x6B58[_$_90b0[420]]= _0x805E;_0x7F78= _0x805E;if(null== _0x6B58[_$_90b0[382]]){_0x6B58[_$_90b0[382]]= _0x5F20[_$_90b0[382]]()};if(null== _0x6B58[_$_90b0[409]]&& _0x6B58[_$_90b0[382]]){_0x6B58[_$_90b0[409]]= _0x7FA6()};var _0x6A16=Array[_$_90b0[36]][_$_90b0[4]][_$_90b0[54]](arguments);_0x6A16[0]= _0x5F20[_$_90b0[414]](_0x6A16[0]);if(_$_90b0[67]!==  typeof _0x6A16[0]){_0x6A16= [_$_90b0[421]][_$_90b0[70]](_0x6A16)};var _0x6C6C=0;_0x6A16[0]= _0x6A16[0][_$_90b0[120]](/%([a-z%])/g,function(_0x7E08,_0x80BA){if(_0x7E08=== _$_90b0[411]){return _0x7E08};_0x6C6C++;var _0x80E8=_0x5F20[_$_90b0[398]][_0x80BA];if(_$_90b0[68]===  typeof _0x80E8){var _0x7FD4=_0x6A16[_0x6C6C];_0x7E08= _0x80E8[_$_90b0[54]](_0x6B58,_0x7FD4);_0x6A16[_$_90b0[82]](_0x6C6C,1);_0x6C6C--};return _0x7E08});if(_$_90b0[68]===  typeof _0x5F20[_$_90b0[379]]){_0x6A16= _0x5F20[_$_90b0[379]][_$_90b0[71]](_0x6B58,_0x6A16)};var _0x808C=_0x7F1C[_$_90b0[378]]|| _0x5F20[_$_90b0[378]]|| console[_$_90b0[378]][_$_90b0[422]](console);_0x808C[_$_90b0[71]](_0x6B58,_0x6A16)}_0x7F1C[_$_90b0[416]]= true;var _0x6A44=_0x5F20[_$_90b0[416]](_0x8030)?_0x7F1C:_0x8002;_0x6A44[_$_90b0[401]]= _0x8030;return _0x6A44}function _0x7EEE(_0x7E64){_0x5F20[_$_90b0[380]](_0x7E64);var _0x8116=(_0x7E64|| _$_90b0[24])[_$_90b0[110]](/[\s,]+/);var _0x65F4=_0x8116[_$_90b0[47]];for(var _0x6200=0;_0x6200< _0x65F4;_0x6200++){if(!_0x8116[_0x6200]){continue};_0x7E64= _0x8116[_0x6200][_$_90b0[120]](/\*/g,_$_90b0[423]);if(_0x7E64[0]=== _$_90b0[360]){_0x5F20[_$_90b0[418]][_$_90b0[75]]( new RegExp(_$_90b0[424]+ _0x7E64[_$_90b0[425]](1)+ _$_90b0[426]))}else {_0x5F20[_$_90b0[417]][_$_90b0[75]]( new RegExp(_$_90b0[424]+ _0x7E64+ _$_90b0[426]))}}}function _0x7EC0(){_0x5F20[_$_90b0[413]](_$_90b0[24])}function _0x7F1C(_0x6DAE){var _0x6200,_0x65F4;for(_0x6200= 0,_0x65F4= _0x5F20[_$_90b0[418]][_$_90b0[47]];_0x6200< _0x65F4;_0x6200++){if(_0x5F20[_$_90b0[418]][_0x6200][_$_90b0[267]](_0x6DAE)){return false}};for(_0x6200= 0,_0x65F4= _0x5F20[_$_90b0[417]][_$_90b0[47]];_0x6200< _0x65F4;_0x6200++){if(_0x5F20[_$_90b0[417]][_0x6200][_$_90b0[267]](_0x6DAE)){return true}};return false}function _0x7E92(_0x7FD4){if(_0x7FD4 instanceof  Error){return _0x7FD4[_$_90b0[427]]|| _0x7FD4[_$_90b0[207]]};return _0x7FD4}},{"ms":22}],22:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8258=1000;var _0x81CE=_0x8258* 60;var _0x8172=_0x81CE* 60;var _0x8144=_0x8172* 24;var _0x82B4=_0x8144* 365.25;_0x5F4E[_$_90b0[0]]= function(_0x7FD4,_0x6342){_0x6342= _0x6342|| {};if(_$_90b0[67]==  typeof _0x7FD4){return _0x81FC(_0x7FD4)};return _0x6342[_$_90b0[428]]?_0x81A0(_0x7FD4):_0x8286(_0x7FD4)};function _0x81FC(_0x8310){var _0x7E08=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i[_$_90b0[429]](_0x8310);if(!_0x7E08){return};var _0x82E2=parseFloat(_0x7E08[1]);var _0x7118=(_0x7E08[2]|| _$_90b0[28])[_$_90b0[11]]();switch(_0x7118){case _$_90b0[430]:;case _$_90b0[431]:;case _$_90b0[432]:return _0x82E2* _0x82B4;case _$_90b0[433]:;case _$_90b0[434]:;case _$_90b0[287]:return _0x82E2* _0x8144;case _$_90b0[435]:;case _$_90b0[436]:;case _$_90b0[437]:return _0x82E2* _0x8172;case _$_90b0[438]:;case _$_90b0[439]:;case _$_90b0[440]:return _0x82E2* _0x81CE;case _$_90b0[441]:;case _$_90b0[442]:;case _$_90b0[443]:return _0x82E2* _0x8258;case _$_90b0[28]:return _0x82E2}}function _0x8286(_0x64B2){if(_0x64B2>= _0x8144){return Math[_$_90b0[444]](_0x64B2/ _0x8144)+ _$_90b0[287]};if(_0x64B2>= _0x8172){return Math[_$_90b0[444]](_0x64B2/ _0x8172)+ _$_90b0[437]};if(_0x64B2>= _0x81CE){return Math[_$_90b0[444]](_0x64B2/ _0x81CE)+ _$_90b0[440]};if(_0x64B2>= _0x8258){return Math[_$_90b0[444]](_0x64B2/ _0x8258)+ _$_90b0[443]};return _0x64B2+ _$_90b0[28]}function _0x81A0(_0x64B2){return _0x822A(_0x64B2,_0x8144,_$_90b0[434])|| _0x822A(_0x64B2,_0x8172,_$_90b0[436])|| _0x822A(_0x64B2,_0x81CE,_$_90b0[439])|| _0x822A(_0x64B2,_0x8258,_$_90b0[442])|| _0x64B2+ _$_90b0[445]}function _0x822A(_0x64B2,_0x82E2,_0x6DAE){if(_0x64B2< _0x82E2){return};if(_0x64B2< _0x82E2* 1.5){return Math[_$_90b0[39]](_0x64B2/ _0x82E2)+ _$_90b0[403]+ _0x6DAE};return Math[_$_90b0[446]](_0x64B2/ _0x82E2)+ _$_90b0[403]+ _0x6DAE+ _$_90b0[443]}},{}],23:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x836C=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var _0x833E=[_$_90b0[447],_$_90b0[102],_$_90b0[448],_$_90b0[449],_$_90b0[450],_$_90b0[451],_$_90b0[100],_$_90b0[105],_$_90b0[452],_$_90b0[119],_$_90b0[453],_$_90b0[454],_$_90b0[106],_$_90b0[455]];_0x5F4E[_$_90b0[0]]= function _0x6D24(_0x8310){var _0x839A=_0x8310,_0x68D4=_0x8310[_$_90b0[52]](_$_90b0[456]),_0x5EF2=_0x8310[_$_90b0[52]](_$_90b0[457]);if(_0x68D4!=  -1&& _0x5EF2!=  -1){_0x8310= _0x8310[_$_90b0[48]](0,_0x68D4)+ _0x8310[_$_90b0[48]](_0x68D4,_0x5EF2)[_$_90b0[120]](/:/g,_$_90b0[335])+ _0x8310[_$_90b0[48]](_0x5EF2,_0x8310[_$_90b0[47]])};var _0x81CE=_0x836C[_$_90b0[429]](_0x8310|| _$_90b0[24]),_0x7312={},_0x6200=14;while(_0x6200--){_0x7312[_0x833E[_0x6200]]= _0x81CE[_0x6200]|| _$_90b0[24]};if(_0x68D4!=  -1&& _0x5EF2!=  -1){_0x7312[_$_90b0[447]]= _0x839A;_0x7312[_$_90b0[100]]= _0x7312[_$_90b0[100]][_$_90b0[48]](1,_0x7312[_$_90b0[100]][_$_90b0[47]]- 1)[_$_90b0[120]](/;/g,_$_90b0[109]);_0x7312[_$_90b0[448]]= _0x7312[_$_90b0[448]][_$_90b0[120]](_$_90b0[456],_$_90b0[24])[_$_90b0[120]](_$_90b0[457],_$_90b0[24])[_$_90b0[120]](/;/g,_$_90b0[109]);_0x7312[_$_90b0[458]]= true};return _0x7312}},{}],24:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x8594=_0x5FD8(_$_90b0[459]);var _0x850A=_0x5FD8(_$_90b0[460]);var _0x861E=_0x5FD8(_$_90b0[461]);var _0x83C8=_0x5FD8(_$_90b0[462]);var _0x5F7C=_0x5FD8(_$_90b0[463]);var _0x864C=_0x5FD8(_$_90b0[464]);var _0x8538=navigator[_$_90b0[266]][_$_90b0[396]](/Android/i);var _0x8566=/PhantomJS/i[_$_90b0[267]](navigator[_$_90b0[266]]);var _0x8424=_0x8538|| _0x8566;_0x5F20[_$_90b0[102]]= 3;var _0x736E=_0x5F20[_$_90b0[465]]= {open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var _0x85F0=_0x8594(_0x736E);var _0x60EC={type:_$_90b0[159],data:_$_90b0[466]};var _0x83F6=_0x5FD8(_$_90b0[467]);_0x5F20[_$_90b0[373]]= function(_0x6E38,_0x86A8,_0x86D6,_0x6034){if(_$_90b0[68]==  typeof _0x86A8){_0x6034= _0x86A8;_0x86A8= false};if(_$_90b0[68]==  typeof _0x86D6){_0x6034= _0x86D6;_0x86D6= null};var _0x70BC=(_0x6E38[_$_90b0[181]]=== undefined)?undefined:_0x6E38[_$_90b0[181]][_$_90b0[5]]|| _0x6E38[_$_90b0[181]];if(_0x684A[_$_90b0[468]]&& _0x70BC instanceof  ArrayBuffer){return _0x8452(_0x6E38,_0x86A8,_0x6034)}else {if(_0x83F6&& _0x70BC instanceof  _0x684A[_$_90b0[66]]){return _0x84AE(_0x6E38,_0x86A8,_0x6034)}};if(_0x70BC&& _0x70BC[_$_90b0[469]]){return _0x8480(_0x6E38,_0x6034)};var _0x867A=_0x736E[_0x6E38[_$_90b0[65]]];if(undefined!== _0x6E38[_$_90b0[181]]){_0x867A+= _0x86D6?_0x864C[_$_90b0[46]](String(_0x6E38[_$_90b0[181]])):String(_0x6E38[_$_90b0[181]])};return _0x6034(_$_90b0[24]+ _0x867A)};function _0x8480(_0x6E38,_0x6034){var _0x878E=_$_90b0[470]+ _0x5F20[_$_90b0[465]][_0x6E38[_$_90b0[65]]]+ _0x6E38[_$_90b0[181]][_$_90b0[181]];return _0x6034(_0x878E)}function _0x8452(_0x6E38,_0x86A8,_0x6034){if(!_0x86A8){return _0x5F20[_$_90b0[471]](_0x6E38,_0x6034)};var _0x70BC=_0x6E38[_$_90b0[181]];var _0x8D4E= new Uint8Array(_0x70BC);var _0x8D7C= new Uint8Array(1+ _0x70BC[_$_90b0[3]]);_0x8D7C[0]= _0x736E[_0x6E38[_$_90b0[65]]];for(var _0x6200=0;_0x6200< _0x8D4E[_$_90b0[47]];_0x6200++){_0x8D7C[_0x6200+ 1]= _0x8D4E[_0x6200]};return _0x6034(_0x8D7C[_$_90b0[5]])}function _0x84DC(_0x6E38,_0x86A8,_0x6034){if(!_0x86A8){return _0x5F20[_$_90b0[471]](_0x6E38,_0x6034)};var _0x8760= new FileReader();_0x8760[_$_90b0[301]]= function(){_0x6E38[_$_90b0[181]]= _0x8760[_$_90b0[472]];_0x5F20[_$_90b0[373]](_0x6E38,_0x86A8,true,_0x6034)};return _0x8760[_$_90b0[473]](_0x6E38[_$_90b0[181]])}function _0x84AE(_0x6E38,_0x86A8,_0x6034){if(!_0x86A8){return _0x5F20[_$_90b0[471]](_0x6E38,_0x6034)};if(_0x8424){return _0x84DC(_0x6E38,_0x86A8,_0x6034)};var _0x89B6= new Uint8Array(1);_0x89B6[0]= _0x736E[_0x6E38[_$_90b0[65]]];var _0x8BDE= new _0x83F6([_0x89B6[_$_90b0[5]],_0x6E38[_$_90b0[181]]]);return _0x6034(_0x8BDE)}_0x5F20[_$_90b0[471]]= function(_0x6E38,_0x6034){var _0x878E=_$_90b0[470]+ _0x5F20[_$_90b0[465]][_0x6E38[_$_90b0[65]]];if(_0x83F6&& _0x6E38[_$_90b0[181]] instanceof  _0x83F6){var _0x8760= new FileReader();_0x8760[_$_90b0[301]]= function(){var _0x87EA=_0x8760[_$_90b0[472]][_$_90b0[110]](_$_90b0[474])[1];_0x6034(_0x878E+ _0x87EA)};return _0x8760[_$_90b0[475]](_0x6E38[_$_90b0[181]])};var _0x8704;try{_0x8704= String[_$_90b0[476]][_$_90b0[71]](null, new Uint8Array(_0x6E38[_$_90b0[181]]))}catch(_0x5EF2){var _0x87BC= new Uint8Array(_0x6E38[_$_90b0[181]]);var _0x8732= new Array(_0x87BC[_$_90b0[47]]);for(var _0x6200=0;_0x6200< _0x87BC[_$_90b0[47]];_0x6200++){_0x8732[_0x6200]= _0x87BC[_0x6200]};_0x8704= String[_$_90b0[476]][_$_90b0[71]](null,_0x8732)};_0x878E+= _0x684A[_$_90b0[477]](_0x8704);return _0x6034(_0x878E)};_0x5F20[_$_90b0[238]]= function(_0x70BC,_0x8846,_0x88A2){if( typeof _0x70BC== _$_90b0[67]|| _0x70BC=== undefined){if(_0x70BC[_$_90b0[478]](0)== _$_90b0[470]){return _0x5F20[_$_90b0[479]](_0x70BC[_$_90b0[425]](1),_0x8846)};if(_0x88A2){try{_0x70BC= _0x864C[_$_90b0[51]](_0x70BC)}catch(_0x5EF2){return _0x60EC}};var _0x7118=_0x70BC[_$_90b0[478]](0);if(Number(_0x7118)!= _0x7118||  !_0x85F0[_0x7118]){return _0x60EC};if(_0x70BC[_$_90b0[47]]> 1){return {type:_0x85F0[_0x7118],data:_0x70BC[_$_90b0[48]](1)}}else {return {type:_0x85F0[_0x7118]}}};var _0x8818= new Uint8Array(_0x70BC);var _0x7118=_0x8818[0];var _0x8874=_0x861E(_0x70BC,1);if(_0x83F6&& _0x8846=== _$_90b0[467]){_0x8874=  new _0x83F6([_0x8874])};return {type:_0x85F0[_0x7118],data:_0x8874}};_0x5F20[_$_90b0[479]]= function(_0x7032,_0x8846){var _0x7118=_0x85F0[_0x7032[_$_90b0[478]](0)];if(!_0x684A[_$_90b0[468]]){return {type:_0x7118,data:{base64:true,data:_0x7032[_$_90b0[425]](1)}}};var _0x70BC=_0x83C8[_$_90b0[51]](_0x7032[_$_90b0[425]](1));if(_0x8846=== _$_90b0[467]&& _0x83F6){_0x70BC=  new _0x83F6([_0x70BC])};return {type:_0x7118,data:_0x70BC}};_0x5F20[_$_90b0[358]]= function(_0x736E,_0x86A8,_0x6034){if( typeof _0x86A8== _$_90b0[68]){_0x6034= _0x86A8;_0x86A8= null};var _0x78D2=_0x850A(_0x736E);if(_0x86A8&& _0x78D2){if(_0x83F6&&  !_0x8424){return _0x5F20[_$_90b0[480]](_0x736E,_0x6034)};return _0x5F20[_$_90b0[481]](_0x736E,_0x6034)};if(!_0x736E[_$_90b0[47]]){return _0x6034(_$_90b0[482])};function _0x88FE(_0x878E){return _0x878E[_$_90b0[47]]+ _$_90b0[109]+ _0x878E}function _0x88D0(_0x6E38,_0x895A){_0x5F20[_$_90b0[373]](_0x6E38,!_0x78D2?false:_0x86A8,true,function(_0x878E){_0x895A(null,_0x88FE(_0x878E))})}_0x85C2(_0x736E,_0x88D0,function(_0x60EC,_0x892C){return _0x6034(_0x892C[_$_90b0[483]](_$_90b0[24]))})};function _0x85C2(_0x6902,_0x8DD8,_0x8DAA){var _0x611A= new Array(_0x6902[_$_90b0[47]]);var _0x8E34=_0x5F7C(_0x6902[_$_90b0[47]],_0x8DAA);var _0x8E06=function(_0x6200,_0x62B8,_0x6BB4){_0x8DD8(_0x62B8,function(_0x6FD6,_0x7032){_0x611A[_0x6200]= _0x7032;_0x6BB4(_0x6FD6,_0x611A)})};for(var _0x6200=0;_0x6200< _0x6902[_$_90b0[47]];_0x6200++){_0x8E06(_0x6200,_0x6902[_0x6200],_0x8E34)}}_0x5F20[_$_90b0[353]]= function(_0x70BC,_0x8846,_0x6034){if( typeof _0x70BC!= _$_90b0[67]){return _0x5F20[_$_90b0[484]](_0x70BC,_0x8846,_0x6034)};if( typeof _0x8846=== _$_90b0[68]){_0x6034= _0x8846;_0x8846= null};var _0x6E38;if(_0x70BC== _$_90b0[24]){return _0x6034(_0x60EC,0,1)};var _0x89B6=_$_90b0[24],_0x82E2,_0x7032;for(var _0x6200=0,_0x708E=_0x70BC[_$_90b0[47]];_0x6200< _0x708E;_0x6200++){var _0x8988=_0x70BC[_$_90b0[478]](_0x6200);if(_$_90b0[109]!= _0x8988){_0x89B6+= _0x8988}else {if(_$_90b0[24]== _0x89B6|| (_0x89B6!= (_0x82E2= Number(_0x89B6)))){return _0x6034(_0x60EC,0,1)};_0x7032= _0x70BC[_$_90b0[425]](_0x6200+ 1,_0x82E2);if(_0x89B6!= _0x7032[_$_90b0[47]]){return _0x6034(_0x60EC,0,1)};if(_0x7032[_$_90b0[47]]){_0x6E38= _0x5F20[_$_90b0[238]](_0x7032,_0x8846,true);if(_0x60EC[_$_90b0[65]]== _0x6E38[_$_90b0[65]]&& _0x60EC[_$_90b0[181]]== _0x6E38[_$_90b0[181]]){return _0x6034(_0x60EC,0,1)};var _0x89E4=_0x6034(_0x6E38,_0x6200+ _0x82E2,_0x708E);if(false=== _0x89E4){return}};_0x6200+= _0x82E2;_0x89B6= _$_90b0[24]}};if(_0x89B6!= _$_90b0[24]){return _0x6034(_0x60EC,0,1)}};_0x5F20[_$_90b0[481]]= function(_0x736E,_0x6034){if(!_0x736E[_$_90b0[47]]){return _0x6034( new ArrayBuffer(0))};function _0x88D0(_0x6E38,_0x895A){_0x5F20[_$_90b0[373]](_0x6E38,true,true,function(_0x70BC){return _0x895A(null,_0x70BC)})}_0x85C2(_0x736E,_0x88D0,function(_0x60EC,_0x8A40){var _0x8A9C=_0x8A40[_$_90b0[486]](function(_0x8ACA,_0x6708){var _0x65F4;if( typeof _0x6708=== _$_90b0[67]){_0x65F4= _0x6708[_$_90b0[47]]}else {_0x65F4= _0x6708[_$_90b0[3]]};return _0x8ACA+ _0x65F4[_$_90b0[485]]()[_$_90b0[47]]+ _0x65F4+ 2},0);var _0x8A6E= new Uint8Array(_0x8A9C);var _0x8A12=0;_0x8A40[_$_90b0[23]](function(_0x6708){var _0x8B26= typeof _0x6708=== _$_90b0[67];var _0x8AF8=_0x6708;if(_0x8B26){var _0x8B82= new Uint8Array(_0x6708[_$_90b0[47]]);for(var _0x6200=0;_0x6200< _0x6708[_$_90b0[47]];_0x6200++){_0x8B82[_0x6200]= _0x6708[_$_90b0[487]](_0x6200)};_0x8AF8= _0x8B82[_$_90b0[5]]};if(_0x8B26){_0x8A6E[_0x8A12++]= 0}else {_0x8A6E[_0x8A12++]= 1};var _0x8B54=_0x8AF8[_$_90b0[3]][_$_90b0[485]]();for(var _0x6200=0;_0x6200< _0x8B54[_$_90b0[47]];_0x6200++){_0x8A6E[_0x8A12++]= parseInt(_0x8B54[_0x6200])};_0x8A6E[_0x8A12++]= 255;var _0x8B82= new Uint8Array(_0x8AF8);for(var _0x6200=0;_0x6200< _0x8B82[_$_90b0[47]];_0x6200++){_0x8A6E[_0x8A12++]= _0x8B82[_0x6200]}});return _0x6034(_0x8A6E[_$_90b0[5]])})};_0x5F20[_$_90b0[480]]= function(_0x736E,_0x6034){function _0x88D0(_0x6E38,_0x895A){_0x5F20[_$_90b0[373]](_0x6E38,true,true,function(_0x867A){var _0x8BB0= new Uint8Array(1);_0x8BB0[0]= 1;if( typeof _0x867A=== _$_90b0[67]){var _0x8B82= new Uint8Array(_0x867A[_$_90b0[47]]);for(var _0x6200=0;_0x6200< _0x867A[_$_90b0[47]];_0x6200++){_0x8B82[_0x6200]= _0x867A[_$_90b0[487]](_0x6200)};_0x867A= _0x8B82[_$_90b0[5]];_0x8BB0[0]= 0};var _0x65F4=(_0x867A instanceof  ArrayBuffer)?_0x867A[_$_90b0[3]]:_0x867A[_$_90b0[60]];var _0x8B54=_0x65F4[_$_90b0[485]]();var _0x8C0C= new Uint8Array(_0x8B54[_$_90b0[47]]+ 1);for(var _0x6200=0;_0x6200< _0x8B54[_$_90b0[47]];_0x6200++){_0x8C0C[_0x6200]= parseInt(_0x8B54[_0x6200])};_0x8C0C[_0x8B54[_$_90b0[47]]]= 255;if(_0x83F6){var _0x8BDE= new _0x83F6([_0x8BB0[_$_90b0[5]],_0x8C0C[_$_90b0[5]],_0x867A]);_0x895A(null,_0x8BDE)}})}_0x85C2(_0x736E,_0x88D0,function(_0x60EC,_0x892C){return _0x6034( new _0x83F6(_0x892C))})};_0x5F20[_$_90b0[484]]= function(_0x70BC,_0x8846,_0x6034){if( typeof _0x8846=== _$_90b0[68]){_0x6034= _0x8846;_0x8846= null};var _0x8C68=_0x70BC;var _0x8C3A=[];var _0x8CC4=false;while(_0x8C68[_$_90b0[3]]> 0){var _0x8CF2= new Uint8Array(_0x8C68);var _0x8B26=_0x8CF2[0]=== 0;var _0x8C96=_$_90b0[24];for(var _0x6200=1;;_0x6200++){if(_0x8CF2[_0x6200]== 255){break};if(_0x8C96[_$_90b0[47]]> 310){_0x8CC4= true;break};_0x8C96+= _0x8CF2[_0x6200]};if(_0x8CC4){return _0x6034(_0x60EC,0,1)};_0x8C68= _0x861E(_0x8C68,2+ _0x8C96[_$_90b0[47]]);_0x8C96= parseInt(_0x8C96);var _0x7032=_0x861E(_0x8C68,0,_0x8C96);if(_0x8B26){try{_0x7032= String[_$_90b0[476]][_$_90b0[71]](null, new Uint8Array(_0x7032))}catch(_0x5EF2){var _0x87BC= new Uint8Array(_0x7032);_0x7032= _$_90b0[24];for(var _0x6200=0;_0x6200< _0x87BC[_$_90b0[47]];_0x6200++){_0x7032+= String[_$_90b0[476]](_0x87BC[_0x6200])}}};_0x8C3A[_$_90b0[75]](_0x7032);_0x8C68= _0x861E(_0x8C68,_0x8C96)};var _0x7A42=_0x8C3A[_$_90b0[47]];_0x8C3A[_$_90b0[23]](function(_0x8D20,_0x6200){_0x6034(_0x5F20[_$_90b0[238]](_0x8D20,_0x8846,true),_0x6200,_0x7A42)})}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./keys":25,"after":1,"arraybuffer.slice":2,"base64-arraybuffer":5,"blob":6,"has-binary":41,"utf8":86}],25:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= Object[_$_90b0[488]]|| function _0x8594(_0x6A72){var _0x8E62=[];var _0x8E90=Object[_$_90b0[36]][_$_90b0[158]];for(var _0x6200 in _0x6A72){if(_0x8E90[_$_90b0[54]](_0x6A72,_0x6200)){_0x8E62[_$_90b0[75]](_0x6200)}};return _0x8E62}},{}],26:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F48=_0x5FD8(_$_90b0[489]);var _0x8F1A=_0x5FD8(_$_90b0[490]);function _0x8EEC(_0x6370){_0x8F48[_$_90b0[54]](this);var _0x6342=_0x6370|| {};this[_$_90b0[491]]= {chunksize:16384,pacing:0};var _0x6314;for(_0x6314 in _0x6342){this[_$_90b0[491]][_0x6314]= _0x6342[_0x6314]};this[_$_90b0[454]]= null;this[_$_90b0[492]]= null}_0x8F1A[_$_90b0[493]](_0x8EEC,_0x8F48);_0x8EEC[_$_90b0[36]][_$_90b0[179]]= function(_0x8FA4,_0x8F76){var _0x6B58=this;this[_$_90b0[454]]= _0x8FA4;this[_$_90b0[492]]= _0x8F76;var _0x902E= typeof _0x8F76[_$_90b0[494]]!== _$_90b0[495];var _0x8FD2=0;var _0x9000=function(){var _0x905C= new window[_$_90b0[496]]();_0x905C[_$_90b0[301]]= (function(){return function(_0x5EF2){_0x6B58[_$_90b0[492]][_$_90b0[179]](_0x5EF2[_$_90b0[281]][_$_90b0[472]]);_0x6B58[_$_90b0[83]](_$_90b0[497],_0x8FD2,_0x8FA4[_$_90b0[60]],_0x5EF2[_$_90b0[281]][_$_90b0[472]]);if(_0x8FA4[_$_90b0[60]]> _0x8FD2+ _0x5EF2[_$_90b0[281]][_$_90b0[472]][_$_90b0[3]]){if(_0x902E){window[_$_90b0[499]](_0x9000,_0x6B58[_$_90b0[491]][_$_90b0[498]])}else {if(_0x8F76[_$_90b0[500]]<= _0x8F76[_$_90b0[494]]){window[_$_90b0[499]](_0x9000,0)}else {}}}else {_0x6B58[_$_90b0[83]](_$_90b0[497],_0x8FA4[_$_90b0[60]],_0x8FA4[_$_90b0[60]],null);_0x6B58[_$_90b0[83]](_$_90b0[501])};_0x8FD2= _0x8FD2+ _0x6B58[_$_90b0[491]][_$_90b0[502]]}})(_0x8FA4);var _0x69E8=_0x8FA4[_$_90b0[4]](_0x8FD2,_0x8FD2+ _0x6B58[_$_90b0[491]][_$_90b0[502]]);_0x905C[_$_90b0[473]](_0x69E8)};if(!_0x902E){_0x8F76[_$_90b0[494]]= 8* this[_$_90b0[491]][_$_90b0[502]];_0x8F76[_$_90b0[73]](_$_90b0[503],_0x9000)};window[_$_90b0[499]](_0x9000,0)};function _0x8EBE(){_0x8F48[_$_90b0[54]](this);this[_$_90b0[504]]= [];this[_$_90b0[505]]= 0;this[_$_90b0[506]]= {};this[_$_90b0[492]]= null}_0x8F1A[_$_90b0[493]](_0x8EBE,_0x8F48);_0x8EBE[_$_90b0[36]][_$_90b0[507]]= function(_0x908A,_0x8F76){var _0x6B58=this;if(_0x908A){this[_$_90b0[506]]= _0x908A};this[_$_90b0[492]]= _0x8F76;_0x8F76[_$_90b0[138]]= _$_90b0[319];this[_$_90b0[492]][_$_90b0[370]]= function(_0x6AFC){var _0x65F4=_0x6AFC[_$_90b0[181]][_$_90b0[3]];_0x6B58[_$_90b0[505]]+= _0x65F4;_0x6B58[_$_90b0[504]][_$_90b0[75]](_0x6AFC[_$_90b0[181]]);_0x6B58[_$_90b0[83]](_$_90b0[497],_0x6B58[_$_90b0[505]],_0x6B58[_$_90b0[506]][_$_90b0[60]],_0x6AFC[_$_90b0[181]]);if(_0x6B58[_$_90b0[505]]=== _0x6B58[_$_90b0[506]][_$_90b0[60]]){_0x6B58[_$_90b0[83]](_$_90b0[508], new window[_$_90b0[66]](_0x6B58[_$_90b0[504]]),_0x6B58[_$_90b0[506]]);_0x6B58[_$_90b0[504]]= []}else {if(_0x6B58[_$_90b0[505]]> _0x6B58[_$_90b0[506]][_$_90b0[60]]){console[_$_90b0[159]](_$_90b0[509]);_0x6B58[_$_90b0[504]]= []}}}};_0x5F4E[_$_90b0[0]]= {};_0x5F4E[_$_90b0[0]][_$_90b0[510]]=  typeof window!== _$_90b0[53]&& window&& window[_$_90b0[511]]&& window[_$_90b0[496]]&& window[_$_90b0[66]];_0x5F4E[_$_90b0[0]][_$_90b0[512]]= _0x8EEC;_0x5F4E[_$_90b0[0]][_$_90b0[513]]= _0x8EBE},{"util":89,"wildemitter":100}],27:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x90E6=_0x5FD8(_$_90b0[514]);var _0x90B8={};_0x5F4E[_$_90b0[0]]= function(_0x9142,_0x6BB4){var _0x91CC=arguments[_$_90b0[47]]=== 2;var _0x6034=_0x91CC?_0x6BB4:_0x9142;var _0x6FD6;if( typeof window=== _$_90b0[53]|| window[_$_90b0[107]][_$_90b0[102]]=== _$_90b0[515]){_0x6FD6=  new Error(_$_90b0[516]);_0x6FD6[_$_90b0[164]]= _$_90b0[517];return _0x6034(_0x6FD6)};if(window[_$_90b0[519]][_$_90b0[266]][_$_90b0[396]](_$_90b0[518])){var _0x9114=parseInt(window[_$_90b0[519]][_$_90b0[266]][_$_90b0[396]](/Chrome\/(.*) /)[1],10);var _0x9228=33;var _0x91FA=!window[_$_90b0[521]][_$_90b0[520]];if(window[_$_90b0[519]][_$_90b0[266]][_$_90b0[396]](_$_90b0[522])){_0x9228= 35};if(_0x91FA|| (_0x9114>= 26&& _0x9114<= _0x9228)){_0x9142= (_0x91CC&& _0x9142)|| {video:{mandatory:{googLeakyBucket:true,maxWidth:window[_$_90b0[524]][_$_90b0[523]],maxHeight:window[_$_90b0[524]][_$_90b0[525]],maxFrameRate:3,chromeMediaSource:_$_90b0[524]}}};_0x90E6(_0x9142,_0x6034)}else {var _0x9170=_$_90b0[526];chrome[_$_90b0[534]][_$_90b0[533]](_0x9170,{type:_$_90b0[527],id:1},null,function(_0x70BC){if(!_0x70BC|| _0x70BC[_$_90b0[528]]=== _$_90b0[24]){var _0x6FD6= new Error(_$_90b0[516]);_0x6FD6[_$_90b0[164]]= _$_90b0[529];_0x6034(_0x6FD6)}else {_0x9142= (_0x91CC&& _0x9142)|| {audio:false,video:{mandatory:{chromeMediaSource:_$_90b0[530],maxWidth:window[_$_90b0[524]][_$_90b0[523]],maxHeight:window[_$_90b0[524]][_$_90b0[525]],maxFrameRate:3}}};_0x9142[_$_90b0[9]][_$_90b0[532]][_$_90b0[531]]= _0x70BC[_$_90b0[528]];_0x90E6(_0x9142,_0x6034)}})}}else {if(window[_$_90b0[519]][_$_90b0[266]][_$_90b0[396]](_$_90b0[535])){var _0x919E=parseInt(window[_$_90b0[519]][_$_90b0[266]][_$_90b0[396]](/Firefox\/(.*)/)[1],10);if(_0x919E>= 33){_0x9142= (_0x91CC&& _0x9142)|| {video:{mozMediaSource:_$_90b0[536],mediaSource:_$_90b0[536]}};_0x90E6(_0x9142,function(_0x60EC,_0x639E){_0x6034(_0x60EC,_0x639E);if(!_0x60EC){var _0x9256=_0x639E[_$_90b0[537]];var _0x9284=window[_$_90b0[540]](function(){if(!_0x639E){window[_$_90b0[538]](_0x9284)};if(_0x639E[_$_90b0[537]]== _0x9256){window[_$_90b0[538]](_0x9284);if(_0x639E[_$_90b0[539]]){_0x639E[_$_90b0[539]]()}};_0x9256= _0x639E[_$_90b0[537]]},500)}})}}}}; typeof window!== _$_90b0[53]&& window[_$_90b0[73]](_$_90b0[207],function(_0x6AFC){if(_0x6AFC[_$_90b0[541]]!= window[_$_90b0[107]][_$_90b0[541]]){return};if(_0x6AFC[_$_90b0[181]][_$_90b0[65]]== _$_90b0[542]&& _0x90B8[_0x6AFC[_$_90b0[181]][_$_90b0[156]]]){var _0x70BC=_0x90B8[_0x6AFC[_$_90b0[181]][_$_90b0[156]]];var _0x9142=_0x70BC[1];var _0x6034=_0x70BC[0];delete _0x90B8[_0x6AFC[_$_90b0[181]][_$_90b0[156]]];if(_0x6AFC[_$_90b0[181]][_$_90b0[528]]=== _$_90b0[24]){var _0x6FD6= new Error(_$_90b0[516]);_0x6FD6[_$_90b0[164]]= _$_90b0[529];_0x6034(_0x6FD6)}else {_0x9142= _0x9142|| {audio:false,video:{mandatory:{chromeMediaSource:_$_90b0[530],maxWidth:window[_$_90b0[524]][_$_90b0[523]],maxHeight:window[_$_90b0[524]][_$_90b0[525]],maxFrameRate:3},optional:[{googLeakyBucket:true},{googTemporalLayeredScreencast:true}]}};_0x9142[_$_90b0[9]][_$_90b0[532]][_$_90b0[531]]= _0x6AFC[_$_90b0[181]][_$_90b0[528]];_0x90E6(_0x9142,_0x6034)}}else {if(_0x6AFC[_$_90b0[181]][_$_90b0[65]]== _$_90b0[543]){window[_$_90b0[544]](_0x6AFC[_$_90b0[181]][_$_90b0[156]])}}})},{"getusermedia":28}],28:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x628A=_0x5FD8(_$_90b0[6]);_0x5F4E[_$_90b0[0]]= function(_0x9142,_0x6BB4){var _0x6FD6;var _0x933C=arguments[_$_90b0[47]]=== 2;var _0x92E0={video:true,audio:true};var _0x930E=_$_90b0[545];var _0x92B2=_$_90b0[529];var _0x936A=_$_90b0[546];if(!_0x933C){_0x6BB4= _0x9142;_0x9142= _0x92E0};if( typeof navigator=== _$_90b0[53]||  !navigator[_$_90b0[547]]){_0x6FD6=  new Error(_$_90b0[548]);_0x6FD6[_$_90b0[164]]= _$_90b0[549];return setTimeout(function(){_0x6BB4(_0x6FD6)},0)};if(!_0x9142[_$_90b0[8]]&&  !_0x9142[_$_90b0[9]]){_0x6FD6=  new Error(_$_90b0[548]);_0x6FD6[_$_90b0[164]]= _$_90b0[550];return setTimeout(function(){_0x6BB4(_0x6FD6)},0)};navigator[_$_90b0[553]][_$_90b0[547]](_0x9142)[_$_90b0[552]](function(_0x639E){_0x6BB4(null,_0x639E)})[_$_90b0[551]](function(_0x60EC){var _0x6FD6;if( typeof _0x60EC=== _$_90b0[67]){_0x6FD6=  new Error(_$_90b0[548]);if(_0x60EC=== _0x930E|| _0x60EC=== _0x92B2){_0x6FD6[_$_90b0[164]]= _0x930E}else {_0x6FD6[_$_90b0[164]]= _0x936A}}else {_0x6FD6= _0x60EC;if(!_0x6FD6[_$_90b0[164]]){if(_0x6FD6[_0x930E]){_0x60EC[_$_90b0[164]]= _0x930E}else {_0x60EC[_$_90b0[164]]= _0x936A}}};_0x6BB4(_0x6FD6)})}},{"webrtc-adapter":90}],29:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x628A=_0x5FD8(_$_90b0[6]);_0x5F4E[_$_90b0[0]]= function(_0x9142,_0x6BB4){var _0x6FD6;var _0x933C=arguments[_$_90b0[47]]=== 2;var _0x92E0={video:true,audio:true};var _0x930E=_$_90b0[545];var _0x92B2=_$_90b0[529];var _0x936A=_$_90b0[546];if(!_0x933C){_0x6BB4= _0x9142;_0x9142= _0x92E0};if( typeof navigator=== _$_90b0[53]||  !navigator[_$_90b0[547]]){_0x6FD6=  new Error(_$_90b0[548]);_0x6FD6[_$_90b0[164]]= _$_90b0[549];return setTimeout(function(){_0x6BB4(_0x6FD6)},0)};if(!_0x9142[_$_90b0[8]]&&  !_0x9142[_$_90b0[9]]){_0x6FD6=  new Error(_$_90b0[548]);_0x6FD6[_$_90b0[164]]= _$_90b0[550];return setTimeout(function(){_0x6BB4(_0x6FD6)},0)};if(localStorage&& localStorage[_$_90b0[554]]=== _$_90b0[555]){_0x9142[_$_90b0[556]]= true};navigator[_$_90b0[553]][_$_90b0[547]](_0x9142)[_$_90b0[552]](function(_0x639E){_0x6BB4(null,_0x639E)})[_$_90b0[551]](function(_0x60EC){var _0x6FD6;if( typeof _0x60EC=== _$_90b0[67]){_0x6FD6=  new Error(_$_90b0[548]);if(_0x60EC=== _0x930E|| _0x60EC=== _0x92B2){_0x6FD6[_$_90b0[164]]= _0x930E}else {_0x6FD6[_$_90b0[164]]= _0x936A}}else {_0x6FD6= _0x60EC;if(!_0x6FD6[_$_90b0[164]]){if(_0x6FD6[_0x930E]){_0x60EC[_$_90b0[164]]= _0x930E}else {_0x60EC[_$_90b0[164]]= _0x936A}}};_0x6BB4(_0x6FD6)})}},{"webrtc-adapter":30}],30:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];(function(){var _0x9450=_0x5FD8(_$_90b0[557])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[557])[_$_90b0[558]];_0x5F4E[_$_90b0[0]][_$_90b0[558]]= _0x9398;_0x5F4E[_$_90b0[0]][_$_90b0[559]]= _0x5FD8(_$_90b0[557])[_$_90b0[559]];_0x5F4E[_$_90b0[0]][_$_90b0[560]]= _0x5FD8(_$_90b0[557])[_$_90b0[560]];var _0x93C6=_0x5FD8(_$_90b0[561])|| null;var _0x93F4=_0x5FD8(_$_90b0[562])|| null;var _0x9422=_0x5FD8(_$_90b0[563])|| null;var _0x947E=_0x5FD8(_$_90b0[564])|| null;switch(_0x9398[_$_90b0[584]]){case _$_90b0[565]:;case _$_90b0[521]:if(!_0x93C6||  !_0x93C6[_$_90b0[566]]){_0x9450(_$_90b0[567]);return};_0x9450(_$_90b0[568]);_0x5F4E[_$_90b0[0]][_$_90b0[569]]= _0x93C6;_0x93C6[_$_90b0[570]]();_0x93C6[_$_90b0[571]]();_0x93C6[_$_90b0[572]]();_0x93C6[_$_90b0[566]]();_0x93C6[_$_90b0[573]]();break;case _$_90b0[576]:if(!_0x9422||  !_0x9422[_$_90b0[566]]){_0x9450(_$_90b0[574]);return};_0x9450(_$_90b0[575]);_0x5F4E[_$_90b0[0]][_$_90b0[569]]= _0x9422;_0x9422[_$_90b0[570]]();_0x9422[_$_90b0[572]]();_0x9422[_$_90b0[566]]();_0x9422[_$_90b0[573]]();break;case _$_90b0[579]:if(!_0x93F4||  !_0x93F4[_$_90b0[566]]){_0x9450(_$_90b0[577]);return};_0x9450(_$_90b0[578]);_0x5F4E[_$_90b0[0]][_$_90b0[569]]= _0x93F4;_0x93F4[_$_90b0[570]]();_0x93F4[_$_90b0[566]]();break;case _$_90b0[582]:if(!_0x947E){_0x9450(_$_90b0[580]);return};_0x9450(_$_90b0[581]);_0x5F4E[_$_90b0[0]][_$_90b0[569]]= _0x947E;_0x947E[_$_90b0[570]]();break;default:_0x9450(_$_90b0[583])}})()},{"./chrome/chrome_shim":31,"./edge/edge_shim":33,"./firefox/firefox_shim":35,"./safari/safari_shim":37,"./utils":38}],31:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[585])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[585])[_$_90b0[558]];var _0x93C6={shimMediaStream:function(){window[_$_90b0[586]]= window[_$_90b0[586]]|| window[_$_90b0[587]]},shimOnTrack:function(){if( typeof window=== _$_90b0[99]&& window[_$_90b0[588]]&&  !(_$_90b0[589] in  window[_$_90b0[588]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[588]][_$_90b0[36]],_$_90b0[589],{get:function(){return this[_$_90b0[590]]},set:function(_0x5E68){var _0x6B58=this;if(this[_$_90b0[590]]){this[_$_90b0[81]](_$_90b0[591],this[_$_90b0[590]]);this[_$_90b0[81]](_$_90b0[592],this[_$_90b0[593]])};this[_$_90b0[73]](_$_90b0[591],this[_$_90b0[590]]= _0x5E68);this[_$_90b0[73]](_$_90b0[592],this[_$_90b0[593]]= function(_0x5EF2){_0x5EF2[_$_90b0[597]][_$_90b0[73]](_$_90b0[594],function(_0x94AC){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94AC[_$_90b0[591]];_0x6AFC[_$_90b0[595]]= {track:_0x94AC[_$_90b0[591]]};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];_0x6B58[_$_90b0[598]](_0x6AFC)});_0x5EF2[_$_90b0[597]][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94DA;_0x6AFC[_$_90b0[595]]= {track:_0x94DA};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];this[_$_90b0[598]](_0x6AFC)}[_$_90b0[422]](this))}[_$_90b0[422]](this))}})}},shimSourceObject:function(){if( typeof window=== _$_90b0[99]){if(window[_$_90b0[601]]&&  !(_$_90b0[29] in  window[_$_90b0[601]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[601]][_$_90b0[36]],_$_90b0[29],{get:function(){return this[_$_90b0[602]]},set:function(_0x639E){var _0x6B58=this;this[_$_90b0[602]]= _0x639E;if(this[_$_90b0[261]]){URL[_$_90b0[603]](this[_$_90b0[261]])};if(!_0x639E){this[_$_90b0[261]]= _$_90b0[24];return};this[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E);_0x639E[_$_90b0[73]](_$_90b0[594],function(){if(_0x6B58[_$_90b0[261]]){URL[_$_90b0[603]](_0x6B58[_$_90b0[261]])};_0x6B58[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E)});_0x639E[_$_90b0[73]](_$_90b0[605],function(){if(_0x6B58[_$_90b0[261]]){URL[_$_90b0[603]](_0x6B58[_$_90b0[261]])};_0x6B58[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E)})}})}}},shimPeerConnection:function(){window[_$_90b0[588]]= function(_0x9592,_0x95C0){_0x9450(_$_90b0[606]);if(_0x9592&& _0x9592[_$_90b0[607]]){_0x9592[_$_90b0[608]]= _0x9592[_$_90b0[607]]};var _0x9564= new webkitRTCPeerConnection(_0x9592,_0x95C0);var _0x9536=_0x9564[_$_90b0[609]][_$_90b0[422]](_0x9564);_0x9564[_$_90b0[609]]= function(_0x9678,_0x96A6,_0x95EE){var _0x6B58=this;var _0x6A16=arguments;if(arguments[_$_90b0[47]]> 0&&  typeof _0x9678=== _$_90b0[68]){return _0x9536(_0x9678,_0x96A6)};var _0x961C=function(_0x9730){var _0x975E={};var _0x9702=_0x9730[_$_90b0[472]]();_0x9702[_$_90b0[23]](function(_0x978C){var _0x97BA={id:_0x978C[_$_90b0[156]],timestamp:_0x978C[_$_90b0[610]],type:_0x978C[_$_90b0[65]]};_0x978C[_$_90b0[417]]()[_$_90b0[23]](function(_0x6DAE){_0x97BA[_0x6DAE]= _0x978C[_$_90b0[611]](_0x6DAE)});_0x975E[_0x97BA[_$_90b0[156]]]= _0x97BA});return _0x975E};var _0x964A=function(_0x9816,_0x97E8){var _0x85C2= new Map(Object[_$_90b0[488]](_0x9816)[_$_90b0[612]](function(_0x6BE2){return [_0x6BE2,_0x9816[_0x6BE2]]}));_0x97E8= _0x97E8|| _0x9816;Object[_$_90b0[488]](_0x97E8)[_$_90b0[23]](function(_0x6BE2){_0x85C2[_0x6BE2]= _0x97E8[_0x6BE2]});return _0x85C2};if(arguments[_$_90b0[47]]>= 2){var _0x96D4=function(_0x9730){_0x6A16[1](_0x964A(_0x961C(_0x9730)))};return _0x9536[_$_90b0[71]](this,[_0x96D4,arguments[0]])};return  new Promise(function(_0x9872,_0x9844){if(_0x6A16[_$_90b0[47]]=== 1&&  typeof _0x9678=== _$_90b0[99]){_0x9536[_$_90b0[71]](_0x6B58,[function(_0x9730){_0x9872(_0x964A(_0x961C(_0x9730)))},_0x9844])}else {_0x9536[_$_90b0[71]](_0x6B58,[function(_0x9730){_0x9872(_0x964A(_0x961C(_0x9730),_0x9730[_$_90b0[472]]()))},_0x9844])}})[_$_90b0[552]](_0x96A6,_0x95EE)};return _0x9564};window[_$_90b0[588]][_$_90b0[36]]= webkitRTCPeerConnection[_$_90b0[36]];if(webkitRTCPeerConnection[_$_90b0[613]]){Object[_$_90b0[600]](window[_$_90b0[588]],_$_90b0[613],{get:function(){return webkitRTCPeerConnection[_$_90b0[613]]}})};[_$_90b0[614],_$_90b0[615]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){var _0x6B58=this;if(arguments[_$_90b0[47]]< 1|| (arguments[_$_90b0[47]]=== 1&&  typeof arguments[0]=== _$_90b0[99])){var _0x6370=arguments[_$_90b0[47]]=== 1?arguments[0]:undefined;return  new Promise(function(_0x9872,_0x9844){_0x98CE[_$_90b0[71]](_0x6B58,[_0x9872,_0x9844,_0x6370])})};return _0x98CE[_$_90b0[71]](this,arguments)}});if(_0x9398[_$_90b0[616]]< 51){[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){var _0x6A16=arguments;var _0x6B58=this;var _0x98FC= new Promise(function(_0x9872,_0x9844){_0x98CE[_$_90b0[71]](_0x6B58,[_0x6A16[0],_0x9872,_0x9844])});if(_0x6A16[_$_90b0[47]]< 2){return _0x98FC};return _0x98FC[_$_90b0[552]](function(){_0x6A16[1][_$_90b0[71]](null,[])},function(_0x60EC){if(_0x6A16[_$_90b0[47]]>= 3){_0x6A16[2][_$_90b0[71]](null,[_0x60EC])}})}})};var _0x9508=RTCPeerConnection[_$_90b0[36]][_$_90b0[619]];RTCPeerConnection[_$_90b0[36]][_$_90b0[619]]= function(){return arguments[0]=== null?Promise[_$_90b0[620]]():_0x9508[_$_90b0[71]](this,arguments)};[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){arguments[0]=  new ((_0x98A0=== _$_90b0[619])?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return _0x98CE[_$_90b0[71]](this,arguments)}})},attachMediaStream:function(_0x62E6,_0x639E){_0x9450(_$_90b0[621]);if(_0x9398[_$_90b0[616]]>= 43){_0x62E6[_$_90b0[29]]= _0x639E}else {if( typeof _0x62E6[_$_90b0[261]]!== _$_90b0[53]){_0x62E6[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E)}else {_0x9450(_$_90b0[622])}}},reattachMediaStream:function(_0x7060,_0x992A){_0x9450(_$_90b0[623]);if(_0x9398[_$_90b0[616]]>= 43){_0x7060[_$_90b0[29]]= _0x992A[_$_90b0[29]]}else {_0x7060[_$_90b0[261]]= _0x992A[_$_90b0[261]]}}};_0x5F4E[_$_90b0[0]]= {shimMediaStream:_0x93C6[_$_90b0[571]],shimOnTrack:_0x93C6[_$_90b0[573]],shimSourceObject:_0x93C6[_$_90b0[572]],shimPeerConnection:_0x93C6[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624]),attachMediaStream:_0x93C6[_$_90b0[625]],reattachMediaStream:_0x93C6[_$_90b0[626]]}},{"../utils.js":38,"./getusermedia":32}],32:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[585])[_$_90b0[378]];_0x5F4E[_$_90b0[0]]= function(){var _0x9958=function(_0x7DAC){if( typeof _0x7DAC!== _$_90b0[99]|| _0x7DAC[_$_90b0[532]]|| _0x7DAC[_$_90b0[627]]){return _0x7DAC};var _0x9A6C={};Object[_$_90b0[488]](_0x7DAC)[_$_90b0[23]](function(_0x6BE2){if(_0x6BE2=== _$_90b0[628]|| _0x6BE2=== _$_90b0[629]|| _0x6BE2=== _$_90b0[630]){return};var _0x7E36=( typeof _0x7DAC[_0x6BE2]=== _$_90b0[99])?_0x7DAC[_0x6BE2]:{ideal:_0x7DAC[_0x6BE2]};if(_0x7E36[_$_90b0[631]]!== undefined&&  typeof _0x7E36[_$_90b0[631]]=== _$_90b0[495]){_0x7E36[_$_90b0[30]]= _0x7E36[_$_90b0[31]]= _0x7E36[_$_90b0[631]]};var _0x9AC8=function(_0x63FA,_0x6DAE){if(_0x63FA){return _0x63FA+ _0x6DAE[_$_90b0[478]](0)[_$_90b0[632]]()+ _0x6DAE[_$_90b0[4]](1)};return (_0x6DAE=== _$_90b0[633])?_$_90b0[528]:_0x6DAE};if(_0x7E36[_$_90b0[634]]!== undefined){_0x9A6C[_$_90b0[627]]= _0x9A6C[_$_90b0[627]]|| [];var _0x9A9A={};if( typeof _0x7E36[_$_90b0[634]]=== _$_90b0[495]){_0x9A9A[_0x9AC8(_$_90b0[30],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A);_0x9A9A= {};_0x9A9A[_0x9AC8(_$_90b0[31],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A)}else {_0x9A9A[_0x9AC8(_$_90b0[24],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A)}};if(_0x7E36[_$_90b0[631]]!== undefined&&  typeof _0x7E36[_$_90b0[631]]!== _$_90b0[495]){_0x9A6C[_$_90b0[532]]= _0x9A6C[_$_90b0[532]]|| {};_0x9A6C[_$_90b0[532]][_0x9AC8(_$_90b0[24],_0x6BE2)]= _0x7E36[_$_90b0[631]]}else {[_$_90b0[30],_$_90b0[31]][_$_90b0[23]](function(_0x9AF6){if(_0x7E36[_0x9AF6]!== undefined){_0x9A6C[_$_90b0[532]]= _0x9A6C[_$_90b0[532]]|| {};_0x9A6C[_$_90b0[532]][_0x9AC8(_0x9AF6,_0x6BE2)]= _0x7E36[_0x9AF6]}})}});if(_0x7DAC[_$_90b0[629]]){_0x9A6C[_$_90b0[627]]= (_0x9A6C[_$_90b0[627]]|| [])[_$_90b0[70]](_0x7DAC[_$_90b0[629]])};return _0x9A6C};var _0x9A10=function(_0x9142,_0x9B52){_0x9142= JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9142));if(_0x9142&& _0x9142[_$_90b0[8]]){_0x9142[_$_90b0[8]]= _0x9958(_0x9142[_$_90b0[8]])};if(_0x9142&&  typeof _0x9142[_$_90b0[9]]=== _$_90b0[99]){var _0x9B24=_0x9142[_$_90b0[9]][_$_90b0[636]];_0x9B24= _0x9B24&& (( typeof _0x9B24=== _$_90b0[99])?_0x9B24:{ideal:_0x9B24});if((_0x9B24&& (_0x9B24[_$_90b0[631]]=== _$_90b0[450]|| _0x9B24[_$_90b0[631]]=== _$_90b0[637]|| _0x9B24[_$_90b0[634]]=== _$_90b0[450]|| _0x9B24[_$_90b0[634]]=== _$_90b0[637]))&&  !(navigator[_$_90b0[553]][_$_90b0[638]]&& navigator[_$_90b0[553]][_$_90b0[638]]()[_$_90b0[636]])){delete _0x9142[_$_90b0[9]][_$_90b0[636]];if(_0x9B24[_$_90b0[631]]=== _$_90b0[637]|| _0x9B24[_$_90b0[634]]=== _$_90b0[637]){return navigator[_$_90b0[553]][_$_90b0[646]]()[_$_90b0[552]](function(_0x9BAE){_0x9BAE= _0x9BAE[_$_90b0[641]](function(_0x8144){return _0x8144[_$_90b0[639]]=== _$_90b0[640]});var _0x9B80=_0x9BAE[_$_90b0[644]](function(_0x8144){return _0x8144[_$_90b0[643]][_$_90b0[11]]()[_$_90b0[52]](_$_90b0[642])!==  -1})|| (_0x9BAE[_$_90b0[47]]&& _0x9BAE[_0x9BAE[_$_90b0[47]]- 1]);if(_0x9B80){_0x9142[_$_90b0[9]][_$_90b0[633]]= _0x9B24[_$_90b0[631]]?{exact:_0x9B80[_$_90b0[633]]}:{ideal:_0x9B80[_$_90b0[633]]}};_0x9142[_$_90b0[9]]= _0x9958(_0x9142[_$_90b0[9]]);_0x9450(_$_90b0[645]+ JSON[_$_90b0[399]](_0x9142));return _0x9B52(_0x9142)})}};_0x9142[_$_90b0[9]]= _0x9958(_0x9142[_$_90b0[9]])};_0x9450(_$_90b0[645]+ JSON[_$_90b0[399]](_0x9142));return _0x9B52(_0x9142)};var _0x9A3E=function(_0x5EF2){return {name:{PermissionDeniedError:_$_90b0[647],ConstraintNotSatisfiedError:_$_90b0[648]}[_0x5EF2[_$_90b0[164]]]|| _0x5EF2[_$_90b0[164]],message:_0x5EF2[_$_90b0[207]],constraint:_0x5EF2[_$_90b0[649]],toString:function(){return this[_$_90b0[164]]+ (this[_$_90b0[207]]&& _$_90b0[650])+ this[_$_90b0[207]]}}};var _0x9986=function(_0x9142,_0x9C0A,_0x9BDC){_0x9A10(_0x9142,function(_0x7DAC){navigator[_$_90b0[651]](_0x7DAC,_0x9C0A,function(_0x5EF2){_0x9BDC(_0x9A3E(_0x5EF2))})})};navigator[_$_90b0[547]]= _0x9986;var _0x99B4=function(_0x9142){return  new Promise(function(_0x9872,_0x9844){navigator[_$_90b0[547]](_0x9142,_0x9872,_0x9844)})};if(!navigator[_$_90b0[553]]){navigator[_$_90b0[553]]= {getUserMedia:_0x99B4,enumerateDevices:function(){return  new Promise(function(_0x9872){var _0x9C38={audio:_$_90b0[652],video:_$_90b0[640]};return MediaStreamTrack[_$_90b0[653]](function(_0x9BAE){_0x9872(_0x9BAE[_$_90b0[612]](function(_0x9C66){return {label:_0x9C66[_$_90b0[643]],kind:_0x9C38[_0x9C66[_$_90b0[639]]],deviceId:_0x9C66[_$_90b0[156]],groupId:_$_90b0[24]}}))})})}}};if(!navigator[_$_90b0[553]][_$_90b0[547]]){navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x9142){return _0x99B4(_0x9142)}}else {var _0x99E2=navigator[_$_90b0[553]][_$_90b0[547]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x9C94){return _0x9A10(_0x9C94,function(_0x7DAC){return _0x99E2(_0x7DAC)[_$_90b0[551]](function(_0x5EF2){return Promise[_$_90b0[654]](_0x9A3E(_0x5EF2))})})}};if( typeof navigator[_$_90b0[553]][_$_90b0[73]]=== _$_90b0[53]){navigator[_$_90b0[553]][_$_90b0[73]]= function(){_0x9450(_$_90b0[655])}};if( typeof navigator[_$_90b0[553]][_$_90b0[81]]=== _$_90b0[53]){navigator[_$_90b0[553]][_$_90b0[81]]= function(){_0x9450(_$_90b0[656])}}}},{"../utils.js":38}],33:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9CC2=_0x5FD8(_$_90b0[657]);var _0x9450=_0x5FD8(_$_90b0[658])[_$_90b0[378]];var _0x93F4={shimPeerConnection:function(){if(window[_$_90b0[659]]){if(!window[_$_90b0[660]]){window[_$_90b0[660]]= function(_0x6A16){return _0x6A16}};if(!window[_$_90b0[661]]){window[_$_90b0[661]]= function(_0x6A16){return _0x6A16}}};window[_$_90b0[588]]= function(_0x9D1E){var _0x6B58=this;var _0x9CF0=document[_$_90b0[662]]();[_$_90b0[73],_$_90b0[81],_$_90b0[598]][_$_90b0[23]](function(_0x98A0){_0x6B58[_0x98A0]= _0x9CF0[_0x98A0][_$_90b0[422]](_0x9CF0)});this[_$_90b0[663]]= null;this[_$_90b0[664]]= null;this[_$_90b0[589]]= null;this[_$_90b0[665]]= null;this[_$_90b0[666]]= null;this[_$_90b0[667]]= null;this[_$_90b0[668]]= null;this[_$_90b0[669]]= null;this[_$_90b0[670]]= [];this[_$_90b0[671]]= [];this[_$_90b0[672]]= function(){return _0x6B58[_$_90b0[670]]};this[_$_90b0[673]]= function(){return _0x6B58[_$_90b0[671]]};this[_$_90b0[674]]=  new RTCSessionDescription({type:_$_90b0[24],sdp:_$_90b0[24]});this[_$_90b0[675]]=  new RTCSessionDescription({type:_$_90b0[24],sdp:_$_90b0[24]});this[_$_90b0[676]]= _$_90b0[677];this[_$_90b0[678]]= _$_90b0[679];this[_$_90b0[680]]= _$_90b0[679];this[_$_90b0[681]]= {gatherPolicy:_$_90b0[682],iceServers:[]};if(_0x9D1E&& _0x9D1E[_$_90b0[607]]){switch(_0x9D1E[_$_90b0[607]]){case _$_90b0[682]:;case _$_90b0[684]:this[_$_90b0[681]][_$_90b0[683]]= _0x9D1E[_$_90b0[607]];break;case _$_90b0[686]:throw  new TypeError(_$_90b0[685]);default:break}};this[_$_90b0[687]]= _0x9D1E&& _0x9D1E[_$_90b0[688]]=== _$_90b0[689];if(_0x9D1E&& _0x9D1E[_$_90b0[690]]){var _0x9D4C=JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9D1E[_$_90b0[690]]));this[_$_90b0[681]][_$_90b0[690]]= _0x9D4C[_$_90b0[641]](function(_0x9D7A){if(_0x9D7A&& _0x9D7A[_$_90b0[691]]){var _0x9DA8=_0x9D7A[_$_90b0[691]];if( typeof _0x9DA8=== _$_90b0[67]){_0x9DA8= [_0x9DA8]};_0x9DA8= _0x9DA8[_$_90b0[641]](function(_0x9DD6){return _0x9DD6[_$_90b0[52]](_$_90b0[692])=== 0&& _0x9DD6[_$_90b0[52]](_$_90b0[693])!==  -1})[0];return !!_0x9DA8};return false})};this[_$_90b0[694]]= [];this[_$_90b0[695]]= []};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[696]]= function(){var _0x6B58=this;var _0x9E04=_0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[674]][_$_90b0[657]]);this[_$_90b0[695]][_$_90b0[23]](function(_0x6AFC){var _0x61D2=!_0x6AFC[_$_90b0[698]]|| Object[_$_90b0[488]](_0x6AFC[_$_90b0[698]])[_$_90b0[47]]=== 0;if(_0x61D2){for(var _0x725A=1;_0x725A< _0x9E04[_$_90b0[47]];_0x725A++){if(_0x9E04[_0x725A][_$_90b0[52]](_$_90b0[699])===  -1){_0x9E04[_0x725A]+= _$_90b0[700]}}}else {if(_0x6AFC[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_$_90b0[701])===  -1){_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[703]+ _0x6AFC[_$_90b0[698]][_$_90b0[698]]+ _$_90b0[704]}};_0x6B58[_$_90b0[674]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24]);_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]](_0x6AFC)};if(!_0x6AFC[_$_90b0[698]]&& _0x6B58[_$_90b0[680]]!== _$_90b0[300]){var _0x7790=_0x6B58[_$_90b0[694]][_$_90b0[708]](function(_0x9E32){return _0x9E32[_$_90b0[705]]&& _0x9E32[_$_90b0[705]][_$_90b0[706]]=== _$_90b0[707]});if(_0x7790){_0x6B58[_$_90b0[680]]= _$_90b0[300]}}});this[_$_90b0[695]]= []};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[709]]= function(_0x639E){this[_$_90b0[670]][_$_90b0[75]](_0x639E[_$_90b0[710]]());this[_$_90b0[711]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[712]]= function(_0x639E){var _0x9E60=this[_$_90b0[670]][_$_90b0[52]](_0x639E);if(_0x9E60>  -1){this[_$_90b0[670]][_$_90b0[82]](_0x9E60,1);this[_$_90b0[711]]()}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[713]]= function(){return this[_$_90b0[694]][_$_90b0[641]](function(_0x9E32){return !!_0x9E32[_$_90b0[714]]})[_$_90b0[612]](function(_0x9E32){return _0x9E32[_$_90b0[714]]})};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[715]]= function(){return this[_$_90b0[694]][_$_90b0[641]](function(_0x9E32){return !!_0x9E32[_$_90b0[716]]})[_$_90b0[612]](function(_0x9E32){return _0x9E32[_$_90b0[716]]})};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[717]]= function(_0x9EBC,_0x9EEA){var _0x9E8E={codecs:[],headerExtensions:[],fecMechanisms:[]};_0x9EBC[_$_90b0[718]][_$_90b0[23]](function(_0x9F18){for(var _0x6200=0;_0x6200< _0x9EEA[_$_90b0[718]][_$_90b0[47]];_0x6200++){var _0x9F46=_0x9EEA[_$_90b0[718]][_0x6200];if(_0x9F18[_$_90b0[164]][_$_90b0[11]]()=== _0x9F46[_$_90b0[164]][_$_90b0[11]]()&& _0x9F18[_$_90b0[719]]=== _0x9F46[_$_90b0[719]]&& _0x9F18[_$_90b0[720]]=== _0x9F46[_$_90b0[720]]){_0x9E8E[_$_90b0[718]][_$_90b0[75]](_0x9F46);break}}});_0x9EBC[_$_90b0[721]][_$_90b0[23]](function(_0x9F74){for(var _0x6200=0;_0x6200< _0x9EEA[_$_90b0[721]][_$_90b0[47]];_0x6200++){var _0x9FA2=_0x9EEA[_$_90b0[721]][_0x6200];if(_0x9F74[_$_90b0[262]]=== _0x9FA2[_$_90b0[262]]){_0x9E8E[_$_90b0[721]][_$_90b0[75]](_0x9FA2);break}}});return _0x9E8E};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[722]]= function(_0xA05A,_0xA088){var _0x6B58=this;var _0x9FFE= new RTCIceGatherer(_0x6B58[_$_90b0[681]]);var _0xA02C= new RTCIceTransport(_0x9FFE);_0x9FFE[_$_90b0[723]]= function(_0xA0E4){var _0x6AFC= new Event(_$_90b0[724]);_0x6AFC[_$_90b0[698]]= {sdpMid:_0xA05A,sdpMLineIndex:_0xA088};var _0xA0B6=_0xA0E4[_$_90b0[698]];var _0x61D2=!_0xA0B6|| Object[_$_90b0[488]](_0xA0B6)[_$_90b0[47]]=== 0;if(_0x61D2){if(_0x9FFE[_$_90b0[706]]=== undefined){_0x9FFE[_$_90b0[706]]= _$_90b0[707]};_0x6AFC[_$_90b0[698]][_$_90b0[698]]= _$_90b0[725]}else {_0xA0B6[_$_90b0[726]]= _0xA02C[_$_90b0[726]]=== _$_90b0[727]?2:1;_0x6AFC[_$_90b0[698]][_$_90b0[698]]= _0x9CC2[_$_90b0[728]](_0xA0B6)};var _0x9E04=_0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[674]][_$_90b0[657]]);if(_0x6AFC[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_$_90b0[701])===  -1){_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[703]+ _0x6AFC[_$_90b0[698]][_$_90b0[698]]+ _$_90b0[704]}else {_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[700]};_0x6B58[_$_90b0[674]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24]);var _0x7790=_0x6B58[_$_90b0[694]][_$_90b0[708]](function(_0x9E32){return _0x9E32[_$_90b0[705]]&& _0x9E32[_$_90b0[705]][_$_90b0[706]]=== _$_90b0[707]});switch(_0x6B58[_$_90b0[680]]){case _$_90b0[679]:_0x6B58[_$_90b0[695]][_$_90b0[75]](_0x6AFC);if(_0x61D2&& _0x7790){_0x6B58[_$_90b0[695]][_$_90b0[75]]( new Event(_$_90b0[724]))};break;case _$_90b0[729]:_0x6B58[_$_90b0[696]]();_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]](_0x6AFC)};if(_0x7790){_0x6B58[_$_90b0[598]]( new Event(_$_90b0[724]));if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]]( new Event(_$_90b0[724]))};_0x6B58[_$_90b0[680]]= _$_90b0[300]};break;case _$_90b0[300]:break;default:break}};_0xA02C[_$_90b0[730]]= function(){_0x6B58[_$_90b0[731]]()};var _0x9FD0= new RTCDtlsTransport(_0xA02C);_0x9FD0[_$_90b0[732]]= function(){_0x6B58[_$_90b0[731]]()};_0x9FD0[_$_90b0[254]]= function(){_0x9FD0[_$_90b0[706]]= _$_90b0[733];_0x6B58[_$_90b0[731]]()};return {iceGatherer:_0x9FFE,iceTransport:_0xA02C,dtlsTransport:_0x9FD0}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[734]]= function(_0x9E32,_0xA16E,_0xA140){var _0xA112=this[_$_90b0[717]](_0x9E32[_$_90b0[735]],_0x9E32[_$_90b0[736]]);if(_0xA16E&& _0x9E32[_$_90b0[714]]){_0xA112[_$_90b0[737]]= _0x9E32[_$_90b0[738]];_0xA112[_$_90b0[739]]= {cname:_0x9CC2[_$_90b0[740]]};if(_0x9E32[_$_90b0[741]][_$_90b0[47]]){_0xA112[_$_90b0[739]][_$_90b0[742]]= _0x9E32[_$_90b0[741]][0][_$_90b0[742]]};_0x9E32[_$_90b0[714]][_$_90b0[179]](_0xA112)};if(_0xA140&& _0x9E32[_$_90b0[716]]){_0xA112[_$_90b0[737]]= _0x9E32[_$_90b0[741]];_0xA112[_$_90b0[739]]= {cname:_0x9E32[_$_90b0[743]]};if(_0x9E32[_$_90b0[738]][_$_90b0[47]]){_0xA112[_$_90b0[739]][_$_90b0[742]]= _0x9E32[_$_90b0[738]][0][_$_90b0[742]]};_0x9E32[_$_90b0[716]][_$_90b0[507]](_0xA112)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[617]]= function(_0xA19C){var _0x6B58=this;var _0x9E04;var _0xA226;if(_0xA19C[_$_90b0[65]]=== _$_90b0[744]){if(this[_$_90b0[745]]){_0x9E04= _0x9CC2[_$_90b0[697]](_0xA19C[_$_90b0[657]]);_0xA226= _0x9E04[_$_90b0[112]]();_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0xA254=_0x9CC2[_$_90b0[746]](_0xA282);_0x6B58[_$_90b0[745]][_0xA088][_$_90b0[735]]= _0xA254});this[_$_90b0[694]]= this[_$_90b0[745]];delete this[_$_90b0[745]]}}else {if(_0xA19C[_$_90b0[65]]=== _$_90b0[747]){_0x9E04= _0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[675]][_$_90b0[657]]);_0xA226= _0x9E04[_$_90b0[112]]();var _0xA1F8=_0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[748])[_$_90b0[47]]> 0;_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0x9E32=_0x6B58[_$_90b0[694]][_0xA088];var _0x9FFE=_0x9E32[_$_90b0[705]];var _0xA02C=_0x9E32[_$_90b0[750]];var _0x9FD0=_0x9E32[_$_90b0[751]];var _0x9EBC=_0x9E32[_$_90b0[735]];var _0x9EEA=_0x9E32[_$_90b0[736]];var _0xA2DE=_0xA282[_$_90b0[110]](_$_90b0[752],1)[0][_$_90b0[110]](_$_90b0[403],2)[1]=== _$_90b0[753];if(!_0xA2DE){var _0xA33A=_0x9CC2[_$_90b0[754]](_0xA282,_0xA226);if(_0xA1F8){var _0xA2B0=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[757])[_$_90b0[612]](function(_0xA0B6){return _0x9CC2[_$_90b0[756]](_0xA0B6)})[_$_90b0[641]](function(_0xA0B6){return _0xA0B6[_$_90b0[726]]=== _$_90b0[755]});if(_0xA2B0[_$_90b0[47]]){_0xA02C[_$_90b0[758]](_0xA2B0)}};var _0xA30C=_0x9CC2[_$_90b0[759]](_0xA282,_0xA226);if(_0xA1F8){_0xA30C[_$_90b0[760]]= _$_90b0[761]};if(!_0x6B58[_$_90b0[687]]|| _0xA088=== 0){_0xA02C[_$_90b0[764]](_0x9FFE,_0xA33A,_0xA1F8?_$_90b0[762]:_$_90b0[763]);_0x9FD0[_$_90b0[764]](_0xA30C)};var _0xA112=_0x6B58[_$_90b0[717]](_0x9EBC,_0x9EEA);_0x6B58[_$_90b0[734]](_0x9E32,_0xA112[_$_90b0[718]][_$_90b0[47]]> 0,false)}})}};this[_$_90b0[674]]= {type:_0xA19C[_$_90b0[65]],sdp:_0xA19C[_$_90b0[657]]};switch(_0xA19C[_$_90b0[65]]){case _$_90b0[744]:this[_$_90b0[766]](_$_90b0[765]);break;case _$_90b0[747]:this[_$_90b0[766]](_$_90b0[677]);break;default:throw  new TypeError(_$_90b0[767]+ _0xA19C[_$_90b0[65]]+ _$_90b0[768])};var _0xA1CA=arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68];if(_0xA1CA){var _0x6BB4=arguments[1];window[_$_90b0[499]](function(){_0x6BB4();if(_0x6B58[_$_90b0[680]]=== _$_90b0[679]){_0x6B58[_$_90b0[680]]= _$_90b0[729]};_0x6B58[_$_90b0[696]]()},0)};var _0x6708=Promise[_$_90b0[620]]();_0x6708[_$_90b0[552]](function(){if(!_0xA1CA){if(_0x6B58[_$_90b0[680]]=== _$_90b0[679]){_0x6B58[_$_90b0[680]]= _$_90b0[729]};window[_$_90b0[499]](_0x6B58[_$_90b0[696]][_$_90b0[422]](_0x6B58),500)}});return _0x6708};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[618]]= function(_0xA19C){var _0x6B58=this;var _0x639E= new MediaStream();var _0xA368=[];var _0x9E04=_0x9CC2[_$_90b0[697]](_0xA19C[_$_90b0[657]]);var _0xA226=_0x9E04[_$_90b0[112]]();var _0xA1F8=_0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[748])[_$_90b0[47]]> 0;this[_$_90b0[687]]= _0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[769])[_$_90b0[47]]> 0;_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);var _0xA4AA=_0xA44E[0][_$_90b0[425]](2)[_$_90b0[110]](_$_90b0[403]);var _0xA420=_0xA4AA[0];var _0xA2DE=_0xA4AA[1]=== _$_90b0[753];var _0xA3C4=_0x9CC2[_$_90b0[771]](_0xA282,_0xA226);var _0x9E32;var _0x9FFE;var _0xA02C;var _0x9FD0;var _0xA562;var _0xA534;var _0xA590;var _0xA4D8;var _0x9EBC;var _0x94DA;var _0x9EEA=_0x9CC2[_$_90b0[746]](_0xA282);var _0xA33A;var _0xA30C;if(!_0xA2DE){_0xA33A= _0x9CC2[_$_90b0[754]](_0xA282,_0xA226);_0xA30C= _0x9CC2[_$_90b0[759]](_0xA282,_0xA226);_0xA30C[_$_90b0[760]]= _$_90b0[772]};_0xA4D8= _0x9CC2[_$_90b0[773]](_0xA282);var _0xA05A=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[774]);if(_0xA05A[_$_90b0[47]]){_0xA05A= _0xA05A[0][_$_90b0[425]](6)}else {_0xA05A= _0x9CC2[_$_90b0[775]]()};var _0xA396;var _0xA506=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[778])[_$_90b0[612]](function(_0xA5BE){return _0x9CC2[_$_90b0[777]](_0xA5BE)})[_$_90b0[641]](function(_0x6A72){return _0x6A72[_$_90b0[776]]=== _$_90b0[743]})[0];if(_0xA506){_0xA396= _0xA506[_$_90b0[295]]};var _0xA3F2=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[779])[_$_90b0[47]]> 0;var _0xA2B0=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[757])[_$_90b0[612]](function(_0xA0B6){return _0x9CC2[_$_90b0[756]](_0xA0B6)})[_$_90b0[641]](function(_0xA0B6){return _0xA0B6[_$_90b0[726]]=== _$_90b0[755]});if(_0xA19C[_$_90b0[65]]=== _$_90b0[744]&&  !_0xA2DE){var _0x6D80=_0x6B58[_$_90b0[687]]&& _0xA088> 0?{iceGatherer:_0x6B58[_$_90b0[694]][0][_$_90b0[705]],iceTransport:_0x6B58[_$_90b0[694]][0][_$_90b0[750]],dtlsTransport:_0x6B58[_$_90b0[694]][0][_$_90b0[751]]}:_0x6B58[_$_90b0[722]](_0xA05A,_0xA088);if(_0xA3F2){_0x6D80[_$_90b0[750]][_$_90b0[758]](_0xA2B0)};_0x9EBC= RTCRtpReceiver[_$_90b0[780]](_0xA420);_0xA590= [{ssrc:(2* _0xA088+ 2)* 1001}];_0xA534=  new RTCRtpReceiver(_0x6D80[_$_90b0[751]],_0xA420);_0x94DA= _0xA534[_$_90b0[591]];_0xA368[_$_90b0[75]]([_0x94DA,_0xA534]);_0x639E[_$_90b0[781]](_0x94DA);if(_0x6B58[_$_90b0[670]][_$_90b0[47]]> 0&& _0x6B58[_$_90b0[670]][0][_$_90b0[599]]()[_$_90b0[47]]>= _0xA088){var _0xA47C=_0x6B58[_$_90b0[670]][0][_$_90b0[599]]()[_0xA088];_0xA562=  new RTCRtpSender(_0xA47C,_0x6D80[_$_90b0[751]])};_0x6B58[_$_90b0[694]][_0xA088]= {iceGatherer:_0x6D80[_$_90b0[705]],iceTransport:_0x6D80[_$_90b0[750]],dtlsTransport:_0x6D80[_$_90b0[751]],localCapabilities:_0x9EBC,remoteCapabilities:_0x9EEA,rtpSender:_0xA562,rtpReceiver:_0xA534,kind:_0xA420,mid:_0xA05A,cname:_0xA396,sendEncodingParameters:_0xA590,recvEncodingParameters:_0xA4D8};_0x6B58[_$_90b0[734]](_0x6B58[_$_90b0[694]][_0xA088],false,_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783])}else {if(_0xA19C[_$_90b0[65]]=== _$_90b0[747]&&  !_0xA2DE){_0x9E32= _0x6B58[_$_90b0[694]][_0xA088];_0x9FFE= _0x9E32[_$_90b0[705]];_0xA02C= _0x9E32[_$_90b0[750]];_0x9FD0= _0x9E32[_$_90b0[751]];_0xA562= _0x9E32[_$_90b0[714]];_0xA534= _0x9E32[_$_90b0[716]];_0xA590= _0x9E32[_$_90b0[738]];_0x9EBC= _0x9E32[_$_90b0[735]];_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[741]]= _0xA4D8;_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[736]]= _0x9EEA;_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[743]]= _0xA396;if((_0xA1F8|| _0xA3F2)&& _0xA2B0[_$_90b0[47]]){_0xA02C[_$_90b0[758]](_0xA2B0)};if(!_0x6B58[_$_90b0[687]]|| _0xA088=== 0){_0xA02C[_$_90b0[764]](_0x9FFE,_0xA33A,_$_90b0[762]);_0x9FD0[_$_90b0[764]](_0xA30C)};_0x6B58[_$_90b0[734]](_0x9E32,_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[784],_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783]);if(_0xA534&& (_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783])){_0x94DA= _0xA534[_$_90b0[591]];_0xA368[_$_90b0[75]]([_0x94DA,_0xA534]);_0x639E[_$_90b0[781]](_0x94DA)}else {delete _0x9E32[_$_90b0[716]]}}}});this[_$_90b0[675]]= {type:_0xA19C[_$_90b0[65]],sdp:_0xA19C[_$_90b0[657]]};switch(_0xA19C[_$_90b0[65]]){case _$_90b0[744]:this[_$_90b0[766]](_$_90b0[785]);break;case _$_90b0[747]:this[_$_90b0[766]](_$_90b0[677]);break;default:throw  new TypeError(_$_90b0[767]+ _0xA19C[_$_90b0[65]]+ _$_90b0[768])};if(_0x639E[_$_90b0[599]]()[_$_90b0[47]]){_0x6B58[_$_90b0[671]][_$_90b0[75]](_0x639E);window[_$_90b0[499]](function(){var _0x6AFC= new Event(_$_90b0[592]);_0x6AFC[_$_90b0[597]]= _0x639E;_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[664]]!== null){window[_$_90b0[499]](function(){_0x6B58[_$_90b0[664]](_0x6AFC)},0)};_0xA368[_$_90b0[23]](function(_0x6314){var _0x94DA=_0x6314[0];var _0xA5EC=_0x6314[1];var _0xA61A= new Event(_$_90b0[591]);_0xA61A[_$_90b0[591]]= _0x94DA;_0xA61A[_$_90b0[595]]= _0xA5EC;_0xA61A[_$_90b0[596]]= [_0x639E];_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[589]]!== null){window[_$_90b0[499]](function(){_0x6B58[_$_90b0[589]](_0xA61A)},0)}})},0)};if(arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]){window[_$_90b0[499]](arguments[1],0)};return Promise[_$_90b0[620]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[166]]= function(){this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){if(_0x9E32[_$_90b0[750]]){_0x9E32[_$_90b0[750]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[751]]){_0x9E32[_$_90b0[751]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[714]]){_0x9E32[_$_90b0[714]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[716]]){_0x9E32[_$_90b0[716]][_$_90b0[786]]()}});this[_$_90b0[766]](_$_90b0[185])};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[766]]= function(_0xA648){this[_$_90b0[676]]= _0xA648;var _0x6AFC= new Event(_$_90b0[787]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[666]]!== null){this[_$_90b0[666]](_0x6AFC)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[711]]= function(){var _0x6AFC= new Event(_$_90b0[788]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[668]]!== null){this[_$_90b0[668]](_0x6AFC)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[731]]= function(){var _0x6B58=this;var _0xA648;var _0xA676={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){_0xA676[_0x9E32[_$_90b0[750]][_$_90b0[706]]]++;_0xA676[_0x9E32[_$_90b0[751]][_$_90b0[706]]]++});_0xA676[_$_90b0[789]]+= _0xA676[_$_90b0[707]];_0xA648= _$_90b0[679];if(_0xA676[_$_90b0[733]]> 0){_0xA648= _$_90b0[733]}else {if(_0xA676[_$_90b0[790]]> 0|| _0xA676[_$_90b0[791]]> 0){_0xA648= _$_90b0[790]}else {if(_0xA676[_$_90b0[792]]> 0){_0xA648= _$_90b0[792]}else {if(_0xA676[_$_90b0[679]]> 0){_0xA648= _$_90b0[679]}else {if(_0xA676[_$_90b0[789]]> 0|| _0xA676[_$_90b0[707]]> 0){_0xA648= _$_90b0[789]}}}}};if(_0xA648!== _0x6B58[_$_90b0[678]]){_0x6B58[_$_90b0[678]]= _0xA648;var _0x6AFC= new Event(_$_90b0[793]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[667]]!== null){this[_$_90b0[667]](_0x6AFC)}}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[614]]= function(){var _0x6B58=this;if(this[_$_90b0[745]]){throw  new Error(_$_90b0[794])};var _0xA700;if(arguments[_$_90b0[47]]=== 1&&  typeof arguments[0]!== _$_90b0[68]){_0xA700= arguments[0]}else {if(arguments[_$_90b0[47]]=== 3){_0xA700= arguments[2]}};var _0xA75C=[];var _0xA6A4=0;var _0xA6D2=0;if(this[_$_90b0[670]][_$_90b0[47]]){_0xA6A4= this[_$_90b0[670]][0][_$_90b0[795]]()[_$_90b0[47]];_0xA6D2= this[_$_90b0[670]][0][_$_90b0[796]]()[_$_90b0[47]]};if(_0xA700){if(_0xA700[_$_90b0[532]]|| _0xA700[_$_90b0[627]]){throw  new TypeError(_$_90b0[797])};if(_0xA700[_$_90b0[798]]!== undefined){_0xA6A4= _0xA700[_$_90b0[798]]};if(_0xA700[_$_90b0[799]]!== undefined){_0xA6D2= _0xA700[_$_90b0[799]]}};if(this[_$_90b0[670]][_$_90b0[47]]){this[_$_90b0[670]][0][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0xA75C[_$_90b0[75]]({kind:_0x94DA[_$_90b0[639]],track:_0x94DA,wantReceive:_0x94DA[_$_90b0[639]]=== _$_90b0[8]?_0xA6A4> 0:_0xA6D2> 0});if(_0x94DA[_$_90b0[639]]=== _$_90b0[8]){_0xA6A4--}else {if(_0x94DA[_$_90b0[639]]=== _$_90b0[9]){_0xA6D2--}}})};while(_0xA6A4> 0|| _0xA6D2> 0){if(_0xA6A4> 0){_0xA75C[_$_90b0[75]]({kind:_$_90b0[8],wantReceive:true});_0xA6A4--};if(_0xA6D2> 0){_0xA75C[_$_90b0[75]]({kind:_$_90b0[9],wantReceive:true});_0xA6D2--}};var _0xA72E=_0x9CC2[_$_90b0[800]]();var _0xA78A=[];_0xA75C[_$_90b0[23]](function(_0xA4AA,_0xA088){var _0x94DA=_0xA4AA[_$_90b0[591]];var _0xA420=_0xA4AA[_$_90b0[639]];var _0xA05A=_0x9CC2[_$_90b0[775]]();var _0x6D80=_0x6B58[_$_90b0[687]]&& _0xA088> 0?{iceGatherer:_0xA78A[0][_$_90b0[705]],iceTransport:_0xA78A[0][_$_90b0[750]],dtlsTransport:_0xA78A[0][_$_90b0[751]]}:_0x6B58[_$_90b0[722]](_0xA05A,_0xA088);var _0x9EBC=RTCRtpSender[_$_90b0[780]](_0xA420);var _0xA562;var _0xA534;var _0xA590=[{ssrc:(2* _0xA088+ 1)* 1001}];if(_0x94DA){_0xA562=  new RTCRtpSender(_0x94DA,_0x6D80[_$_90b0[751]])};if(_0xA4AA[_$_90b0[801]]){_0xA534=  new RTCRtpReceiver(_0x6D80[_$_90b0[751]],_0xA420)};_0xA78A[_0xA088]= {iceGatherer:_0x6D80[_$_90b0[705]],iceTransport:_0x6D80[_$_90b0[750]],dtlsTransport:_0x6D80[_$_90b0[751]],localCapabilities:_0x9EBC,remoteCapabilities:null,rtpSender:_0xA562,rtpReceiver:_0xA534,kind:_0xA420,mid:_0xA05A,sendEncodingParameters:_0xA590,recvEncodingParameters:null}});if(this[_$_90b0[687]]){_0xA72E+= _$_90b0[769]+ _0xA78A[_$_90b0[612]](function(_0xA7B8){return _0xA7B8[_$_90b0[802]]})[_$_90b0[483]](_$_90b0[403])+ _$_90b0[704]};_0xA75C[_$_90b0[23]](function(_0xA4AA,_0xA088){var _0x9E32=_0xA78A[_0xA088];_0xA72E+= _0x9CC2[_$_90b0[803]](_0x9E32,_0x9E32[_$_90b0[735]],_$_90b0[744],_0x6B58[_$_90b0[670]][0])});this[_$_90b0[745]]= _0xA78A;var _0x71D0= new RTCSessionDescription({type:_$_90b0[744],sdp:_0xA72E});if(arguments[_$_90b0[47]]&&  typeof arguments[0]=== _$_90b0[68]){window[_$_90b0[499]](arguments[0],0,_0x71D0)};return Promise[_$_90b0[620]](_0x71D0)};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[615]]= function(){var _0x6B58=this;var _0xA72E=_0x9CC2[_$_90b0[800]]();if(this[_$_90b0[687]]){_0xA72E+= _$_90b0[769]+ this[_$_90b0[694]][_$_90b0[612]](function(_0xA7B8){return _0xA7B8[_$_90b0[802]]})[_$_90b0[483]](_$_90b0[403])+ _$_90b0[704]};this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){var _0x9E8E=_0x6B58[_$_90b0[717]](_0x9E32[_$_90b0[735]],_0x9E32[_$_90b0[736]]);_0xA72E+= _0x9CC2[_$_90b0[803]](_0x9E32,_0x9E8E,_$_90b0[747],_0x6B58[_$_90b0[670]][0])});var _0x71D0= new RTCSessionDescription({type:_$_90b0[747],sdp:_0xA72E});if(arguments[_$_90b0[47]]&&  typeof arguments[0]=== _$_90b0[68]){window[_$_90b0[499]](arguments[0],0,_0x71D0)};return Promise[_$_90b0[620]](_0x71D0)};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[619]]= function(_0xA7E6){if(_0xA7E6=== null){this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){_0x9E32[_$_90b0[750]][_$_90b0[804]]({})})}else {var _0xA814=_0xA7E6[_$_90b0[702]];if(_0xA7E6[_$_90b0[805]]){for(var _0x6200=0;_0x6200< this[_$_90b0[694]][_$_90b0[47]];_0x6200++){if(this[_$_90b0[694]][_0x6200][_$_90b0[802]]=== _0xA7E6[_$_90b0[805]]){_0xA814= _0x6200;break}}};var _0x9E32=this[_$_90b0[694]][_0xA814];if(_0x9E32){var _0xA0B6=Object[_$_90b0[488]](_0xA7E6[_$_90b0[698]])[_$_90b0[47]]> 0?_0x9CC2[_$_90b0[756]](_0xA7E6[_$_90b0[698]]):{};if(_0xA0B6[_$_90b0[102]]=== _$_90b0[806]&& _0xA0B6[_$_90b0[105]]=== 0){return};if(_0xA0B6[_$_90b0[726]]!== _$_90b0[755]){return};if(_0xA0B6[_$_90b0[65]]=== _$_90b0[807]){_0xA0B6= {}};_0x9E32[_$_90b0[750]][_$_90b0[804]](_0xA0B6);var _0x9E04=_0x9CC2[_$_90b0[697]](this[_$_90b0[675]][_$_90b0[657]]);_0x9E04[_0xA814+ 1]+= (_0xA0B6[_$_90b0[65]]?_0xA7E6[_$_90b0[698]][_$_90b0[808]]():_$_90b0[779])+ _$_90b0[704];this[_$_90b0[675]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24])}};if(arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]){window[_$_90b0[499]](arguments[1],0)};return Promise[_$_90b0[620]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[609]]= function(){var _0xA842=[];this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){[_$_90b0[714],_$_90b0[716],_$_90b0[705],_$_90b0[750],_$_90b0[751]][_$_90b0[23]](function(_0x98A0){if(_0x9E32[_0x98A0]){_0xA842[_$_90b0[75]](_0x9E32[_0x98A0][_$_90b0[609]]())}})});var _0x6BB4=arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]&& arguments[1];return  new Promise(function(_0x9872){var _0x892C= new Map();Promise[_$_90b0[682]](_0xA842)[_$_90b0[552]](function(_0xA870){_0xA870[_$_90b0[23]](function(_0x611A){Object[_$_90b0[488]](_0x611A)[_$_90b0[23]](function(_0x77EC){_0x892C[_$_90b0[64]](_0x77EC,_0x611A[_0x77EC]);_0x892C[_0x77EC]= _0x611A[_0x77EC]})});if(_0x6BB4){window[_$_90b0[499]](_0x6BB4,0,_0x892C)};_0x9872(_0x892C)})})}},attachMediaStream:function(_0x62E6,_0x639E){_0x9450(_$_90b0[621]);_0x62E6[_$_90b0[29]]= _0x639E},reattachMediaStream:function(_0x7060,_0x992A){_0x9450(_$_90b0[623]);_0x7060[_$_90b0[29]]= _0x992A[_$_90b0[29]]}};_0x5F4E[_$_90b0[0]]= {shimPeerConnection:_0x93F4[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624]),attachMediaStream:_0x93F4[_$_90b0[625]],reattachMediaStream:_0x93F4[_$_90b0[626]]}},{"../utils":38,"./getusermedia":34,"sdp":62}],34:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];_0x5F4E[_$_90b0[0]]= function(){var _0x9A3E=function(_0x5EF2){return {name:{PermissionDeniedError:_$_90b0[647]}[_0x5EF2[_$_90b0[164]]]|| _0x5EF2[_$_90b0[164]],message:_0x5EF2[_$_90b0[207]],constraint:_0x5EF2[_$_90b0[809]],toString:function(){return this[_$_90b0[164]]}}};var _0x99E2=navigator[_$_90b0[553]][_$_90b0[547]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x7DAC){return _0x99E2(_0x7DAC)[_$_90b0[551]](function(_0x5EF2){return Promise[_$_90b0[654]](_0x9A3E(_0x5EF2))})}}},{}],35:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[658])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[658])[_$_90b0[558]];var _0x9422={shimOnTrack:function(){if( typeof window=== _$_90b0[99]&& window[_$_90b0[588]]&&  !(_$_90b0[589] in  window[_$_90b0[588]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[588]][_$_90b0[36]],_$_90b0[589],{get:function(){return this[_$_90b0[590]]},set:function(_0x5E68){if(this[_$_90b0[590]]){this[_$_90b0[81]](_$_90b0[591],this[_$_90b0[590]]);this[_$_90b0[81]](_$_90b0[592],this[_$_90b0[593]])};this[_$_90b0[73]](_$_90b0[591],this[_$_90b0[590]]= _0x5E68);this[_$_90b0[73]](_$_90b0[592],this[_$_90b0[593]]= function(_0x5EF2){_0x5EF2[_$_90b0[597]][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94DA;_0x6AFC[_$_90b0[595]]= {track:_0x94DA};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];this[_$_90b0[598]](_0x6AFC)}[_$_90b0[422]](this))}[_$_90b0[422]](this))}})}},shimSourceObject:function(){if( typeof window=== _$_90b0[99]){if(window[_$_90b0[601]]&&  !(_$_90b0[29] in  window[_$_90b0[601]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[601]][_$_90b0[36]],_$_90b0[29],{get:function(){return this[_$_90b0[810]]},set:function(_0x639E){this[_$_90b0[810]]= _0x639E}})}}},shimPeerConnection:function(){if( typeof window!== _$_90b0[99]||  !(window[_$_90b0[588]]|| window[_$_90b0[811]])){return};if(!window[_$_90b0[588]]){window[_$_90b0[588]]= function(_0x9592,_0x95C0){if(_0x9398[_$_90b0[616]]< 38){if(_0x9592&& _0x9592[_$_90b0[690]]){var _0xA8CC=[];for(var _0x6200=0;_0x6200< _0x9592[_$_90b0[690]][_$_90b0[47]];_0x6200++){var _0x9D7A=_0x9592[_$_90b0[690]][_0x6200];if(_0x9D7A[_$_90b0[158]](_$_90b0[691])){for(var _0x725A=0;_0x725A< _0x9D7A[_$_90b0[691]][_$_90b0[47]];_0x725A++){var _0xA8FA={url:_0x9D7A[_$_90b0[691]][_0x725A]};if(_0x9D7A[_$_90b0[691]][_0x725A][_$_90b0[52]](_$_90b0[812])=== 0){_0xA8FA[_$_90b0[813]]= _0x9D7A[_$_90b0[813]];_0xA8FA[_$_90b0[814]]= _0x9D7A[_$_90b0[814]]};_0xA8CC[_$_90b0[75]](_0xA8FA)}}else {_0xA8CC[_$_90b0[75]](_0x9592[_$_90b0[690]][_0x6200])}};_0x9592[_$_90b0[690]]= _0xA8CC}};return  new mozRTCPeerConnection(_0x9592,_0x95C0)};window[_$_90b0[588]][_$_90b0[36]]= mozRTCPeerConnection[_$_90b0[36]];if(mozRTCPeerConnection[_$_90b0[613]]){Object[_$_90b0[600]](window[_$_90b0[588]],_$_90b0[613],{get:function(){return mozRTCPeerConnection[_$_90b0[613]]}})};window[_$_90b0[661]]= mozRTCSessionDescription;window[_$_90b0[660]]= mozRTCIceCandidate};[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=RTCPeerConnection[_$_90b0[36]][_0x98A0];RTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){arguments[0]=  new ((_0x98A0=== _$_90b0[619])?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return _0x98CE[_$_90b0[71]](this,arguments)}});var _0x9508=RTCPeerConnection[_$_90b0[36]][_$_90b0[619]];RTCPeerConnection[_$_90b0[36]][_$_90b0[619]]= function(){return arguments[0]=== null?Promise[_$_90b0[620]]():_0x9508[_$_90b0[71]](this,arguments)};var _0x964A=function(_0x9816){var _0x85C2= new Map();Object[_$_90b0[488]](_0x9816)[_$_90b0[23]](function(_0x6BE2){_0x85C2[_$_90b0[64]](_0x6BE2,_0x9816[_0x6BE2]);_0x85C2[_0x6BE2]= _0x9816[_0x6BE2]});return _0x85C2};var _0xA89E=RTCPeerConnection[_$_90b0[36]][_$_90b0[609]];RTCPeerConnection[_$_90b0[36]][_$_90b0[609]]= function(_0x9678,_0xA956,_0xA928){return _0xA89E[_$_90b0[71]](this,[_0x9678|| null])[_$_90b0[552]](function(_0x9816){return _0x964A(_0x9816)})[_$_90b0[552]](_0xA956,_0xA928)}},attachMediaStream:function(_0x62E6,_0x639E){_0x9450(_$_90b0[621]);_0x62E6[_$_90b0[29]]= _0x639E},reattachMediaStream:function(_0x7060,_0x992A){_0x9450(_$_90b0[623]);_0x7060[_$_90b0[29]]= _0x992A[_$_90b0[29]]}};_0x5F4E[_$_90b0[0]]= {shimOnTrack:_0x9422[_$_90b0[573]],shimSourceObject:_0x9422[_$_90b0[572]],shimPeerConnection:_0x9422[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624]),attachMediaStream:_0x9422[_$_90b0[625]],reattachMediaStream:_0x9422[_$_90b0[626]]}},{"../utils":38,"./getusermedia":36}],36:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[658])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[658])[_$_90b0[558]];_0x5F4E[_$_90b0[0]]= function(){var _0x9A3E=function(_0x5EF2){return {name:{SecurityError:_$_90b0[647],PermissionDeniedError:_$_90b0[647]}[_0x5EF2[_$_90b0[164]]]|| _0x5EF2[_$_90b0[164]],message:{"The operation is insecure.":_$_90b0[815]+ _$_90b0[816]}[_0x5EF2[_$_90b0[207]]]|| _0x5EF2[_$_90b0[207]],constraint:_0x5EF2[_$_90b0[809]],toString:function(){return this[_$_90b0[164]]+ (this[_$_90b0[207]]&& _$_90b0[650])+ this[_$_90b0[207]]}}};var _0x9986=function(_0x9142,_0x9C0A,_0x9BDC){var _0xA9B2=function(_0x7DAC){if( typeof _0x7DAC!== _$_90b0[99]|| _0x7DAC[_$_90b0[628]]){return _0x7DAC};var _0x5FD8=[];Object[_$_90b0[488]](_0x7DAC)[_$_90b0[23]](function(_0x6BE2){if(_0x6BE2=== _$_90b0[628]|| _0x6BE2=== _$_90b0[629]|| _0x6BE2=== _$_90b0[630]){return};var _0x7E36=_0x7DAC[_0x6BE2]= ( typeof _0x7DAC[_0x6BE2]=== _$_90b0[99])?_0x7DAC[_0x6BE2]:{ideal:_0x7DAC[_0x6BE2]};if(_0x7E36[_$_90b0[30]]!== undefined|| _0x7E36[_$_90b0[31]]!== undefined|| _0x7E36[_$_90b0[631]]!== undefined){_0x5FD8[_$_90b0[75]](_0x6BE2)};if(_0x7E36[_$_90b0[631]]!== undefined){if( typeof _0x7E36[_$_90b0[631]]=== _$_90b0[495]){_0x7E36[_$_90b0[30]]= _0x7E36[_$_90b0[31]]= _0x7E36[_$_90b0[631]]}else {_0x7DAC[_0x6BE2]= _0x7E36[_$_90b0[631]]};delete _0x7E36[_$_90b0[631]]};if(_0x7E36[_$_90b0[634]]!== undefined){_0x7DAC[_$_90b0[629]]= _0x7DAC[_$_90b0[629]]|| [];var _0x9A9A={};if( typeof _0x7E36[_$_90b0[634]]=== _$_90b0[495]){_0x9A9A[_0x6BE2]= {min:_0x7E36[_$_90b0[634]],max:_0x7E36[_$_90b0[634]]}}else {_0x9A9A[_0x6BE2]= _0x7E36[_$_90b0[634]]};_0x7DAC[_$_90b0[629]][_$_90b0[75]](_0x9A9A);delete _0x7E36[_$_90b0[634]];if(!Object[_$_90b0[488]](_0x7E36)[_$_90b0[47]]){delete _0x7DAC[_0x6BE2]}}});if(_0x5FD8[_$_90b0[47]]){_0x7DAC[_$_90b0[628]]= _0x5FD8};return _0x7DAC};_0x9142= JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9142));if(_0x9398[_$_90b0[616]]< 38){_0x9450(_$_90b0[817]+ JSON[_$_90b0[399]](_0x9142));if(_0x9142[_$_90b0[8]]){_0x9142[_$_90b0[8]]= _0xA9B2(_0x9142[_$_90b0[8]])};if(_0x9142[_$_90b0[9]]){_0x9142[_$_90b0[9]]= _0xA9B2(_0x9142[_$_90b0[9]])};_0x9450(_$_90b0[818]+ JSON[_$_90b0[399]](_0x9142))};return navigator[_$_90b0[819]](_0x9142,_0x9C0A,function(_0x5EF2){_0x9BDC(_0x9A3E(_0x5EF2))})};var _0x99B4=function(_0x9142){return  new Promise(function(_0x9872,_0x9844){_0x9986(_0x9142,_0x9872,_0x9844)})};if(!navigator[_$_90b0[553]]){navigator[_$_90b0[553]]= {getUserMedia:_0x99B4,addEventListener:function(){},removeEventListener:function(){}}};navigator[_$_90b0[553]][_$_90b0[646]]= navigator[_$_90b0[553]][_$_90b0[646]]|| function(){return  new Promise(function(_0x9872){var _0xA9E0=[{kind:_$_90b0[652],deviceId:_$_90b0[820],label:_$_90b0[24],groupId:_$_90b0[24]},{kind:_$_90b0[640],deviceId:_$_90b0[820],label:_$_90b0[24],groupId:_$_90b0[24]}];_0x9872(_0xA9E0)})};if(_0x9398[_$_90b0[616]]< 41){var _0xA984=navigator[_$_90b0[553]][_$_90b0[646]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[646]]= function(){return _0xA984()[_$_90b0[552]](undefined,function(_0x5EF2){if(_0x5EF2[_$_90b0[164]]=== _$_90b0[821]){return []};throw _0x5EF2})}};if(_0x9398[_$_90b0[616]]< 49){var _0x99E2=navigator[_$_90b0[553]][_$_90b0[547]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x7DAC){return _0x99E2(_0x7DAC)[_$_90b0[551]](function(_0x5EF2){return Promise[_$_90b0[654]](_0x9A3E(_0x5EF2))})}};navigator[_$_90b0[547]]= function(_0x9142,_0x9C0A,_0x9BDC){if(_0x9398[_$_90b0[616]]< 44){return _0x9986(_0x9142,_0x9C0A,_0x9BDC)};console[_$_90b0[824]](_$_90b0[822]+ _$_90b0[823]);navigator[_$_90b0[553]][_$_90b0[547]](_0x9142)[_$_90b0[552]](_0x9C0A,_0x9BDC)}}},{"../utils":38}],37:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x947E={shimGetUserMedia:function(){navigator[_$_90b0[547]]= navigator[_$_90b0[651]]}};_0x5F4E[_$_90b0[0]]= {shimGetUserMedia:_0x947E[_$_90b0[570]]}},{}],38:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0xAA0E=true;var _0xAA3C={disableLog:function(_0xAA6A){if( typeof _0xAA6A!== _$_90b0[825]){return  new Error(_$_90b0[826]+  typeof _0xAA6A+ _$_90b0[827])};_0xAA0E= _0xAA6A;return (_0xAA6A)?_$_90b0[828]:_$_90b0[829]},log:function(){if( typeof window=== _$_90b0[99]){if(_0xAA0E){return};if( typeof console!== _$_90b0[53]&&  typeof console[_$_90b0[378]]=== _$_90b0[68]){console[_$_90b0[378]][_$_90b0[71]](console,arguments)}}},extractVersion:function(_0xAAF4,_0xAA98,_0xAAC6){var _0x7E08=_0xAAF4[_$_90b0[396]](_0xAA98);return _0x7E08&& _0x7E08[_$_90b0[47]]>= _0xAAC6&& parseInt(_0x7E08[_0xAAC6],10)},detectBrowser:function(){var _0x611A={};_0x611A[_$_90b0[584]]= null;_0x611A[_$_90b0[616]]= null;_0x611A[_$_90b0[830]]= null;if( typeof window=== _$_90b0[53]||  !window[_$_90b0[519]]){_0x611A[_$_90b0[584]]= _$_90b0[831];return _0x611A};if(navigator[_$_90b0[819]]){_0x611A[_$_90b0[584]]= _$_90b0[576];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Firefox\/([0-9]+)\./,1);_0x611A[_$_90b0[830]]= 31}else {if(navigator[_$_90b0[651]]){if(window[_$_90b0[832]]){_0x611A[_$_90b0[584]]= _$_90b0[521];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Chrom(e|ium)\/([0-9]+)\./,2);_0x611A[_$_90b0[830]]= 38}else {if(navigator[_$_90b0[266]][_$_90b0[396]](/Version\/(\d+).(\d+)/)){_0x611A[_$_90b0[584]]= _$_90b0[582];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/AppleWebKit\/([0-9]+)\./,1);_0x611A[_$_90b0[830]]= 602}else {_0x611A[_$_90b0[584]]= _$_90b0[833]+ _$_90b0[834];return _0x611A}}}else {if(navigator[_$_90b0[553]]&& navigator[_$_90b0[266]][_$_90b0[396]](/Edge\/(\d+).(\d+)$/)){_0x611A[_$_90b0[584]]= _$_90b0[579];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Edge\/(\d+).(\d+)$/,2);_0x611A[_$_90b0[830]]= 10547}else {_0x611A[_$_90b0[584]]= _$_90b0[835];return _0x611A}}};if(_0x611A[_$_90b0[616]]< _0x611A[_$_90b0[830]]){_0xAA3C[_$_90b0[378]](_$_90b0[836]+ _0x611A[_$_90b0[584]]+ _$_90b0[837]+ _0x611A[_$_90b0[616]]+ _$_90b0[838]+ _0x611A[_$_90b0[830]]+ _$_90b0[839])};return _0x611A}};_0x5F4E[_$_90b0[0]]= {log:_0xAA3C[_$_90b0[378]],disableLog:_0xAA3C[_$_90b0[560]],browserDetails:_0xAA3C[_$_90b0[840]](),extractVersion:_0xAA3C[_$_90b0[559]]}},{}],39:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= (function(){return this})()},{}],40:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F48=_0x5FD8(_$_90b0[489]);function _0xAB7E(_0xABAC,_0xABDA){var _0xADD4=-Infinity;_0xABAC[_$_90b0[841]](_0xABDA);for(var _0x6200=4,_0x622E=_0xABDA[_$_90b0[47]];_0x6200< _0x622E;_0x6200++){if(_0xABDA[_0x6200]> _0xADD4&& _0xABDA[_0x6200]< 0){_0xADD4= _0xABDA[_0x6200]}};return _0xADD4}var _0xAB50;if( typeof window!== _$_90b0[53]){_0xAB50= window[_$_90b0[842]]|| window[_$_90b0[843]]};var _0xAB22=null;_0x5F4E[_$_90b0[0]]= function(_0x639E,_0x6342){var _0xAC08= new _0x8F48();if(!_0xAB50){return _0xAC08};var _0x6342=_0x6342|| {},_0xAD1C=(_0x6342[_$_90b0[844]]|| 0.1),_0xAC64=(_0x6342[_$_90b0[845]]|| 50),_0xAD78=_0x6342[_$_90b0[846]],_0xACC0=_0x6342[_$_90b0[847]],_0xAC36=_0x6342[_$_90b0[848]]|| 10,_0xACEE=true;if(!_0xAB22){_0xAB22=  new _0xAB50()};var _0xAD4A,_0xABDA,_0xABAC;_0xABAC= _0xAB22[_$_90b0[849]]();_0xABAC[_$_90b0[850]]= 512;_0xABAC[_$_90b0[851]]= _0xAD1C;_0xABDA=  new Float32Array(_0xABAC[_$_90b0[852]]);if(_0x639E[_$_90b0[853]]){_0x639E= _0x639E[0]};if(_0x639E instanceof  HTMLAudioElement|| _0x639E instanceof  HTMLVideoElement){_0xAD4A= _0xAB22[_$_90b0[854]](_0x639E);if( typeof _0xACC0=== _$_90b0[53]){_0xACC0= true};_0xAD78= _0xAD78||  -50}else {_0xAD4A= _0xAB22[_$_90b0[855]](_0x639E);_0xAD78= _0xAD78||  -50};_0xAD4A[_$_90b0[856]](_0xABAC);if(_0xACC0){_0xABAC[_$_90b0[856]](_0xAB22[_$_90b0[857]])};_0xAC08[_$_90b0[858]]= false;_0xAC08[_$_90b0[859]]= function(_0xA7B8){_0xAD78= _0xA7B8};_0xAC08[_$_90b0[540]]= function(_0x6200){_0xAC64= _0x6200};_0xAC08[_$_90b0[786]]= function(){_0xACEE= false;_0xAC08[_$_90b0[83]](_$_90b0[860],-100,_0xAD78);if(_0xAC08[_$_90b0[858]]){_0xAC08[_$_90b0[858]]= false;_0xAC08[_$_90b0[83]](_$_90b0[861])};_0xABAC[_$_90b0[862]]();_0xAD4A[_$_90b0[862]]()};_0xAC08[_$_90b0[863]]= [];for(var _0x6200=0;_0x6200< _0xAC36;_0x6200++){_0xAC08[_$_90b0[863]][_$_90b0[75]](0)};var _0xAC92=function(){setTimeout(function(){if(!_0xACEE){return};var _0xADA6=_0xAB7E(_0xABAC,_0xABDA);_0xAC08[_$_90b0[83]](_$_90b0[860],_0xADA6,_0xAD78);var _0xAC36=0;if(_0xADA6> _0xAD78&&  !_0xAC08[_$_90b0[858]]){for(var _0x6200=_0xAC08[_$_90b0[863]][_$_90b0[47]]- 3;_0x6200< _0xAC08[_$_90b0[863]][_$_90b0[47]];_0x6200++){_0xAC36+= _0xAC08[_$_90b0[863]][_0x6200]};if(_0xAC36>= 2){_0xAC08[_$_90b0[858]]= true;_0xAC08[_$_90b0[83]](_$_90b0[858])}}else {if(_0xADA6< _0xAD78&& _0xAC08[_$_90b0[858]]){for(var _0x6200=0;_0x6200< _0xAC08[_$_90b0[863]][_$_90b0[47]];_0x6200++){_0xAC36+= _0xAC08[_$_90b0[863]][_0x6200]};if(_0xAC36== 0){_0xAC08[_$_90b0[858]]= false;_0xAC08[_$_90b0[83]](_$_90b0[861])}}};_0xAC08[_$_90b0[863]][_$_90b0[112]]();_0xAC08[_$_90b0[863]][_$_90b0[75]](0+ (_0xADA6> _0xAD78));_0xAC92()},_0xAC64)};_0xAC92();return _0xAC08}},{"wildemitter":100}],41:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0xAE02=_0x5FD8(_$_90b0[864]);_0x5F4E[_$_90b0[0]]= _0x850A;function _0x850A(_0x70BC){function _0xAE30(_0x6A72){if(!_0x6A72){return false};if((_0x684A[_$_90b0[865]]&& _0x684A[_$_90b0[865]][_$_90b0[866]](_0x6A72))|| (_0x684A[_$_90b0[468]]&& _0x6A72 instanceof  ArrayBuffer)|| (_0x684A[_$_90b0[66]]&& _0x6A72 instanceof  Blob)|| (_0x684A[_$_90b0[511]]&& _0x6A72 instanceof  File)){return true};if(_0xAE02(_0x6A72)){for(var _0x6200=0;_0x6200< _0x6A72[_$_90b0[47]];_0x6200++){if(_0xAE30(_0x6A72[_0x6200])){return true}}}else {if(_0x6A72&& _$_90b0[99]==  typeof _0x6A72){if(_0x6A72[_$_90b0[867]]){_0x6A72= _0x6A72[_$_90b0[867]]()};for(var _0x6BE2 in _0x6A72){if(Object[_$_90b0[36]][_$_90b0[158]][_$_90b0[54]](_0x6A72,_0x6BE2)&& _0xAE30(_0x6A72[_0x6BE2])){return true}}}};return false}return _0xAE30(_0x70BC)}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"isarray":42}],42:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= Array[_$_90b0[868]]|| function(_0x8E62){return Object[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0x8E62)== _$_90b0[869]}},{}],43:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x684A=_0x5FD8(_$_90b0[870]);try{_0x5F4E[_$_90b0[0]]= _$_90b0[871] in  _0x684A&& _$_90b0[324] in   new _0x684A[_$_90b0[871]]()}catch(err){_0x5F4E[_$_90b0[0]]= false}},{"global":39}],44:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xAE5E=[][_$_90b0[52]];_0x5F4E[_$_90b0[0]]= function(_0x8E62,_0x6A72){if(_0xAE5E){return _0x8E62[_$_90b0[52]](_0x6A72)};for(var _0x6200=0;_0x6200< _0x8E62[_$_90b0[47]];++_0x6200){if(_0x8E62[_0x6200]=== _0x6A72){return _0x6200}};return -1}},{}],45:[function(_0x5FD8,_0x5F4E,_0x5F20){;;(function(_0xB4D6){var _0xB086={}[_$_90b0[485]],_0xB19A,_0xAFCE,_0xB3F0;var _0xB16C= typeof _0x5EC4=== _$_90b0[68]&& _0x5EC4[_$_90b0[872]];var _0xB280= typeof JSON== _$_90b0[99]&& JSON;var _0xB1C8= typeof _0x5F20== _$_90b0[99]&& _0x5F20&&  !_0x5F20[_$_90b0[873]]&& _0x5F20;if(_0xB1C8&& _0xB280){_0xB1C8[_$_90b0[399]]= _0xB280[_$_90b0[399]];_0xB1C8[_$_90b0[635]]= _0xB280[_$_90b0[635]]}else {_0xB1C8= _0xB4D6[_$_90b0[874]]= _0xB280|| {}};var _0xB110= new Date(-3509827334573292);try{_0xB110= _0xB110[_$_90b0[875]]()==  -109252&& _0xB110[_$_90b0[876]]()=== 0&& _0xB110[_$_90b0[877]]()=== 1&& _0xB110[_$_90b0[878]]()== 10&& _0xB110[_$_90b0[879]]()== 37&& _0xB110[_$_90b0[880]]()== 6&& _0xB110[_$_90b0[881]]()== 708}catch(exception){};function _0x8E90(_0x6DAE){if(_0x8E90[_0x6DAE]!== _0xB3F0){return _0x8E90[_0x6DAE]};var _0xBB4E;if(_0x6DAE== _$_90b0[882]){_0xBB4E= _$_90b0[883][0]!= _$_90b0[883]}else {if(_0x6DAE== _$_90b0[884]){_0xBB4E= _0x8E90(_$_90b0[885])&& _0x8E90(_$_90b0[886])}else {var _0xB75A,_0xBBAA=_$_90b0[887];if(_0x6DAE== _$_90b0[885]){var _0xBBD8=_0xB1C8[_$_90b0[399]],_0xBC06= typeof _0xBBD8== _$_90b0[68]&& _0xB110;if(_0xBC06){(_0xB75A= function(){return 1})[_$_90b0[867]]= _0xB75A;try{_0xBC06= _0xBBD8(0)=== _$_90b0[753]&& _0xBBD8( new Number())=== _$_90b0[753]&& _0xBBD8( new String())== _$_90b0[888]&& _0xBBD8(_0xB086)=== _0xB3F0&& _0xBBD8(_0xB3F0)=== _0xB3F0&& _0xBBD8()=== _0xB3F0&& _0xBBD8(_0xB75A)=== _$_90b0[755]&& _0xBBD8([_0xB75A])== _$_90b0[889]&& _0xBBD8([_0xB3F0])== _$_90b0[890]&& _0xBBD8(null)== _$_90b0[891]&& _0xBBD8([_0xB3F0,_0xB086,null])== _$_90b0[892]&& _0xBBD8({"a":[_0xB75A,true,false,null,_$_90b0[893]]})== _0xBBAA&& _0xBBD8(null,_0xB75A)=== _$_90b0[755]&& _0xBBD8([1,2],null,1)== _$_90b0[894]&& _0xBBD8( new Date(-8.64e15)) == _$_90b0[895]&& _0xBBD8( new Date(8.64e15))== _$_90b0[896]&& _0xBBD8( new Date(-621987552e5)) == _$_90b0[897]&& _0xBBD8( new Date(-1)) == _$_90b0[898]}catch(exception){_0xBC06= false}};_0xBB4E= _0xBC06};if(_0x6DAE== _$_90b0[886]){var _0x81FC=_0xB1C8[_$_90b0[635]];if( typeof _0x81FC== _$_90b0[68]){try{if(_0x81FC(_$_90b0[753])=== 0&&  !_0x81FC(false)){_0xB75A= _0x81FC(_0xBBAA);var _0xBB7C=_0xB75A[_$_90b0[883]][_$_90b0[47]]== 5&& _0xB75A[_$_90b0[883]][0]=== 1;if(_0xBB7C){try{_0xBB7C=  !_0x81FC(_$_90b0[899])}catch(exception){};if(_0xBB7C){try{_0xBB7C= _0x81FC(_$_90b0[900])!== 1}catch(exception){}};if(_0xBB7C){try{_0xBB7C= _0x81FC(_$_90b0[901])!== 1}catch(exception){}}}}}catch(exception){_0xBB7C= false}};_0xBB4E= _0xBB7C}}};return _0x8E90[_0x6DAE]=  !!_0xBB4E}if(!_0x8E90(_$_90b0[884])){var _0xB02A=_$_90b0[902];var _0xAF44=_$_90b0[903];var _0xB2AE=_$_90b0[904];var _0xB394=_$_90b0[905];var _0xAEBA=_$_90b0[869];var _0xAEE8=_$_90b0[906];var _0xAF16=_0x8E90(_$_90b0[882]);if(!_0xB110){var _0xAFA0=Math[_$_90b0[39]];var _0xB252=[0,31,59,90,120,151,181,212,243,273,304,334];var _0xB0B4=function(_0xB532,_0xB504){return _0xB252[_0xB504]+ 365* (_0xB532- 1970)+ _0xAFA0((_0xB532- 1969+ (_0xB504=  +(_0xB504> 1)))/ 4)- _0xAFA0((_0xB532- 1901+ _0xB504)/ 100)+ _0xAFA0((_0xB532- 1601+ _0xB504)/ 400)}};if(!(_0xB19A= {}[_$_90b0[158]])){_0xB19A= function(_0xB5BC){var _0xB58E={},_0xB560;if((_0xB58E[_$_90b0[907]]= null,_0xB58E[_$_90b0[907]]= {"toString":1},_0xB58E)[_$_90b0[485]]!= _0xB086){_0xB19A= function(_0xB5BC){var _0xB5EA=this[_$_90b0[907]],_0x611A=_0xB5BC in  (this[_$_90b0[907]]= null,this);this[_$_90b0[907]]= _0xB5EA;return _0x611A}}else {_0xB560= _0xB58E[_$_90b0[86]];_0xB19A= function(_0xB5BC){var _0xB618=(this[_$_90b0[86]]|| _0xB560)[_$_90b0[36]];return _0xB5BC in  this&&  !(_0xB5BC in  _0xB618&& this[_0xB5BC]=== _0xB618[_0xB5BC])}};_0xB58E= null;return _0xB19A[_$_90b0[54]](this,_0xB5BC)}};var _0xB2DC={"boolean":1,"number":1,"string":1,"undefined":1};var _0xB13E=function(_0xB646,_0xB5BC){var _0x7118= typeof _0xB646[_0xB5BC];return _0x7118== _$_90b0[99]?!!_0xB646[_0xB5BC]:!_0xB2DC[_0x7118]};_0xAFCE= function(_0xB646,_0x6034){var _0xB6A2=0,_0xB674,_0xB58E,_0xB5BC;(_0xB674= function(){this[_$_90b0[908]]= 0})[_$_90b0[36]][_$_90b0[908]]= 0;_0xB58E=  new _0xB674();for(_0xB5BC in _0xB58E){if(_0xB19A[_$_90b0[54]](_0xB58E,_0xB5BC)){_0xB6A2++}};_0xB674= _0xB58E= null;if(!_0xB6A2){_0xB58E= [_$_90b0[908],_$_90b0[485],_$_90b0[909],_$_90b0[910],_$_90b0[911],_$_90b0[158],_$_90b0[86]];_0xAFCE= function(_0xB646,_0x6034){var _0xB6FE=_0xB086[_$_90b0[54]](_0xB646)== _0xB02A,_0xB5BC,_0x89B6;var _0xB6D0=!_0xB6FE&&  typeof _0xB646[_$_90b0[86]]!= _$_90b0[68] && _0xB13E(_0xB646,_$_90b0[158])?_0xB646[_$_90b0[158]]:_0xB19A;for(_0xB5BC in _0xB646){if(!(_0xB6FE&& _0xB5BC== _$_90b0[36])&& _0xB6D0[_$_90b0[54]](_0xB646,_0xB5BC)){_0x6034(_0xB5BC)}};for(_0x89B6= _0xB58E[_$_90b0[47]];_0xB5BC= _0xB58E[--_0x89B6];_0xB6D0[_$_90b0[54]](_0xB646,_0xB5BC)&& _0x6034(_0xB5BC)){;}}}else {if(_0xB6A2== 2){_0xAFCE= function(_0xB646,_0x6034){var _0xB58E={},_0xB6FE=_0xB086[_$_90b0[54]](_0xB646)== _0xB02A,_0xB5BC;for(_0xB5BC in _0xB646){if(!(_0xB6FE&& _0xB5BC== _$_90b0[36])&&  !_0xB19A[_$_90b0[54]](_0xB58E,_0xB5BC) && (_0xB58E[_0xB5BC]= 1) && _0xB19A[_$_90b0[54]](_0xB646,_0xB5BC)){_0x6034(_0xB5BC)}}}}else {_0xAFCE= function(_0xB646,_0x6034){var _0xB6FE=_0xB086[_$_90b0[54]](_0xB646)== _0xB02A,_0xB5BC,_0xB72C;for(_0xB5BC in _0xB646){if(!(_0xB6FE&& _0xB5BC== _$_90b0[36])&& _0xB19A[_$_90b0[54]](_0xB646,_0xB5BC) &&  !(_0xB72C= _0xB5BC=== _$_90b0[86])){_0x6034(_0xB5BC)}};if(_0xB72C|| _0xB19A[_$_90b0[54]](_0xB646,(_0xB5BC= _$_90b0[86]))){_0x6034(_0xB5BC)}}}};return _0xAFCE(_0xB646,_0x6034)};if(!_0x8E90(_$_90b0[885])){var _0xAF72={92:_$_90b0[912],34:_$_90b0[913],8:_$_90b0[914],12:_$_90b0[915],10:_$_90b0[296],13:_$_90b0[916],9:_$_90b0[917]};var _0xB1F6=_$_90b0[918];var _0xB3C2=function(_0xB788,_0xB75A){return (_0xB1F6+ (_0xB75A|| 0))[_$_90b0[4]](-_0xB788)};var _0xB44C=_$_90b0[919];var _0xB30A=function(_0xB75A){var _0x611A=_$_90b0[768],_0x6C6C=0,_0x89B6=_0xB75A[_$_90b0[47]],_0xB7E4=_0x89B6> 10&& _0xAF16,_0xB812;if(_0xB7E4){_0xB812= _0xB75A[_$_90b0[110]](_$_90b0[24])};for(;_0x6C6C< _0x89B6;_0x6C6C++){var _0xB7B6=_0xB75A[_$_90b0[487]](_0x6C6C);switch(_0xB7B6){case 8:;case 9:;case 10:;case 12:;case 13:;case 34:;case 92:_0x611A+= _0xAF72[_0xB7B6];break;default:if(_0xB7B6< 32){_0x611A+= _0xB44C+ _0xB3C2(2,_0xB7B6[_$_90b0[485]](16));break};_0x611A+= _0xB7E4?_0xB812[_0x6C6C]:_0xAF16?_0xB75A[_$_90b0[478]](_0x6C6C):_0xB75A[_0x6C6C]}};return _0x611A+ _$_90b0[768]};var _0xB338=function(_0xB5BC,_0xB646,_0x6034,_0xB954,_0xBA0C,_0xB8CA,_0xB9B0){var _0xB75A,_0xB840,_0xB532,_0xB504,_0xB86E,_0xB9DE,_0xB89C,_0xB926,_0xB982,_0xB8F8,_0x892C,_0x62E6,_0x6C6C,_0x89B6,_0x63FA,_0x611A;try{_0xB75A= _0xB646[_0xB5BC]}catch(exception){};if( typeof _0xB75A== _$_90b0[99]&& _0xB75A){_0xB840= _0xB086[_$_90b0[54]](_0xB75A);if(_0xB840== _0xAF44&&  !_0xB19A[_$_90b0[54]](_0xB75A,_$_90b0[867])){if(_0xB75A> -1/ 0&& _0xB75A< 1/ 0){if(_0xB0B4){_0xB86E= _0xAFA0(_0xB75A/ 864e5);for(_0xB532= _0xAFA0(_0xB86E/ 365.2425)+ 1970- 1;_0xB0B4(_0xB532+ 1,0)<= _0xB86E;_0xB532++){;};for(_0xB504= _0xAFA0((_0xB86E- _0xB0B4(_0xB532,0))/ 30.42);_0xB0B4(_0xB532,_0xB504+ 1)<= _0xB86E;_0xB504++){;};_0xB86E= 1+ _0xB86E- _0xB0B4(_0xB532,_0xB504);_0xB9DE= (_0xB75A% 864e5+ 864e5)% 864e5;_0xB89C= _0xAFA0(_0xB9DE/ 36e5)% 24;_0xB926= _0xAFA0(_0xB9DE/ 6e4)% 60;_0xB982= _0xAFA0(_0xB9DE/ 1e3)% 60;_0xB8F8= _0xB9DE% 1e3}else {_0xB532= _0xB75A[_$_90b0[875]]();_0xB504= _0xB75A[_$_90b0[876]]();_0xB86E= _0xB75A[_$_90b0[877]]();_0xB89C= _0xB75A[_$_90b0[878]]();_0xB926= _0xB75A[_$_90b0[879]]();_0xB982= _0xB75A[_$_90b0[880]]();_0xB8F8= _0xB75A[_$_90b0[881]]()};_0xB75A= (_0xB532<= 0|| _0xB532>= 1e4?(_0xB532< 0?_$_90b0[360]:_$_90b0[405])+ _0xB3C2(6,_0xB532< 0?-_0xB532:_0xB532):_0xB3C2(4,_0xB532))+ _$_90b0[360]+ _0xB3C2(2,_0xB504+ 1)+ _$_90b0[360]+ _0xB3C2(2,_0xB86E)+ _$_90b0[920]+ _0xB3C2(2,_0xB89C)+ _$_90b0[109]+ _0xB3C2(2,_0xB926)+ _$_90b0[109]+ _0xB3C2(2,_0xB982)+ _$_90b0[921]+ _0xB3C2(3,_0xB8F8)+ _$_90b0[922]}else {_0xB75A= null}}else {if( typeof _0xB75A[_$_90b0[867]]== _$_90b0[68]&& ((_0xB840!= _0xB2AE&& _0xB840!= _0xB394&& _0xB840!= _0xAEBA)|| _0xB19A[_$_90b0[54]](_0xB75A,_$_90b0[867]))){_0xB75A= _0xB75A[_$_90b0[867]](_0xB5BC)}}};if(_0x6034){_0xB75A= _0x6034[_$_90b0[54]](_0xB646,_0xB5BC,_0xB75A)};if(_0xB75A=== null){return _$_90b0[891]};_0xB840= _0xB086[_$_90b0[54]](_0xB75A);if(_0xB840== _0xAEE8){return _$_90b0[24]+ _0xB75A}else {if(_0xB840== _0xB2AE){return _0xB75A> -1/ 0&& _0xB75A< 1/ 0?_$_90b0[24]+ _0xB75A:_$_90b0[891]}else {if(_0xB840== _0xB394){return _0xB30A(_$_90b0[24]+ _0xB75A)}}};if( typeof _0xB75A== _$_90b0[99]){for(_0x89B6= _0xB9B0[_$_90b0[47]];_0x89B6--;){if(_0xB9B0[_0x89B6]=== _0xB75A){throw TypeError()}};_0xB9B0[_$_90b0[75]](_0xB75A);_0x892C= [];_0x63FA= _0xB8CA;_0xB8CA+= _0xBA0C;if(_0xB840== _0xAEBA){for(_0x6C6C= 0,_0x89B6= _0xB75A[_$_90b0[47]];_0x6C6C< _0x89B6;_0x6C6C++){_0x62E6= _0xB338(_0x6C6C,_0xB75A,_0x6034,_0xB954,_0xBA0C,_0xB8CA,_0xB9B0);_0x892C[_$_90b0[75]](_0x62E6=== _0xB3F0?_$_90b0[891]:_0x62E6)};_0x611A= _0x892C[_$_90b0[47]]?(_0xBA0C?_$_90b0[923]+ _0xB8CA+ _0x892C[_$_90b0[483]](_$_90b0[924]+ _0xB8CA)+ _$_90b0[752]+ _0x63FA+ _$_90b0[457]:(_$_90b0[456]+ _0x892C[_$_90b0[483]](_$_90b0[474])+ _$_90b0[457])):_$_90b0[925]}else {_0xAFCE(_0xB954|| _0xB75A,function(_0xB5BC){var _0x62E6=_0xB338(_0xB5BC,_0xB75A,_0x6034,_0xB954,_0xBA0C,_0xB8CA,_0xB9B0);if(_0x62E6!== _0xB3F0){_0x892C[_$_90b0[75]](_0xB30A(_0xB5BC)+ _$_90b0[109]+ (_0xBA0C?_$_90b0[403]:_$_90b0[24])+ _0x62E6)}});_0x611A= _0x892C[_$_90b0[47]]?(_0xBA0C?_$_90b0[926]+ _0xB8CA+ _0x892C[_$_90b0[483]](_$_90b0[924]+ _0xB8CA)+ _$_90b0[752]+ _0x63FA+ _$_90b0[927]:(_$_90b0[928]+ _0x892C[_$_90b0[483]](_$_90b0[474])+ _$_90b0[927])):_$_90b0[929]};_0xB9B0[_$_90b0[113]]();return _0x611A}};_0xB1C8[_$_90b0[399]]= function(_0xBA68,_0xBA3A,_0xB788){var _0xBA0C,_0x6034,_0xB954,_0xB840;if( typeof _0xBA3A== _$_90b0[68]||  typeof _0xBA3A== _$_90b0[99]&& _0xBA3A){if((_0xB840= _0xB086[_$_90b0[54]](_0xBA3A))== _0xB02A){_0x6034= _0xBA3A}else {if(_0xB840== _0xAEBA){_0xB954= {};for(var _0x6C6C=0,_0x89B6=_0xBA3A[_$_90b0[47]],_0xB75A;_0x6C6C< _0x89B6;_0xB75A= _0xBA3A[_0x6C6C++],((_0xB840= _0xB086[_$_90b0[54]](_0xB75A)),_0xB840== _0xB394|| _0xB840== _0xB2AE)&& (_0xB954[_0xB75A]= 1)){;}}}};if(_0xB788){if((_0xB840= _0xB086[_$_90b0[54]](_0xB788))== _0xB2AE){if((_0xB788-= _0xB788% 1)> 0){for(_0xBA0C= _$_90b0[24],_0xB788> 10&& (_0xB788= 10);_0xBA0C[_$_90b0[47]]< _0xB788;_0xBA0C+= _$_90b0[403]){;}}}else {if(_0xB840== _0xB394){_0xBA0C= _0xB788[_$_90b0[47]]<= 10?_0xB788:_0xB788[_$_90b0[4]](0,10)}}};return _0xB338(_$_90b0[24],(_0xB75A= {},_0xB75A[_$_90b0[24]]= _0xBA68,_0xB75A),_0x6034,_0xB954,_0xBA0C,_$_90b0[24],[])}};if(!_0x8E90(_$_90b0[886])){var _0xAFFC=String[_$_90b0[476]];var _0xB41E={92:_$_90b0[930],34:_$_90b0[768],47:_$_90b0[122],98:_$_90b0[931],116:_$_90b0[932],110:_$_90b0[752],102:_$_90b0[933],114:_$_90b0[934]};var _0xB0E2,_0xB366;var _0xAE8C=function(){_0xB0E2= _0xB366= null;throw SyntaxError()};var _0xB224=function(){var _0xBA68=_0xB366,_0x89B6=_0xBA68[_$_90b0[47]],_0xB75A,_0xBA96,_0xBAF2,_0xBAC4,_0xB7B6;while(_0xB0E2< _0x89B6){_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2);switch(_0xB7B6){case 9:;case 10:;case 13:;case 32:_0xB0E2++;break;case 123:;case 125:;case 91:;case 93:;case 58:;case 44:_0xB75A= _0xAF16?_0xBA68[_$_90b0[478]](_0xB0E2):_0xBA68[_0xB0E2];_0xB0E2++;return _0xB75A;case 34:for(_0xB75A= _$_90b0[935],_0xB0E2++;_0xB0E2< _0x89B6;){_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2);if(_0xB7B6< 32){_0xAE8C()}else {if(_0xB7B6== 92){_0xB7B6= _0xBA68[_$_90b0[487]](++_0xB0E2);switch(_0xB7B6){case 92:;case 34:;case 47:;case 98:;case 116:;case 110:;case 102:;case 114:_0xB75A+= _0xB41E[_0xB7B6];_0xB0E2++;break;case 117:_0xBA96=  ++_0xB0E2;for(_0xBAF2= _0xB0E2+ 4;_0xB0E2< _0xBAF2;_0xB0E2++){_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2);if(!(_0xB7B6>= 48&& _0xB7B6<= 57|| _0xB7B6>= 97&& _0xB7B6<= 102|| _0xB7B6>= 65&& _0xB7B6<= 70)){_0xAE8C()}};_0xB75A+= _0xAFFC(_$_90b0[936]+ _0xBA68[_$_90b0[4]](_0xBA96,_0xB0E2));break;default:_0xAE8C()}}else {if(_0xB7B6== 34){break};_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2);_0xBA96= _0xB0E2;while(_0xB7B6>= 32&& _0xB7B6!= 92&& _0xB7B6!= 34){_0xB7B6= _0xBA68[_$_90b0[487]](++_0xB0E2)};_0xB75A+= _0xBA68[_$_90b0[4]](_0xBA96,_0xB0E2)}}};if(_0xBA68[_$_90b0[487]](_0xB0E2)== 34){_0xB0E2++;return _0xB75A};_0xAE8C();default:_0xBA96= _0xB0E2;if(_0xB7B6== 45){_0xBAC4= true;_0xB7B6= _0xBA68[_$_90b0[487]](++_0xB0E2)};if(_0xB7B6>= 48&& _0xB7B6<= 57){if(_0xB7B6== 48&& ((_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2+ 1)),_0xB7B6>= 48&& _0xB7B6<= 57)){_0xAE8C()};_0xBAC4= false;for(;_0xB0E2< _0x89B6&& ((_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2)),_0xB7B6>= 48&& _0xB7B6<= 57);_0xB0E2++){;};if(_0xBA68[_$_90b0[487]](_0xB0E2)== 46){_0xBAF2=  ++_0xB0E2;for(;_0xBAF2< _0x89B6&& ((_0xB7B6= _0xBA68[_$_90b0[487]](_0xBAF2)),_0xB7B6>= 48&& _0xB7B6<= 57);_0xBAF2++){;};if(_0xBAF2== _0xB0E2){_0xAE8C()};_0xB0E2= _0xBAF2};_0xB7B6= _0xBA68[_$_90b0[487]](_0xB0E2);if(_0xB7B6== 101|| _0xB7B6== 69){_0xB7B6= _0xBA68[_$_90b0[487]](++_0xB0E2);if(_0xB7B6== 43|| _0xB7B6== 45){_0xB0E2++};for(_0xBAF2= _0xB0E2;_0xBAF2< _0x89B6&& ((_0xB7B6= _0xBA68[_$_90b0[487]](_0xBAF2)),_0xB7B6>= 48&& _0xB7B6<= 57);_0xBAF2++){;};if(_0xBAF2== _0xB0E2){_0xAE8C()};_0xB0E2= _0xBAF2};return +_0xBA68[_$_90b0[4]](_0xBA96,_0xB0E2)};if(_0xBAC4){_0xAE8C()};if(_0xBA68[_$_90b0[4]](_0xB0E2,_0xB0E2+ 4)== _$_90b0[555]){_0xB0E2+= 4;return true}else {if(_0xBA68[_$_90b0[4]](_0xB0E2,_0xB0E2+ 5)== _$_90b0[937]){_0xB0E2+= 5;return false}else {if(_0xBA68[_$_90b0[4]](_0xB0E2,_0xB0E2+ 4)== _$_90b0[891]){_0xB0E2+= 4;return null}}};_0xAE8C()}};return _$_90b0[426]};var _0xB058=function(_0xB75A){var _0x892C,_0xBB20;if(_0xB75A== _$_90b0[426]){_0xAE8C()};if( typeof _0xB75A== _$_90b0[67]){if((_0xAF16?_0xB75A[_$_90b0[478]](0):_0xB75A[0])== _$_90b0[935]){return _0xB75A[_$_90b0[4]](1)};if(_0xB75A== _$_90b0[456]){_0x892C= [];for(;;_0xBB20|| (_0xBB20= true)){_0xB75A= _0xB224();if(_0xB75A== _$_90b0[457]){break};if(_0xBB20){if(_0xB75A== _$_90b0[474]){_0xB75A= _0xB224();if(_0xB75A== _$_90b0[457]){_0xAE8C()}}else {_0xAE8C()}};if(_0xB75A== _$_90b0[474]){_0xAE8C()};_0x892C[_$_90b0[75]](_0xB058(_0xB75A))};return _0x892C}else {if(_0xB75A== _$_90b0[928]){_0x892C= {};for(;;_0xBB20|| (_0xBB20= true)){_0xB75A= _0xB224();if(_0xB75A== _$_90b0[927]){break};if(_0xBB20){if(_0xB75A== _$_90b0[474]){_0xB75A= _0xB224();if(_0xB75A== _$_90b0[927]){_0xAE8C()}}else {_0xAE8C()}};if(_0xB75A== _$_90b0[474]||  typeof _0xB75A!= _$_90b0[67]|| (_0xAF16?_0xB75A[_$_90b0[478]](0):_0xB75A[0])!= _$_90b0[935]|| _0xB224()!= _$_90b0[109]){_0xAE8C()};_0x892C[_0xB75A[_$_90b0[4]](1)]= _0xB058(_0xB224())};return _0x892C}};_0xAE8C()};return _0xB75A};var _0xB47A=function(_0xBA68,_0xB5BC,_0x6034){var _0x62E6=_0xB4A8(_0xBA68,_0xB5BC,_0x6034);if(_0x62E6=== _0xB3F0){delete _0xBA68[_0xB5BC]}else {_0xBA68[_0xB5BC]= _0x62E6}};var _0xB4A8=function(_0xBA68,_0xB5BC,_0x6034){var _0xB75A=_0xBA68[_0xB5BC],_0x89B6;if( typeof _0xB75A== _$_90b0[99]&& _0xB75A){if(_0xB086[_$_90b0[54]](_0xB75A)== _0xAEBA){for(_0x89B6= _0xB75A[_$_90b0[47]];_0x89B6--;){_0xB47A(_0xB75A,_0x89B6,_0x6034)}}else {_0xAFCE(_0xB75A,function(_0xB5BC){_0xB47A(_0xB75A,_0xB5BC,_0x6034)})}};return _0x6034[_$_90b0[54]](_0xBA68,_0xB5BC,_0xB75A)};_0xB1C8[_$_90b0[635]]= function(_0xBA68,_0x6034){var _0x611A,_0xB75A;_0xB0E2= 0;_0xB366= _$_90b0[24]+ _0xBA68;_0x611A= _0xB058(_0xB224());if(_0xB224()!= _$_90b0[426]){_0xAE8C()};_0xB0E2= _0xB366= null;return _0x6034&& _0xB086[_$_90b0[54]](_0x6034)== _0xB02A?_0xB4A8((_0xB75A= {},_0xB75A[_$_90b0[24]]= _0x611A,_0xB75A),_$_90b0[24],_0x6034):_0x611A}}};if(_0xB16C){_0x5EC4(function(){return _0xB1C8})}}(this))},{}],46:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F1A=_0x5FD8(_$_90b0[490]);var _0xBC90=_0x5FD8(_$_90b0[938]);var _0xBD48=_0x5FD8(_$_90b0[939]);var _0x90E6=_0x5FD8(_$_90b0[514]);var _0xBC62=_0x5FD8(_$_90b0[940]);var _0x8F48=_0x5FD8(_$_90b0[489]);var _0xBC34=_0x5FD8(_$_90b0[941]);var _0xBD1A=_0x5FD8(_$_90b0[942]);function _0xBCBE(_0x639E){var _0xBCBE=true;_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0xA7B8){_0xBCBE= _0xA7B8[_$_90b0[133]]=== _$_90b0[943]&& _0xBCBE});return _0xBCBE}function _0xBCEC(_0x6370){_0x8F48[_$_90b0[54]](this);var _0x9D1E=this[_$_90b0[491]]= {autoAdjustMic:false,detectSpeakingEvents:false,audioFallback:false,media:{audio:true,video:true},logger:_0xBD1A};var _0x6314;for(_0x6314 in _0x6370){if(_0x6370[_$_90b0[158]](_0x6314)){this[_$_90b0[491]][_0x6314]= _0x6370[_0x6314]}};this[_$_90b0[944]]= _0x9D1E[_$_90b0[944]];this[_$_90b0[945]]= this[_$_90b0[944]][_$_90b0[378]][_$_90b0[422]](this[_$_90b0[944]],_$_90b0[946]);this[_$_90b0[947]]= this[_$_90b0[944]][_$_90b0[159]][_$_90b0[422]](this[_$_90b0[944]],_$_90b0[946]);this[_$_90b0[948]]= _0xBD48[_$_90b0[949]];this[_$_90b0[670]]= [];this[_$_90b0[950]]= [];if(!_0xBD48[_$_90b0[951]]){this[_$_90b0[947]](_$_90b0[952])}}_0x8F1A[_$_90b0[493]](_0xBCEC,_0x8F48);_0xBCEC[_$_90b0[36]][_$_90b0[764]]= function(_0xBD76,_0x6BB4){var _0x6B58=this;var _0x9142=_0xBD76|| this[_$_90b0[491]][_$_90b0[953]];_0x90E6(_0x9142,function(_0x60EC,_0x639E){if(!_0x60EC){if(_0x9142[_$_90b0[8]]&& _0x6B58[_$_90b0[491]][_$_90b0[954]]){_0x6B58[_$_90b0[956]](_0x639E,_0x6B58[_$_90b0[491]][_$_90b0[955]])};_0x6B58[_$_90b0[670]][_$_90b0[75]](_0x639E);if(_0x6B58[_$_90b0[491]][_$_90b0[957]]){_0x6B58[_$_90b0[958]]=  new _0xBC34(_0x639E);_0x6B58[_$_90b0[959]](0.5)};_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[73]](_$_90b0[943],function(){if(_0xBCBE(_0x639E)){_0x6B58[_$_90b0[83]](_$_90b0[960],_0x639E)}})});_0x6B58[_$_90b0[83]](_$_90b0[961],_0x639E)}else {if(_0x6B58[_$_90b0[491]][_$_90b0[962]]&& _0x60EC[_$_90b0[164]]=== _$_90b0[963]&& _0x9142[_$_90b0[9]]!== false){_0x9142[_$_90b0[9]]= false;_0x6B58[_$_90b0[764]](_0x9142,_0x6BB4);return}};if(_0x6BB4){return _0x6BB4(_0x60EC,_0x639E)}})};_0xBCEC[_$_90b0[36]][_$_90b0[786]]= function(_0x639E){if(_0x639E){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});var _0x9E60=this[_$_90b0[670]][_$_90b0[52]](_0x639E);if(_0x9E60>  -1){this[_$_90b0[670]][_$_90b0[82]](_0x9E60,1);if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]){this[_$_90b0[83]](_$_90b0[960],_0x639E)}}else {_0x9E60= this[_$_90b0[950]][_$_90b0[52]](_0x639E);if(_0x9E60>  -1){this[_$_90b0[950]][_$_90b0[82]](_0x9E60,1);if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]){this[_$_90b0[83]](_$_90b0[965],_0x639E)}}}}else {this[_$_90b0[966]]();this[_$_90b0[967]]()}};_0xBCEC[_$_90b0[36]][_$_90b0[966]]= function(){var _0x6B58=this;if(this[_$_90b0[968]]){this[_$_90b0[968]][_$_90b0[786]]();delete this[_$_90b0[968]]};var _0xBDA4=this[_$_90b0[670]];this[_$_90b0[670]]= [];_0xBDA4[_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]){_0x6B58[_$_90b0[83]](_$_90b0[960],_0x639E)}})};_0xBCEC[_$_90b0[36]][_$_90b0[969]]= function(_0x6BB4){var _0x6B58=this;_0xBC62(function(_0x60EC,_0x639E){if(!_0x60EC){_0x6B58[_$_90b0[950]][_$_90b0[75]](_0x639E);_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[73]](_$_90b0[943],function(){if(_0xBCBE(_0x639E)){_0x6B58[_$_90b0[83]](_$_90b0[965],_0x639E)}})});_0x6B58[_$_90b0[83]](_$_90b0[970],_0x639E)};if(_0x6BB4){return _0x6BB4(_0x60EC,_0x639E)}})};_0xBCEC[_$_90b0[36]][_$_90b0[967]]= function(_0x639E){var _0x6B58=this;if(_0x639E){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});var _0x9E60=this[_$_90b0[950]][_$_90b0[52]](_0x639E);if(_0x9E60>  -1){this[_$_90b0[950]][_$_90b0[82]](_0x9E60,1);if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]){this[_$_90b0[83]](_$_90b0[965],_0x639E)}}}else {var _0xBDD2=this[_$_90b0[950]];this[_$_90b0[950]]= [];_0xBDD2[_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]){_0x6B58[_$_90b0[83]](_$_90b0[965],_0x639E)}})}};_0xBCEC[_$_90b0[36]][_$_90b0[971]]= function(){this[_$_90b0[972]](false);this[_$_90b0[973]]= true;this[_$_90b0[83]](_$_90b0[974])};_0xBCEC[_$_90b0[36]][_$_90b0[975]]= function(){this[_$_90b0[972]](true);this[_$_90b0[973]]= false;this[_$_90b0[83]](_$_90b0[976])};_0xBCEC[_$_90b0[36]][_$_90b0[956]]= function(_0x639E,_0xBE2E){this[_$_90b0[945]](_$_90b0[977]);var _0xBE00=this[_$_90b0[968]]= _0xBC90(_0x639E,_0xBE2E);var _0x6B58=this;var _0x70EA;_0xBE00[_$_90b0[72]](_$_90b0[858],function(){_0x6B58[_$_90b0[83]](_$_90b0[858]);if(_0x6B58[_$_90b0[973]]){return};_0x6B58[_$_90b0[959]](1)});_0xBE00[_$_90b0[72]](_$_90b0[861],function(){if(_0x70EA){clearTimeout(_0x70EA)};_0x70EA= setTimeout(function(){_0x6B58[_$_90b0[83]](_$_90b0[978]);if(_0x6B58[_$_90b0[973]]){return};_0x6B58[_$_90b0[959]](0.5)},1000)});_0xBE00[_$_90b0[72]](_$_90b0[860],function(_0xBE8A,_0xBE5C){_0x6B58[_$_90b0[83]](_$_90b0[979],_0xBE8A,_0xBE5C)})};_0xBCEC[_$_90b0[36]][_$_90b0[959]]= function(_0xBE8A){if(!this[_$_90b0[491]][_$_90b0[957]]){return};this[_$_90b0[958]][_$_90b0[980]](_0xBE8A)};_0xBCEC[_$_90b0[36]][_$_90b0[981]]= function(){this[_$_90b0[982]](false);this[_$_90b0[83]](_$_90b0[983])};_0xBCEC[_$_90b0[36]][_$_90b0[984]]= function(){this[_$_90b0[982]](true);this[_$_90b0[83]](_$_90b0[985])};_0xBCEC[_$_90b0[36]][_$_90b0[188]]= function(){this[_$_90b0[971]]();this[_$_90b0[981]]()};_0xBCEC[_$_90b0[36]][_$_90b0[986]]= function(){this[_$_90b0[975]]();this[_$_90b0[984]]()};_0xBCEC[_$_90b0[36]][_$_90b0[972]]= function(_0xAA6A){this[_$_90b0[959]](_0xAA6A?1:0);this[_$_90b0[670]][_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[795]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[416]]=  !!_0xAA6A})})};_0xBCEC[_$_90b0[36]][_$_90b0[982]]= function(_0xAA6A){this[_$_90b0[670]][_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[796]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[416]]=  !!_0xAA6A})})};_0xBCEC[_$_90b0[36]][_$_90b0[987]]= function(){var _0x7F1C=true;this[_$_90b0[670]][_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[795]]()[_$_90b0[23]](function(_0x94DA){_0x7F1C= _0x7F1C&& _0x94DA[_$_90b0[416]]})});return _0x7F1C};_0xBCEC[_$_90b0[36]][_$_90b0[988]]= function(){var _0x7F1C=true;this[_$_90b0[670]][_$_90b0[23]](function(_0x639E){_0x639E[_$_90b0[796]]()[_$_90b0[23]](function(_0x94DA){_0x7F1C= _0x7F1C&& _0x94DA[_$_90b0[416]]})});return _0x7F1C};_0xBCEC[_$_90b0[36]][_$_90b0[989]]= _0xBCEC[_$_90b0[36]][_$_90b0[764]];_0xBCEC[_$_90b0[36]][_$_90b0[990]]= _0xBCEC[_$_90b0[36]][_$_90b0[786]];Object[_$_90b0[600]](_0xBCEC[_$_90b0[36]],_$_90b0[961],{get:function(){return this[_$_90b0[670]][_$_90b0[47]]> 0?this[_$_90b0[670]][0]:null}});Object[_$_90b0[600]](_0xBCEC[_$_90b0[36]],_$_90b0[970],{get:function(){return this[_$_90b0[950]][_$_90b0[47]]> 0?this[_$_90b0[950]][0]:null}});_0x5F4E[_$_90b0[0]]= _0xBCEC},{"getscreenmedia":27,"getusermedia":29,"hark":40,"mediastream-gain":48,"mockconsole":50,"util":89,"webrtcsupport":99,"wildemitter":100}],47:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0xCDFE=200;var _0xC980=_$_90b0[991];var _0xD13A=9007199254740991;var _0xBF14=_$_90b0[992],_0xC056=_$_90b0[869],_0xC250=_$_90b0[906],_0xC5BA=_$_90b0[903],_0xC616=_$_90b0[993],_0xC786=_$_90b0[902],_0xC7E2=_$_90b0[994],_0xD0B0=_$_90b0[995],_0xD24E=_$_90b0[904],_0xD2D8=_$_90b0[996],_0xD3BE=_$_90b0[997],_0xD448=_$_90b0[998],_0xD5B8=_$_90b0[999],_0xD756=_$_90b0[905],_0xD83C=_$_90b0[1000],_0xDA08=_$_90b0[1001];var _0xBF42=_$_90b0[1002],_0xC58C=_$_90b0[1003],_0xC644=_$_90b0[1004],_0xC672=_$_90b0[1005],_0xCBA8=_$_90b0[1006],_0xCB4C=_$_90b0[1007],_0xCB7A=_$_90b0[1008],_0xD97E=_$_90b0[1009],_0xD950=_$_90b0[1010],_0xD8C6=_$_90b0[1011],_0xD8F4=_$_90b0[1012];var _0xD500=/[\\^$.*+?()[\]{}|]/g;var _0xD41A=/\w*$/;var _0xD476=/^\[object .+?Constructor\]$/;var _0xD4D2=/^(?:0|[1-9]\d*)$/;var _0xC2AC={};_0xC2AC[_0xBF14]= _0xC2AC[_0xC056]= _0xC2AC[_0xBF42]= _0xC2AC[_0xC58C]= _0xC2AC[_0xC250]= _0xC2AC[_0xC5BA]= _0xC2AC[_0xC644]= _0xC2AC[_0xC672]= _0xC2AC[_0xCBA8]= _0xC2AC[_0xCB4C]= _0xC2AC[_0xCB7A]= _0xC2AC[_0xD0B0]= _0xC2AC[_0xD24E]= _0xC2AC[_0xD2D8]= _0xC2AC[_0xD448]= _0xC2AC[_0xD5B8]= _0xC2AC[_0xD756]= _0xC2AC[_0xD83C]= _0xC2AC[_0xD97E]= _0xC2AC[_0xD950]= _0xC2AC[_0xD8C6]= _0xC2AC[_0xD8F4]= true;_0xC2AC[_0xC616]= _0xC2AC[_0xC786]= _0xC2AC[_0xDA08]= false;var _0xC6CE= typeof _0x684A== _$_90b0[99]&& _0x684A&& _0x684A[_$_90b0[1013]]=== Object&& _0x684A;var _0xC72A= typeof self== _$_90b0[99]&& self&& self[_$_90b0[1013]]=== Object&& self;var _0xD52E=_0xC6CE|| _0xC72A|| Function(_$_90b0[1014])();var _0xC6A0= typeof _0x5F20== _$_90b0[99]&& _0x5F20&&  !_0x5F20[_$_90b0[873]]&& _0x5F20;var _0xC6FC=_0xC6A0&&  typeof _0x5F4E== _$_90b0[99]&& _0x5F4E&&  !_0x5F4E[_$_90b0[873]]&& _0x5F4E;var _0xD168=_0xC6FC&& _0xC6FC[_$_90b0[0]]=== _0xC6A0;function _0xBEB8(_0x85C2,_0xDAC0){_0x85C2[_$_90b0[64]](_0xDAC0[0],_0xDAC0[1]);return _0x85C2}function _0xBEE6(_0xDAEE,_0xB75A){_0xDAEE[_$_90b0[1015]](_0xB75A);return _0xDAEE}function _0xBF70(_0xDB1C,_0xDB4A){var _0x6C6C=-1,_0x89B6=_0xDB1C?_0xDB1C[_$_90b0[47]]:0;while(++_0x6C6C< _0x89B6){if(_0xDB4A(_0xDB1C[_0x6C6C],_0x6C6C,_0xDB1C)=== false){break}};return _0xDB1C}function _0xBFFA(_0xDB1C,_0xDBD4){var _0x6C6C=-1,_0x89B6=_0xDBD4[_$_90b0[47]],_0x8FD2=_0xDB1C[_$_90b0[47]];while(++_0x6C6C< _0x89B6){_0xDB1C[_0x8FD2+ _0x6C6C]= _0xDBD4[_0x6C6C]};return _0xDB1C}function _0xC028(_0xDB1C,_0xDB4A,_0xDC02,_0xDC30){var _0x6C6C=-1,_0x89B6=_0xDB1C?_0xDB1C[_$_90b0[47]]:0;if(_0xDC30&& _0x89B6){_0xDC02= _0xDB1C[++_0x6C6C]};while(++_0x6C6C< _0x89B6){_0xDC02= _0xDB4A(_0xDC02,_0xDB1C[_0x6C6C],_0x6C6C,_0xDB1C)};return _0xDC02}function _0xC222(_0x82E2,_0xDB4A){var _0x6C6C=-1,_0x611A=Array(_0x82E2);while(++_0x6C6C< _0x82E2){_0x611A[_0x6C6C]= _0xDB4A(_0x6C6C)};return _0x611A}function _0xC924(_0xB646,_0x6BE2){return _0xB646== null?undefined:_0xB646[_0x6BE2]}function _0xCC8E(_0xB75A){var _0x611A=false;if(_0xB75A!= null&&  typeof _0xB75A[_$_90b0[485]]!= _$_90b0[68]){try{_0x611A=  !!(_0xB75A+ _$_90b0[24])}catch(_0x5EF2){}};return _0x611A}function _0xD0DE(_0x85C2){var _0x6C6C=-1,_0x611A=Array(_0x85C2[_$_90b0[60]]);_0x85C2[_$_90b0[23]](function(_0xB75A,_0x6BE2){_0x611A[++_0x6C6C] = [_0x6BE2,_0xB75A]});return _0x611A}function _0xD334(_0x9B52,_0xE0DC){return function(_0xE10A){return _0x9B52(_0xE0DC(_0xE10A))}}function _0xD5E6(_0xDAEE){var _0x6C6C=-1,_0x611A=Array(_0xDAEE[_$_90b0[60]]);_0xDAEE[_$_90b0[23]](function(_0xB75A){_0x611A[++_0x6C6C] = _0xB75A});return _0x611A}var _0xBFCC=Array[_$_90b0[36]],_0xC758=Function[_$_90b0[36]],_0xD2AA=Object[_$_90b0[36]];var _0xC502=_0xD52E[_$_90b0[1016]];var _0xD10C=(function(){var _0xDA36=/[^.]+$/[_$_90b0[429]](_0xC502&& _0xC502[_$_90b0[488]]&& _0xC502[_$_90b0[488]][_$_90b0[1017]]|| _$_90b0[24]);return _0xDA36?(_$_90b0[1018]+ _0xDA36):_$_90b0[24]}());var _0xC7B4=_0xC758[_$_90b0[485]];var _0xCA94=_0xD2AA[_$_90b0[158]];var _0xD306=_0xD2AA[_$_90b0[485]];var _0xD4A4=RegExp(_$_90b0[424]+ _0xC7B4[_$_90b0[54]](_0xCA94)[_$_90b0[120]](_0xD500,_$_90b0[1020])[_$_90b0[120]](/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,_$_90b0[1019])+ _$_90b0[426]);var _0xC27E=_0xD168?_0xD52E[_$_90b0[865]]:undefined,_0xD7E0=_0xD52E[_$_90b0[1021]],_0xD922=_0xD52E[_$_90b0[1022]],_0xC89A=_0xD334(Object[_$_90b0[1023]],Object),_0xD27C=Object[_$_90b0[315]],_0xD3EC=_0xD2AA[_$_90b0[910]],_0xD614=_0xBFCC[_$_90b0[82]];var _0xD1C4=Object[_$_90b0[1024]],_0xD1F2=_0xC27E?_0xC27E[_$_90b0[866]]:undefined,_0xD220=_0xD334(Object[_$_90b0[488]],Object);var _0xC530=_0xC86C(_0xD52E,_$_90b0[1025]),_0xCF40=_0xC86C(_0xD52E,_$_90b0[1026]),_0xD362=_0xC86C(_0xD52E,_$_90b0[1027]),_0xD55C=_0xC86C(_0xD52E,_$_90b0[1028]),_0xD9AC=_0xC86C(_0xD52E,_$_90b0[1029]),_0xD196=_0xC86C(Object,_$_90b0[315]);var _0xC55E=_0xD898(_0xC530),_0xD082=_0xD898(_0xCF40),_0xD390=_0xD898(_0xD362),_0xD58A=_0xD898(_0xD55C),_0xD9DA=_0xD898(_0xD9AC);var _0xD80E=_0xD7E0?_0xD7E0[_$_90b0[36]]:undefined,_0xD86A=_0xD80E?_0xD80E[_$_90b0[908]]:undefined;function _0xC952(_0xE052){var _0x6C6C=-1,_0x89B6=_0xE052?_0xE052[_$_90b0[47]]:0;this[_$_90b0[1030]]();while(++_0x6C6C< _0x89B6){var _0xE080=_0xE052[_0x6C6C];this[_$_90b0[64]](_0xE080[0],_0xE080[1])}}function _0xC9AE(){this[_$_90b0[1031]]= _0xD196?_0xD196(null):{}}function _0xC9DC(_0x6BE2){return this[_$_90b0[1032]](_0x6BE2)&&  delete this[_$_90b0[1031]][_0x6BE2]}function _0xCA0A(_0x6BE2){var _0x70BC=this[_$_90b0[1031]];if(_0xD196){var _0x611A=_0x70BC[_0x6BE2];return _0x611A=== _0xC980?undefined:_0x611A};return _0xCA94[_$_90b0[54]](_0x70BC,_0x6BE2)?_0x70BC[_0x6BE2]:undefined}function _0xCA38(_0x6BE2){var _0x70BC=this[_$_90b0[1031]];return _0xD196?_0x70BC[_0x6BE2]!== undefined:_0xCA94[_$_90b0[54]](_0x70BC,_0x6BE2)}function _0xCA66(_0x6BE2,_0xB75A){var _0x70BC=this[_$_90b0[1031]];_0x70BC[_0x6BE2]= (_0xD196&& _0xB75A=== undefined)?_0xC980:_0xB75A;return this}_0xC952[_$_90b0[36]][_$_90b0[1030]]= _0xC9AE;_0xC952[_$_90b0[36]][_$_90b0[1033]]= _0xC9DC;_0xC952[_$_90b0[36]][_$_90b0[1034]]= _0xCA0A;_0xC952[_$_90b0[36]][_$_90b0[1032]]= _0xCA38;_0xC952[_$_90b0[36]][_$_90b0[64]]= _0xCA66;function _0xCE2C(_0xE052){var _0x6C6C=-1,_0x89B6=_0xE052?_0xE052[_$_90b0[47]]:0;this[_$_90b0[1030]]();while(++_0x6C6C< _0x89B6){var _0xE080=_0xE052[_0x6C6C];this[_$_90b0[64]](_0xE080[0],_0xE080[1])}}function _0xCE5A(){this[_$_90b0[1031]]= []}function _0xCE88(_0x6BE2){var _0x70BC=this[_$_90b0[1031]],_0x6C6C=_0xC0B2(_0x70BC,_0x6BE2);if(_0x6C6C< 0){return false};var _0xE0AE=_0x70BC[_$_90b0[47]]- 1;if(_0x6C6C== _0xE0AE){_0x70BC[_$_90b0[113]]()}else {_0xD614[_$_90b0[54]](_0x70BC,_0x6C6C,1)};return true}function _0xCEB6(_0x6BE2){var _0x70BC=this[_$_90b0[1031]],_0x6C6C=_0xC0B2(_0x70BC,_0x6BE2);return _0x6C6C< 0?undefined:_0x70BC[_0x6C6C][1]}function _0xCEE4(_0x6BE2){return _0xC0B2(this[_$_90b0[1031]],_0x6BE2)>  -1}function _0xCF12(_0x6BE2,_0xB75A){var _0x70BC=this[_$_90b0[1031]],_0x6C6C=_0xC0B2(_0x70BC,_0x6BE2);if(_0x6C6C< 0){_0x70BC[_$_90b0[75]]([_0x6BE2,_0xB75A])}else {_0x70BC[_0x6C6C][1]= _0xB75A};return this}_0xCE2C[_$_90b0[36]][_$_90b0[1030]]= _0xCE5A;_0xCE2C[_$_90b0[36]][_$_90b0[1033]]= _0xCE88;_0xCE2C[_$_90b0[36]][_$_90b0[1034]]= _0xCEB6;_0xCE2C[_$_90b0[36]][_$_90b0[1032]]= _0xCEE4;_0xCE2C[_$_90b0[36]][_$_90b0[64]]= _0xCF12;function _0xCF6E(_0xE052){var _0x6C6C=-1,_0x89B6=_0xE052?_0xE052[_$_90b0[47]]:0;this[_$_90b0[1030]]();while(++_0x6C6C< _0x89B6){var _0xE080=_0xE052[_0x6C6C];this[_$_90b0[64]](_0xE080[0],_0xE080[1])}}function _0xCF9C(){this[_$_90b0[1031]]= {"hash": new _0xC952,"map": new (_0xCF40|| _0xCE2C),"string": new _0xC952}}function _0xCFCA(_0x6BE2){return _0xC83E(this,_0x6BE2)[_$_90b0[1033]](_0x6BE2)}function _0xCFF8(_0x6BE2){return _0xC83E(this,_0x6BE2)[_$_90b0[1034]](_0x6BE2)}function _0xD026(_0x6BE2){return _0xC83E(this,_0x6BE2)[_$_90b0[1032]](_0x6BE2)}function _0xD054(_0x6BE2,_0xB75A){_0xC83E(this,_0x6BE2)[_$_90b0[64]](_0x6BE2,_0xB75A);return this}_0xCF6E[_$_90b0[36]][_$_90b0[1030]]= _0xCF9C;_0xCF6E[_$_90b0[36]][_$_90b0[1033]]= _0xCFCA;_0xCF6E[_$_90b0[36]][_$_90b0[1034]]= _0xCFF8;_0xCF6E[_$_90b0[36]][_$_90b0[1032]]= _0xD026;_0xCF6E[_$_90b0[36]][_$_90b0[64]]= _0xD054;function _0xD642(_0xE052){this[_$_90b0[1031]]=  new _0xCE2C(_0xE052)}function _0xD670(){this[_$_90b0[1031]]=  new _0xCE2C}function _0xD69E(_0x6BE2){return this[_$_90b0[1031]][_$_90b0[1033]](_0x6BE2)}function _0xD6CC(_0x6BE2){return this[_$_90b0[1031]][_$_90b0[1034]](_0x6BE2)}function _0xD6FA(_0x6BE2){return this[_$_90b0[1031]][_$_90b0[1032]](_0x6BE2)}function _0xD728(_0x6BE2,_0xB75A){var _0x90B8=this[_$_90b0[1031]];if(_0x90B8 instanceof  _0xCE2C){var _0xE138=_0x90B8[_$_90b0[1031]];if(!_0xCF40|| (_0xE138[_$_90b0[47]]< _0xCDFE- 1)){_0xE138[_$_90b0[75]]([_0x6BE2,_0xB75A]);return this};_0x90B8= this[_$_90b0[1031]]=  new _0xCF6E(_0xE138)};_0x90B8[_$_90b0[64]](_0x6BE2,_0xB75A);return this}_0xD642[_$_90b0[36]][_$_90b0[1030]]= _0xD670;_0xD642[_$_90b0[36]][_$_90b0[1033]]= _0xD69E;_0xD642[_$_90b0[36]][_$_90b0[1034]]= _0xD6CC;_0xD642[_$_90b0[36]][_$_90b0[1032]]= _0xD6FA;_0xD642[_$_90b0[36]][_$_90b0[64]]= _0xD728;function _0xBF9E(_0xB75A,_0xDB78){var _0x611A=(_0xAE02(_0xB75A)|| _0xCBD6(_0xB75A))?_0xC222(_0xB75A[_$_90b0[47]],String):[];var _0x89B6=_0x611A[_$_90b0[47]],_0xDBA6=!!_0x89B6;for(var _0x6BE2 in _0xB75A){if((_0xDB78|| _0xCA94[_$_90b0[54]](_0xB75A,_0x6BE2))&&  !(_0xDBA6&& (_0x6BE2== _$_90b0[47]|| _0xCCBC(_0x6BE2,_0x89B6)))){_0x611A[_$_90b0[75]](_0x6BE2)}};return _0x611A}function _0xC084(_0xB646,_0x6BE2,_0xB75A){var _0xDC5E=_0xB646[_0x6BE2];if(!(_0xCA94[_$_90b0[54]](_0xB646,_0x6BE2)&& _0xC5E8(_0xDC5E,_0xB75A))|| (_0xB75A=== undefined&&  !(_0x6BE2 in  _0xB646))){_0xB646[_0x6BE2]= _0xB75A}}function _0xC0B2(_0xDB1C,_0x6BE2){var _0x89B6=_0xDB1C[_$_90b0[47]];while(_0x89B6--){if(_0xC5E8(_0xDB1C[_0x89B6][0],_0x6BE2)){return _0x89B6}};return -1}function _0xC0E0(_0xB646,_0xBA68){return _0xB646&& _0xC4A6(_0xBA68,_0x8594(_0xBA68),_0xB646)}function _0xC10E(_0xB75A,_0xDCE8,_0xDD16,_0xDC8C,_0x6BE2,_0xB646,_0xB9B0){var _0x611A;if(_0xDC8C){_0x611A= _0xB646?_0xDC8C(_0xB75A,_0x6BE2,_0xB646,_0xB9B0):_0xDC8C(_0xB75A)};if(_0x611A!== undefined){return _0x611A};if(!_0xCD74(_0xB75A)){return _0xB75A};var _0xDCBA=_0xAE02(_0xB75A);if(_0xDCBA){_0x611A= _0xCAC2(_0xB75A);if(!_0xDCE8){return _0xC478(_0xB75A,_0x611A)}}else {var _0xDDCE=_0xC8F6(_0xB75A),_0xDD44=_0xDDCE== _0xC786|| _0xDDCE== _0xC7E2;if(_0xCC60(_0xB75A)){return _0xC308(_0xB75A,_0xDCE8)};if(_0xDDCE== _0xD2D8|| _0xDDCE== _0xBF14|| (_0xDD44&&  !_0xB646)){if(_0xCC8E(_0xB75A)){return _0xB646?_0xB75A:{}};_0x611A= _0xCB1E(_0xDD44?{}:_0xB75A);if(!_0xDCE8){return _0xC4D4(_0xB75A,_0xC0E0(_0x611A,_0xB75A))}}else {if(!_0xC2AC[_0xDDCE]){return _0xB646?_0xB75A:{}};_0x611A= _0xCAF0(_0xB75A,_0xDDCE,_0xC10E,_0xDCE8)}};_0xB9B0|| (_0xB9B0=  new _0xD642);var _0xDDA0=_0xB9B0[_$_90b0[1034]](_0xB75A);if(_0xDDA0){return _0xDDA0};_0xB9B0[_$_90b0[64]](_0xB75A,_0x611A);if(!_0xDCBA){var _0xDD72=_0xDD16?_0xC810(_0xB75A):_0x8594(_0xB75A)};_0xBF70(_0xDD72|| _0xB75A,function(_0xDDFC,_0x6BE2){if(_0xDD72){_0x6BE2= _0xDDFC;_0xDDFC= _0xB75A[_0x6BE2]};_0xC084(_0x611A,_0x6BE2,_0xC10E(_0xDDFC,_0xDCE8,_0xDD16,_0xDC8C,_0x6BE2,_0xB75A,_0xB9B0))});return _0x611A}function _0xC13C(_0xDE2A){return _0xCD74(_0xDE2A)?_0xD27C(_0xDE2A):{}}function _0xC16A(_0xB646,_0xDE58,_0xDE86){var _0x611A=_0xDE58(_0xB646);return _0xAE02(_0xB646)?_0x611A:_0xBFFA(_0x611A,_0xDE86(_0xB646))}function _0xC198(_0xB75A){return _0xD306[_$_90b0[54]](_0xB75A)}function _0xC1C6(_0xB75A){if(!_0xCD74(_0xB75A)|| _0xCD46(_0xB75A)){return false};var _0xDEB4=(_0xB6FE(_0xB75A)|| _0xCC8E(_0xB75A))?_0xD4A4:_0xD476;return _0xDEB4[_$_90b0[267]](_0xD898(_0xB75A))}function _0xC1F4(_0xB646){if(!_0xCDD0(_0xB646)){return _0xD220(_0xB646)};var _0x611A=[];for(var _0x6BE2 in Object(_0xB646)){if(_0xCA94[_$_90b0[54]](_0xB646,_0x6BE2)&& _0x6BE2!= _$_90b0[86]){_0x611A[_$_90b0[75]](_0x6BE2)}};return _0x611A}function _0xC308(_0x8D20,_0xDCE8){if(_0xDCE8){return _0x8D20[_$_90b0[4]]()};var _0x611A= new _0x8D20[_$_90b0[86]](_0x8D20[_$_90b0[47]]);_0x8D20[_$_90b0[1035]](_0x611A);return _0x611A}function _0xC2DA(_0xDEE2){var _0x611A= new _0xDEE2[_$_90b0[86]](_0xDEE2[_$_90b0[3]]); new _0xD922(_0x611A)[_$_90b0[64]]( new _0xD922(_0xDEE2));return _0x611A}function _0xC336(_0xDF10,_0xDCE8){var _0x8D20=_0xDCE8?_0xC2DA(_0xDF10[_$_90b0[5]]):_0xDF10[_$_90b0[5]];return  new _0xDF10[_$_90b0[86]](_0x8D20,_0xDF10[_$_90b0[63]],_0xDF10[_$_90b0[3]])}function _0xC392(_0x85C2,_0xDCE8,_0xDF3E){var _0xDB1C=_0xDCE8?_0xDF3E(_0xD0DE(_0x85C2),true):_0xD0DE(_0x85C2);return _0xC028(_0xDB1C,_0xBEB8, new _0x85C2[_$_90b0[86]])}function _0xC3C0(_0xDF6C){var _0x611A= new _0xDF6C[_$_90b0[86]](_0xDF6C[_$_90b0[447]],_0xD41A[_$_90b0[429]](_0xDF6C));_0x611A[_$_90b0[1036]]= _0xDF6C[_$_90b0[1036]];return _0x611A}function _0xC3EE(_0xDAEE,_0xDCE8,_0xDF3E){var _0xDB1C=_0xDCE8?_0xDF3E(_0xD5E6(_0xDAEE),true):_0xD5E6(_0xDAEE);return _0xC028(_0xDB1C,_0xBEE6, new _0xDAEE[_$_90b0[86]])}function _0xC41C(_0xDF9A){return _0xD86A?Object(_0xD86A[_$_90b0[54]](_0xDF9A)):{}}function _0xC44A(_0xDFC8,_0xDCE8){var _0x8D20=_0xDCE8?_0xC2DA(_0xDFC8[_$_90b0[5]]):_0xDFC8[_$_90b0[5]];return  new _0xDFC8[_$_90b0[86]](_0x8D20,_0xDFC8[_$_90b0[63]],_0xDFC8[_$_90b0[47]])}function _0xC478(_0xBA68,_0xDB1C){var _0x6C6C=-1,_0x89B6=_0xBA68[_$_90b0[47]];_0xDB1C|| (_0xDB1C= Array(_0x89B6));while(++_0x6C6C< _0x89B6){_0xDB1C[_0x6C6C]= _0xBA68[_0x6C6C]};return _0xDB1C}function _0xC4A6(_0xBA68,_0xDD72,_0xB646,_0xDC8C){_0xB646|| (_0xB646= {});var _0x6C6C=-1,_0x89B6=_0xDD72[_$_90b0[47]];while(++_0x6C6C< _0x89B6){var _0x6BE2=_0xDD72[_0x6C6C];var _0xDFF6=_0xDC8C?_0xDC8C(_0xB646[_0x6BE2],_0xBA68[_0x6BE2],_0x6BE2,_0xB646,_0xBA68):undefined;_0xC084(_0xB646,_0x6BE2,_0xDFF6=== undefined?_0xBA68[_0x6BE2]:_0xDFF6)};return _0xB646}function _0xC4D4(_0xBA68,_0xB646){return _0xC4A6(_0xBA68,_0xC8C8(_0xBA68),_0xB646)}function _0xC810(_0xB646){return _0xC16A(_0xB646,_0x8594,_0xC8C8)}function _0xC83E(_0x85C2,_0x6BE2){var _0x70BC=_0x85C2[_$_90b0[1031]];return _0xCCEA(_0x6BE2)?_0x70BC[ typeof _0x6BE2== _$_90b0[67]?_$_90b0[67]:_$_90b0[1037]]:_0x70BC[_$_90b0[612]]}function _0xC86C(_0xB646,_0x6BE2){var _0xB75A=_0xC924(_0xB646,_0x6BE2);return _0xC1C6(_0xB75A)?_0xB75A:undefined}var _0xC8C8=_0xD1C4?_0xD334(_0xD1C4,Object):_0xD784;var _0xC8F6=_0xC198;if((_0xC530&& _0xC8F6( new _0xC530( new ArrayBuffer(1)))!= _0xC58C)|| (_0xCF40&& _0xC8F6( new _0xCF40)!= _0xD0B0)|| (_0xD362&& _0xC8F6(_0xD362[_$_90b0[620]]())!= _0xD3BE)|| (_0xD55C&& _0xC8F6( new _0xD55C)!= _0xD5B8)|| (_0xD9AC&& _0xC8F6( new _0xD9AC)!= _0xDA08)){_0xC8F6= function(_0xB75A){var _0x611A=_0xD306[_$_90b0[54]](_0xB75A),_0xDA64=_0x611A== _0xD2D8?_0xB75A[_$_90b0[86]]:undefined,_0xDA92=_0xDA64?_0xD898(_0xDA64):undefined;if(_0xDA92){switch(_0xDA92){case _0xC55E:return _0xC58C;case _0xD082:return _0xD0B0;case _0xD390:return _0xD3BE;case _0xD58A:return _0xD5B8;case _0xD9DA:return _0xDA08}};return _0x611A}};function _0xCAC2(_0xDB1C){var _0x89B6=_0xDB1C[_$_90b0[47]],_0x611A=_0xDB1C[_$_90b0[86]](_0x89B6);if(_0x89B6&&  typeof _0xDB1C[0]== _$_90b0[67]&& _0xCA94[_$_90b0[54]](_0xDB1C,_$_90b0[249])){_0x611A[_$_90b0[249]]= _0xDB1C[_$_90b0[249]];_0x611A[_$_90b0[1038]]= _0xDB1C[_$_90b0[1038]]};return _0x611A}function _0xCB1E(_0xB646){return ( typeof _0xB646[_$_90b0[86]]== _$_90b0[68]&&  !_0xCDD0(_0xB646))?_0xC13C(_0xC89A(_0xB646)):{}}function _0xCAF0(_0xB646,_0xDDCE,_0xDF3E,_0xDCE8){var _0xDA64=_0xB646[_$_90b0[86]];switch(_0xDDCE){case _0xBF42:return _0xC2DA(_0xB646);case _0xC250:;case _0xC5BA:return  new _0xDA64(+_0xB646);case _0xC58C:return _0xC336(_0xB646,_0xDCE8);case _0xC644:;case _0xC672:;case _0xCBA8:;case _0xCB4C:;case _0xCB7A:;case _0xD97E:;case _0xD950:;case _0xD8C6:;case _0xD8F4:return _0xC44A(_0xB646,_0xDCE8);case _0xD0B0:return _0xC392(_0xB646,_0xDCE8,_0xDF3E);case _0xD24E:;case _0xD756:return  new _0xDA64(_0xB646);case _0xD448:return _0xC3C0(_0xB646);case _0xD5B8:return _0xC3EE(_0xB646,_0xDCE8,_0xDF3E);case _0xD83C:return _0xC41C(_0xB646)}}function _0xCCBC(_0xB75A,_0x89B6){_0x89B6= _0x89B6== null?_0xD13A:_0x89B6;return !!_0x89B6&& ( typeof _0xB75A== _$_90b0[495]|| _0xD4D2[_$_90b0[267]](_0xB75A)) && (_0xB75A>  -1&& _0xB75A% 1== 0&& _0xB75A< _0x89B6)}function _0xCCEA(_0xB75A){var _0x7118= typeof _0xB75A;return (_0x7118== _$_90b0[67]|| _0x7118== _$_90b0[495]|| _0x7118== _$_90b0[1039]|| _0x7118== _$_90b0[825])?(_0xB75A!== _$_90b0[907]):(_0xB75A=== null)}function _0xCD46(_0x9B52){return !!_0xD10C&& (_0xD10C in  _0x9B52)}function _0xCDD0(_0xB75A){var _0xDA64=_0xB75A&& _0xB75A[_$_90b0[86]],_0xDE2A=( typeof _0xDA64== _$_90b0[68]&& _0xDA64[_$_90b0[36]])|| _0xD2AA;return _0xB75A=== _0xDE2A}function _0xD898(_0x9B52){if(_0x9B52!= null){try{return _0xC7B4[_$_90b0[54]](_0x9B52)}catch(_0x5EF2){};try{return (_0x9B52+ _$_90b0[24])}catch(_0x5EF2){}};return _$_90b0[24]}function _0xC364(_0xB75A){return _0xC10E(_0xB75A,true,true)}function _0xC5E8(_0xB75A,_0xE024){return _0xB75A=== _0xE024|| (_0xB75A!== _0xB75A&& _0xE024!== _0xE024)}function _0xCBD6(_0xB75A){return _0xCC32(_0xB75A)&& _0xCA94[_$_90b0[54]](_0xB75A,_$_90b0[1040])&& (!_0xD3EC[_$_90b0[54]](_0xB75A,_$_90b0[1040])|| _0xD306[_$_90b0[54]](_0xB75A)== _0xBF14)}var _0xAE02=Array[_$_90b0[868]];function _0xCC04(_0xB75A){return _0xB75A!= null&& _0xCD18(_0xB75A[_$_90b0[47]])&&  !_0xB6FE(_0xB75A)}function _0xCC32(_0xB75A){return _0xCDA2(_0xB75A)&& _0xCC04(_0xB75A)}var _0xCC60=_0xD1F2|| _0xD7B2;function _0xB6FE(_0xB75A){var _0xDDCE=_0xCD74(_0xB75A)?_0xD306[_$_90b0[54]](_0xB75A):_$_90b0[24];return _0xDDCE== _0xC786|| _0xDDCE== _0xC7E2}function _0xCD18(_0xB75A){return  typeof _0xB75A== _$_90b0[495]&& _0xB75A>  -1&& _0xB75A% 1== 0&& _0xB75A<= _0xD13A}function _0xCD74(_0xB75A){var _0x7118= typeof _0xB75A;return !!_0xB75A&& (_0x7118== _$_90b0[99]|| _0x7118== _$_90b0[68])}function _0xCDA2(_0xB75A){return !!_0xB75A&&  typeof _0xB75A== _$_90b0[99]}function _0x8594(_0xB646){return _0xCC04(_0xB646)?_0xBF9E(_0xB646):_0xC1F4(_0xB646)}function _0xD784(){return []}function _0xD7B2(){return false}_0x5F4E[_$_90b0[0]]= _0xC364})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{}],48:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xE166=_0x5FD8(_$_90b0[939]);function _0xBC34(_0x639E){this[_$_90b0[510]]= _0xE166[_$_90b0[1041]]&& _0xE166[_$_90b0[1042]];this[_$_90b0[1043]]= 1;if(this[_$_90b0[510]]){var _0xE194=this[_$_90b0[1044]]=  new _0xE166[_$_90b0[842]]();this[_$_90b0[1045]]= _0xE194[_$_90b0[855]](_0x639E);this[_$_90b0[1046]]= _0xE194[_$_90b0[1047]]();this[_$_90b0[857]]= _0xE194[_$_90b0[1048]]();this[_$_90b0[1049]]= this[_$_90b0[857]][_$_90b0[597]];this[_$_90b0[1045]][_$_90b0[856]](this[_$_90b0[1046]]);this[_$_90b0[1046]][_$_90b0[856]](this[_$_90b0[857]]);_0x639E[_$_90b0[781]](this[_$_90b0[1049]][_$_90b0[795]]()[0]);_0x639E[_$_90b0[1050]](_0x639E[_$_90b0[795]]()[0])};this[_$_90b0[597]]= _0x639E}_0xBC34[_$_90b0[36]][_$_90b0[980]]= function(_0x7FD4){if(!this[_$_90b0[510]]){return};this[_$_90b0[1046]][_$_90b0[1043]][_$_90b0[295]]= _0x7FD4;this[_$_90b0[1043]]= _0x7FD4};_0xBC34[_$_90b0[36]][_$_90b0[1051]]= function(){return this[_$_90b0[1043]]};_0xBC34[_$_90b0[36]][_$_90b0[77]]= function(){return this[_$_90b0[980]](0)};_0xBC34[_$_90b0[36]][_$_90b0[72]]= function(){this[_$_90b0[980]](1)};_0x5F4E[_$_90b0[0]]= _0xBC34},{"webrtcsupport":49}],49:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x63FA;var _0xE304;if(window[_$_90b0[811]]|| navigator[_$_90b0[819]]){_0x63FA= _$_90b0[25];_0xE304= parseInt(navigator[_$_90b0[266]][_$_90b0[396]](/Firefox\/([0-9]+)\./)[1],10)}else {if(window[_$_90b0[832]]|| navigator[_$_90b0[651]]){_0x63FA= _$_90b0[26];_0xE304= navigator[_$_90b0[266]][_$_90b0[396]](/Chrom(e|ium)/)&& parseInt(navigator[_$_90b0[266]][_$_90b0[396]](/Chrom(e|ium)\/([0-9]+)\./)[2],10)}};var _0xE24C=window[_$_90b0[811]]|| window[_$_90b0[832]];var _0xE1F0=window[_$_90b0[1052]]|| window[_$_90b0[660]];var _0xE2A8=window[_$_90b0[1053]]|| window[_$_90b0[661]];var _0xE21E=window[_$_90b0[587]]|| window[_$_90b0[586]];var _0xE27A=window[_$_90b0[107]][_$_90b0[102]]=== _$_90b0[108]&& ((_0x63FA=== _$_90b0[26]&& _0xE304>= 26)|| (_0x63FA=== _$_90b0[25]&& _0xE304>= 33));var _0xE1C2=window[_$_90b0[842]]|| window[_$_90b0[843]];var _0xE332=document[_$_90b0[10]](_$_90b0[9]);var _0xE2D6=_0xE332&& _0xE332[_$_90b0[1054]]&& _0xE332[_$_90b0[1054]](_$_90b0[1055])=== _$_90b0[1056];var _0x90E6=navigator[_$_90b0[547]]|| navigator[_$_90b0[651]]|| navigator[_$_90b0[1057]]|| navigator[_$_90b0[819]];_0x5F4E[_$_90b0[0]]= {prefix:_0x63FA,browserVersion:_0xE304,support:!!_0xE24C&& _0xE2D6 &&  !!_0x90E6,supportRTCPeerConnection:!!_0xE24C,supportVp8:_0xE2D6,supportGetUserMedia:!!_0x90E6,supportDataChannel:!!(_0xE24C&& _0xE24C[_$_90b0[36]]&& _0xE24C[_$_90b0[36]][_$_90b0[1058]]),supportWebAudio:!!(_0xE1C2&& _0xE1C2[_$_90b0[36]][_$_90b0[855]]),supportMediaStream:!!(_0xE21E&& _0xE21E[_$_90b0[36]][_$_90b0[1050]]),supportScreenSharing:!!_0xE27A,dataChannel:!!(_0xE24C&& _0xE24C[_$_90b0[36]]&& _0xE24C[_$_90b0[36]][_$_90b0[1058]]),webAudio:!!(_0xE1C2&& _0xE1C2[_$_90b0[36]][_$_90b0[855]]),mediaStream:!!(_0xE21E&& _0xE21E[_$_90b0[36]][_$_90b0[1050]]),screenSharing:!!_0xE27A,AudioContext:_0xE1C2,PeerConnection:_0xE24C,SessionDescription:_0xE2A8,IceCandidate:_0xE1F0,MediaStream:_0xE21E,getUserMedia:_0x90E6}},{}],50:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xE360=_$_90b0[1059][_$_90b0[110]](_$_90b0[474]);var _0x708E=_0xE360[_$_90b0[47]];var _0x6A44=function(){};var _0xBD1A={};while(_0x708E--){_0xBD1A[_0xE360[_0x708E]]= _0x6A44};_0x5F4E[_$_90b0[0]]= _0xBD1A},{}],51:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8E90=Object[_$_90b0[36]][_$_90b0[158]];_0x5F20[_$_90b0[488]]= Object[_$_90b0[488]]|| function(_0x6A72){var _0x8594=[];for(var _0x6BE2 in _0x6A72){if(_0x8E90[_$_90b0[54]](_0x6A72,_0x6BE2)){_0x8594[_$_90b0[75]](_0x6BE2)}};return _0x8594};_0x5F20[_$_90b0[1060]]= function(_0x6A72){var _0xE38E=[];for(var _0x6BE2 in _0x6A72){if(_0x8E90[_$_90b0[54]](_0x6A72,_0x6BE2)){_0xE38E[_$_90b0[75]](_0x6A72[_0x6BE2])}};return _0xE38E};_0x5F20[_$_90b0[1061]]= function(_0x68A6,_0x68D4){for(var _0x6BE2 in _0x68D4){if(_0x8E90[_$_90b0[54]](_0x68D4,_0x6BE2)){_0x68A6[_0x6BE2]= _0x68D4[_0x6BE2]}};return _0x68A6};_0x5F20[_$_90b0[47]]= function(_0x6A72){return _0x5F20[_$_90b0[488]](_0x6A72)[_$_90b0[47]]};_0x5F20[_$_90b0[1062]]= function(_0x6A72){return 0== _0x5F20[_$_90b0[47]](_0x6A72)}},{}],52:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0xE446=/^[\],:{}\s]*$/;var _0xE474=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var _0xE4A2=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var _0xE418=/(?:^|:|,)(?:\s*\[)+/g;var _0xE3BC=/^\s+/;var _0xE3EA=/\s+$/;_0x5F4E[_$_90b0[0]]= function _0x6C9A(_0x70BC){if(_$_90b0[67]!=  typeof _0x70BC||  !_0x70BC){return null};_0x70BC= _0x70BC[_$_90b0[120]](_0xE3BC,_$_90b0[24])[_$_90b0[120]](_0xE3EA,_$_90b0[24]);if(_0x684A[_$_90b0[874]]&& JSON[_$_90b0[635]]){return JSON[_$_90b0[635]](_0x70BC)};if(_0xE446[_$_90b0[267]](_0x70BC[_$_90b0[120]](_0xE474,_$_90b0[935])[_$_90b0[120]](_0xE4A2,_$_90b0[457])[_$_90b0[120]](_0xE418,_$_90b0[24]))){return ( new Function(_$_90b0[1063]+ _0x70BC))()}}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{}],53:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F20[_$_90b0[46]]= function(_0x6A72){var _0x8310=_$_90b0[24];for(var _0x6200 in _0x6A72){if(_0x6A72[_$_90b0[158]](_0x6200)){if(_0x8310[_$_90b0[47]]){_0x8310+= _$_90b0[1064]};_0x8310+= encodeURIComponent(_0x6200)+ _$_90b0[49]+ encodeURIComponent(_0x6A72[_0x6200])}};return _0x8310};_0x5F20[_$_90b0[51]]= function(_0xE4FE){var _0xE4D0={};var _0xE138=_0xE4FE[_$_90b0[110]](_$_90b0[1064]);for(var _0x6200=0,_0x708E=_0xE138[_$_90b0[47]];_0x6200< _0x708E;_0x6200++){var _0xDAC0=_0xE138[_0x6200][_$_90b0[110]](_$_90b0[49]);_0xE4D0[decodeURIComponent(_0xDAC0[0])]= decodeURIComponent(_0xDAC0[1])};return _0xE4D0}},{}],54:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x836C=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var _0x833E=[_$_90b0[447],_$_90b0[102],_$_90b0[448],_$_90b0[449],_$_90b0[450],_$_90b0[451],_$_90b0[100],_$_90b0[105],_$_90b0[452],_$_90b0[119],_$_90b0[453],_$_90b0[454],_$_90b0[106],_$_90b0[455]];_0x5F4E[_$_90b0[0]]= function _0x6D24(_0x8310){var _0x81CE=_0x836C[_$_90b0[429]](_0x8310|| _$_90b0[24]),_0x7312={},_0x6200=14;while(_0x6200--){_0x7312[_0x833E[_0x6200]]= _0x81CE[_0x6200]|| _$_90b0[24]};return _0x7312}},{}],55:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xE6CA=_0x5F4E[_$_90b0[0]]= {};var _0xE55A;var _0xE52C;function _0xE612(){throw  new Error(_$_90b0[1065])}function _0xE5E4(){throw  new Error(_$_90b0[1066])}(function(){try{if( typeof setTimeout=== _$_90b0[68]){_0xE55A= setTimeout}else {_0xE55A= _0xE612}}catch(_0x5EF2){_0xE55A= _0xE612};try{if( typeof clearTimeout=== _$_90b0[68]){_0xE52C= clearTimeout}else {_0xE52C= _0xE5E4}}catch(_0x5EF2){_0xE52C= _0xE5E4}}());function _0xE782(_0xE7B0){if(_0xE55A=== setTimeout){return setTimeout(_0xE7B0,0)};if((_0xE55A=== _0xE612||  !_0xE55A)&& setTimeout){_0xE55A= setTimeout;return setTimeout(_0xE7B0,0)};try{return _0xE55A(_0xE7B0,0)}catch(_0x5EF2){try{return _0xE55A[_$_90b0[54]](null,_0xE7B0,0)}catch(_0x5EF2){return _0xE55A[_$_90b0[54]](this,_0xE7B0,0)}}}function _0xE754(_0xE80C){if(_0xE52C=== clearTimeout){return clearTimeout(_0xE80C)};if((_0xE52C=== _0xE5E4||  !_0xE52C)&& clearTimeout){_0xE52C= clearTimeout;return clearTimeout(_0xE80C)};try{return _0xE52C(_0xE80C)}catch(_0x5EF2){try{return _0xE52C[_$_90b0[54]](null,_0xE80C)}catch(_0x5EF2){return _0xE52C[_$_90b0[54]](this,_0xE80C)}}}var _0xE6F8=[];var _0xE640=false;var _0xE5B6;var _0xE726=-1;function _0xE588(){if(!_0xE640||  !_0xE5B6){return};_0xE640= false;if(_0xE5B6[_$_90b0[47]]){_0xE6F8= _0xE5B6[_$_90b0[70]](_0xE6F8)}else {_0xE726=  -1};if(_0xE6F8[_$_90b0[47]]){_0xE66E()}}function _0xE66E(){if(_0xE640){return};var _0x70EA=_0xE782(_0xE588);_0xE640= true;var _0x65F4=_0xE6F8[_$_90b0[47]];while(_0x65F4){_0xE5B6= _0xE6F8;_0xE6F8= [];while(++_0xE726< _0x65F4){if(_0xE5B6){_0xE5B6[_0xE726][_$_90b0[1067]]()}};_0xE726=  -1;_0x65F4= _0xE6F8[_$_90b0[47]]};_0xE5B6= null;_0xE640= false;_0xE754(_0x70EA)}_0xE6CA[_$_90b0[1068]]= function(_0xE7B0){var _0x6A16= new Array(arguments[_$_90b0[47]]- 1);if(arguments[_$_90b0[47]]> 1){for(var _0x6200=1;_0x6200< arguments[_$_90b0[47]];_0x6200++){_0x6A16[_0x6200- 1]= arguments[_0x6200]}};_0xE6F8[_$_90b0[75]]( new _0xE69C(_0xE7B0,_0x6A16));if(_0xE6F8[_$_90b0[47]]=== 1&&  !_0xE640){_0xE782(_0xE66E)}};function _0xE69C(_0xE7B0,_0xDB1C){this[_$_90b0[1069]]= _0xE7B0;this[_$_90b0[1070]]= _0xDB1C}_0xE69C[_$_90b0[36]][_$_90b0[1067]]= function(){this[_$_90b0[1069]][_$_90b0[71]](null,this[_$_90b0[1070]])};_0xE6CA[_$_90b0[1071]]= _$_90b0[584];_0xE6CA[_$_90b0[584]]= true;_0xE6CA[_$_90b0[1072]]= {};_0xE6CA[_$_90b0[1073]]= [];_0xE6CA[_$_90b0[616]]= _$_90b0[24];_0xE6CA[_$_90b0[1074]]= {};function _0x5FAA(){}_0xE6CA[_$_90b0[72]]= _0x5FAA;_0xE6CA[_$_90b0[1075]]= _0x5FAA;_0xE6CA[_$_90b0[76]]= _0x5FAA;_0xE6CA[_$_90b0[77]]= _0x5FAA;_0xE6CA[_$_90b0[79]]= _0x5FAA;_0xE6CA[_$_90b0[80]]= _0x5FAA;_0xE6CA[_$_90b0[83]]= _0x5FAA;_0xE6CA[_$_90b0[1076]]= function(_0x6DAE){throw  new Error(_$_90b0[1077])};_0xE6CA[_$_90b0[1078]]= function(){return _$_90b0[122]};_0xE6CA[_$_90b0[1079]]= function(_0xE7DE){throw  new Error(_$_90b0[1080])};_0xE6CA[_$_90b0[1081]]= function(){return 0}},{}],56:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F1A=_0x5FD8(_$_90b0[490]);var _0xE896=_0x5FD8(_$_90b0[1082]);var _0x8F48=_0x5FD8(_$_90b0[489]);var _0xE83A=_0x5FD8(_$_90b0[1083]);var _0x628A=_0x5FD8(_$_90b0[6]);var _0xC364=_0x5FD8(_$_90b0[1084]);function _0xE868(_0x9D1E,_0x9142){var _0x6B58=this;var _0x6314;_0x8F48[_$_90b0[54]](this);_0x9D1E= _0x9D1E|| {};_0x9D1E[_$_90b0[690]]= _0x9D1E[_$_90b0[690]]|| [];var _0xED42=_0x628A[_$_90b0[558]][_$_90b0[584]];this[_$_90b0[1085]]= false;if(_0x9142&& _0x9142[_$_90b0[627]]&& _0xED42=== _$_90b0[521]&& navigator[_$_90b0[1086]][_$_90b0[396]](/Chromium\//)=== null){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1085]]){_0x6B58[_$_90b0[1085]]= true}})};this[_$_90b0[1087]]= false;if(_0x9142&& _0x9142[_$_90b0[627]]&& _0xED42=== _$_90b0[521]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1087]]){_0x6B58[_$_90b0[1087]]= true}})};this[_$_90b0[1088]]= 0;if(_0x9142&& _0x9142[_$_90b0[627]]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1089]]){_0x6B58[_$_90b0[1088]]= _0xED70[_$_90b0[1089]]}})};this[_$_90b0[1090]]= 0;if(_0x9142&& _0x9142[_$_90b0[627]]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1091]]){_0x6B58[_$_90b0[1090]]= _0xED70[_$_90b0[1091]]}})};this[_$_90b0[1092]]= [];if(_0x9142&& _0x9142[_$_90b0[627]]&& _0xED42=== _$_90b0[521]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1093]]){_0x6B58[_$_90b0[1094]]= _0xED70[_$_90b0[1093]]}})};if(_0x9142&& _0x9142[_$_90b0[627]]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1095]]){_0x6B58[_$_90b0[1096]]= _0xED70[_$_90b0[1095]]}})};this[_$_90b0[1097]]= false;if(_0x9142&& _0x9142[_$_90b0[627]]){_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1098]]){_0x6B58[_$_90b0[1097]]= _0xED70[_$_90b0[1098]]}})};if(_0xED42=== _$_90b0[576]){if(_0x9142&& _0x9142[_$_90b0[627]]){this[_$_90b0[1099]]= 0;_0x9142[_$_90b0[627]][_$_90b0[23]](function(_0xED70){if(_0xED70[_$_90b0[1100]]){_0x6B58[_$_90b0[1099]]= _0xED70[_$_90b0[1100]];if(_0x6B58[_$_90b0[1099]]> 0){_0x6B58[_$_90b0[1101]]= []}}})}};this[_$_90b0[1102]]=  new _0xE83A(_0x9D1E,_0x9142);this[_$_90b0[672]]= this[_$_90b0[1102]][_$_90b0[672]][_$_90b0[422]](this[_$_90b0[1102]]);this[_$_90b0[673]]= this[_$_90b0[1102]][_$_90b0[673]][_$_90b0[422]](this[_$_90b0[1102]]);this[_$_90b0[709]]= this[_$_90b0[1102]][_$_90b0[709]][_$_90b0[422]](this[_$_90b0[1102]]);this[_$_90b0[712]]= this[_$_90b0[1102]][_$_90b0[712]][_$_90b0[422]](this[_$_90b0[1102]]);this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1103],function(){_0x6B58[_$_90b0[83]][_$_90b0[71]](_0x6B58,arguments)});this[_$_90b0[1102]][_$_90b0[665]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[712]);this[_$_90b0[1102]][_$_90b0[664]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[709]);this[_$_90b0[1102]][_$_90b0[668]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1104]);this[_$_90b0[1102]][_$_90b0[667]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1105]);this[_$_90b0[1102]][_$_90b0[666]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1106]);this[_$_90b0[1102]][_$_90b0[663]]= this[_$_90b0[1107]][_$_90b0[422]](this);this[_$_90b0[1102]][_$_90b0[669]]= this[_$_90b0[1108]][_$_90b0[422]](this);this[_$_90b0[674]]= {contents:[]};this[_$_90b0[675]]= {contents:[]};this[_$_90b0[491]]= {debug:false,sid:_$_90b0[24],isInitiator:true,sdpSessionID:Date[_$_90b0[1109]](),useJingle:false};this[_$_90b0[1110]]= {local:{},remote:{}};for(_0x6314 in _0x9D1E){this[_$_90b0[491]][_0x6314]= _0x9D1E[_0x6314]};if(this[_$_90b0[491]][_$_90b0[94]]){this[_$_90b0[72]](_$_90b0[1103],function(){var _0xED9E=_0x9D1E[_$_90b0[944]]|| console;_0xED9E[_$_90b0[378]](_$_90b0[1111],arguments)})};this[_$_90b0[1112]]= false;this[_$_90b0[1113]]= false;this[_$_90b0[1114]]= false;this[_$_90b0[1115]]= false;this[_$_90b0[1116]]= false;this[_$_90b0[1117]]= false;this[_$_90b0[1118]]= [];this[_$_90b0[1119]]= [];this[_$_90b0[1120]]= []}_0x8F1A[_$_90b0[493]](_0xE868,_0x8F48);Object[_$_90b0[600]](_0xE868[_$_90b0[36]],_$_90b0[676],{get:function(){return this[_$_90b0[1102]][_$_90b0[676]]}});Object[_$_90b0[600]](_0xE868[_$_90b0[36]],_$_90b0[678],{get:function(){return this[_$_90b0[1102]][_$_90b0[678]]}});_0xE868[_$_90b0[36]][_$_90b0[1121]]= function(){return this[_$_90b0[1122]]?_$_90b0[1123]:_$_90b0[1124]};_0xE868[_$_90b0[36]][_$_90b0[709]]= function(_0x639E){this[_$_90b0[961]]= _0x639E;this[_$_90b0[1102]][_$_90b0[709]](_0x639E)};_0xE868[_$_90b0[36]][_$_90b0[1125]]= function(_0xA7E6){var _0xA0B6=_0xE896[_$_90b0[1126]](_0xA7E6);if(_0xA0B6[_$_90b0[65]]== _$_90b0[1127]){this[_$_90b0[1112]]= true}else {if(_0xA0B6[_$_90b0[65]]== _$_90b0[684]){this[_$_90b0[1114]]= true}};if(_0xA0B6[_$_90b0[1128]][_$_90b0[52]](_$_90b0[109])!=  -1){this[_$_90b0[1116]]= true}};_0xE868[_$_90b0[36]][_$_90b0[1129]]= function(_0xA7E6){var _0xA0B6=_0xE896[_$_90b0[1126]](_0xA7E6);if(_0xA0B6[_$_90b0[65]]== _$_90b0[1127]){this[_$_90b0[1113]]= true}else {if(_0xA0B6[_$_90b0[65]]== _$_90b0[684]){this[_$_90b0[1115]]= true}};if(_0xA0B6[_$_90b0[1128]][_$_90b0[52]](_$_90b0[109])!=  -1){this[_$_90b0[1117]]= true}};_0xE868[_$_90b0[36]][_$_90b0[1130]]= function(_0xB47A,_0x6BB4){_0x6BB4= _0x6BB4|| function(){};var _0x6B58=this;if(this[_$_90b0[1102]][_$_90b0[676]]=== _$_90b0[185]){return _0x6BB4()};if(_0xB47A[_$_90b0[1131]]|| (_0xB47A[_$_90b0[1132]]&& _0xB47A[_$_90b0[1132]][_$_90b0[1131]])){var _0xE8C4=this[_$_90b0[675]][_$_90b0[1131]][_$_90b0[612]](function(_0x7DAC){return _0x7DAC[_$_90b0[164]]});var _0xE8F2=_0xB47A[_$_90b0[1131]]|| _0xB47A[_$_90b0[1132]][_$_90b0[1131]];_0xE8F2[_$_90b0[23]](function(_0xE94E){var _0x6E0A=_0xE94E[_$_90b0[155]]|| {};var _0xE920=_0x6E0A[_$_90b0[1133]]|| [];var _0xA4AA=_0xE8C4[_$_90b0[52]](_0xE94E[_$_90b0[164]]);var _0xA05A=_0xE94E[_$_90b0[164]];var _0xE9D8=_0x6B58[_$_90b0[675]][_$_90b0[1131]][_$_90b0[644]](function(_0x7DAC){return _0x7DAC[_$_90b0[164]]=== _0xE94E[_$_90b0[164]]});var _0xE9AA=function(){_0xE920[_$_90b0[23]](function(_0xA7E6){var _0xEA06=_0xE896[_$_90b0[1134]](_0xA7E6)+ _$_90b0[704];_0x6B58[_$_90b0[1102]][_$_90b0[619]]( new RTCIceCandidate({candidate:_0xEA06,sdpMLineIndex:_0xA4AA,sdpMid:_0xA05A}),function(){},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC)});_0x6B58[_$_90b0[1129]](_0xEA06)});_0x6BB4()};if(_0x6B58[_$_90b0[1110]][_$_90b0[1135]][_0xE94E[_$_90b0[164]]]&& _0x6E0A[_$_90b0[1136]]&& _0x6B58[_$_90b0[1110]][_$_90b0[1135]][_0xE94E[_$_90b0[164]]][_$_90b0[1136]]!== _0x6E0A[_$_90b0[1136]]){if(_0xE9D8){_0xE9D8[_$_90b0[155]][_$_90b0[1136]]= _0x6E0A[_$_90b0[1136]];_0xE9D8[_$_90b0[155]][_$_90b0[1137]]= _0x6E0A[_$_90b0[1137]];var _0xE97C={type:_$_90b0[744],jingle:_0x6B58[_$_90b0[675]]};_0xE97C[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xE97C[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[491]][_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1139]});_0x6B58[_$_90b0[1102]][_$_90b0[618]]( new RTCSessionDescription(_0xE97C),function(){_0xE9AA()},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC)})}else {_0x6B58[_$_90b0[83]](_$_90b0[159],_$_90b0[1141])}}else {_0xE9AA()}})}else {if(_0xB47A[_$_90b0[698]]&& _0xB47A[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_$_90b0[703])!== 0){_0xB47A[_$_90b0[698]][_$_90b0[698]]= _$_90b0[703]+ _0xB47A[_$_90b0[698]][_$_90b0[698]]};if(this[_$_90b0[1099]]&& this[_$_90b0[1101]]!== null){if(this[_$_90b0[1102]][_$_90b0[674]]&& this[_$_90b0[1102]][_$_90b0[674]][_$_90b0[65]]=== _$_90b0[744]){this[_$_90b0[1101]][_$_90b0[75]](_0xB47A[_$_90b0[698]]);return _0x6BB4()}};_0x6B58[_$_90b0[1102]][_$_90b0[619]]( new RTCIceCandidate(_0xB47A[_$_90b0[698]]),function(){},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC)});_0x6B58[_$_90b0[1129]](_0xB47A[_$_90b0[698]][_$_90b0[698]]);_0x6BB4()}};_0xE868[_$_90b0[36]][_$_90b0[744]]= function(_0x9142,_0x6BB4){var _0x6B58=this;var _0x91CC=arguments[_$_90b0[47]]=== 2;var _0xBD76=_0x91CC&& _0x9142?_0x9142:{offerToReceiveAudio:1,offerToReceiveVideo:1};_0x6BB4= _0x91CC?_0x6BB4:_0x9142;_0x6BB4= _0x6BB4|| function(){};if(this[_$_90b0[1102]][_$_90b0[676]]=== _$_90b0[185]){return _0x6BB4(_$_90b0[1142])};this[_$_90b0[1102]][_$_90b0[614]](function(_0xE97C){var _0xEA34={type:_$_90b0[744],sdp:_0xE97C[_$_90b0[657]]};if(_0x6B58[_$_90b0[1097]]){_0x6B58[_$_90b0[83]](_$_90b0[744],_0xEA34);_0x6BB4(null,_0xEA34)};_0x6B58[_$_90b0[1120]]= [];_0x6B58[_$_90b0[1102]][_$_90b0[617]](_0xE97C,function(){var _0xEA62;if(_0x6B58[_$_90b0[491]][_$_90b0[1143]]){_0xEA62= _0xE896[_$_90b0[1145]](_0xE97C[_$_90b0[657]],{role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]});_0xEA62[_$_90b0[157]]= _0x6B58[_$_90b0[491]][_$_90b0[157]];_0x6B58[_$_90b0[674]]= _0xEA62;_0xEA62[_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){var _0x6E0A=_0xE94E[_$_90b0[155]]|| {};if(_0x6E0A[_$_90b0[1136]]){_0x6B58[_$_90b0[1110]][_$_90b0[1146]][_0xE94E[_$_90b0[164]]]= {ufrag:_0x6E0A[_$_90b0[1136]],pwd:_0x6E0A[_$_90b0[1137]]}}});_0xEA34[_$_90b0[1132]]= _0xEA62};_0xEA34[_$_90b0[657]][_$_90b0[110]](_$_90b0[704])[_$_90b0[23]](function(_0xA5BE){if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x6B58[_$_90b0[1125]](_0xA5BE)}});if(!_0x6B58[_$_90b0[1097]]){_0x6B58[_$_90b0[83]](_$_90b0[744],_0xEA34);_0x6BB4(null,_0xEA34)}},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC);_0x6BB4(_0x60EC)})},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC);_0x6BB4(_0x60EC)},_0xBD76)};_0xE868[_$_90b0[36]][_$_90b0[1147]]= function(_0xE97C,_0x6BB4){_0x6BB4= _0x6BB4|| function(){};var _0x6B58=this;_0xE97C[_$_90b0[65]]= _$_90b0[744];if(_0xE97C[_$_90b0[1132]]){if(this[_$_90b0[1085]]){_0xE97C[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){if(_0xE94E[_$_90b0[164]]=== _$_90b0[9]){_0xE94E[_$_90b0[1149]][_$_90b0[1148]]= true}})};if(this[_$_90b0[1087]]){_0xE97C[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){if(_0xE94E[_$_90b0[164]]=== _$_90b0[9]){var _0xEABE=_0xE94E[_$_90b0[1149]][_$_90b0[1150]]|| [];if(_0xEABE[_$_90b0[47]]=== 0|| _0xEABE[0][_$_90b0[742]]!== _$_90b0[1151]){_0xEABE[_$_90b0[1155]]({ssrc:_$_90b0[1151],parameters:[{key:_$_90b0[743],value:_$_90b0[1152]},{key:_$_90b0[1153],value:_$_90b0[1154]}]});_0xE94E[_$_90b0[1149]][_$_90b0[1150]]= _0xEABE}}})};if(_0x6B58[_$_90b0[1088]]> 0){if(_0xE97C[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[47]]>= 2&& _0xE97C[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[164]]=== _$_90b0[9]){var _0xE94E=_0xE97C[_$_90b0[1132]][_$_90b0[1131]][1];var _0xEA90=_0xE94E[_$_90b0[1149]]&& _0xE94E[_$_90b0[1149]][_$_90b0[1156]]&& _0xE94E[_$_90b0[1149]][_$_90b0[1156]][_$_90b0[1156]];if(!_0xEA90){_0xE97C[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1156]]= {type:_$_90b0[1157],bandwidth:_0x6B58[_$_90b0[1088]][_$_90b0[485]]()};_0xE97C[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xE97C[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[491]][_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]})}}};_0xE97C[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){var _0x6E0A=_0xE94E[_$_90b0[155]]|| {};if(_0x6E0A[_$_90b0[1136]]){_0x6B58[_$_90b0[1110]][_$_90b0[1135]][_0xE94E[_$_90b0[164]]]= {ufrag:_0x6E0A[_$_90b0[1136]],pwd:_0x6E0A[_$_90b0[1137]]}}});_0xE97C[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xE97C[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[491]][_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1139]});_0x6B58[_$_90b0[675]]= _0xE97C[_$_90b0[1132]]};_0xE97C[_$_90b0[657]][_$_90b0[110]](_$_90b0[704])[_$_90b0[23]](function(_0xA5BE){if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x6B58[_$_90b0[1129]](_0xA5BE)}});_0x6B58[_$_90b0[1102]][_$_90b0[618]]( new RTCSessionDescription(_0xE97C),function(){_0x6BB4()},_0x6BB4)};_0xE868[_$_90b0[36]][_$_90b0[1158]]= function(_0x6BB4){var _0xBD76={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:false}};this[_$_90b0[1159]](_0xBD76,_0x6BB4)};_0xE868[_$_90b0[36]][_$_90b0[1160]]= function(_0x6BB4){var _0xBD76={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}};this[_$_90b0[1159]](_0xBD76,_0x6BB4)};_0xE868[_$_90b0[36]][_$_90b0[747]]= function(_0x9142,_0x6BB4){var _0x91CC=arguments[_$_90b0[47]]=== 2;var _0x6034=_0x91CC?_0x6BB4:_0x9142;var _0xBD76=_0x91CC&& _0x9142?_0x9142:{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};this[_$_90b0[1159]](_0xBD76,_0x6034)};_0xE868[_$_90b0[36]][_$_90b0[1161]]= function(_0xEAEC,_0x6BB4){_0x6BB4= _0x6BB4|| function(){};var _0x6B58=this;if(_0xEAEC[_$_90b0[1132]]){_0xEAEC[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xEAEC[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[491]][_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1139]});_0x6B58[_$_90b0[675]]= _0xEAEC[_$_90b0[1132]];_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){var _0x6E0A=_0xE94E[_$_90b0[155]]|| {};if(_0x6E0A[_$_90b0[1136]]){_0x6B58[_$_90b0[1110]][_$_90b0[1135]][_0xE94E[_$_90b0[164]]]= {ufrag:_0x6E0A[_$_90b0[1136]],pwd:_0x6E0A[_$_90b0[1137]]}}})};_0xEAEC[_$_90b0[657]][_$_90b0[110]](_$_90b0[704])[_$_90b0[23]](function(_0xA5BE){if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x6B58[_$_90b0[1129]](_0xA5BE)}});_0x6B58[_$_90b0[1102]][_$_90b0[618]]( new RTCSessionDescription(_0xEAEC),function(){if(_0x6B58[_$_90b0[1099]]){window[_$_90b0[499]](function(){_0x6B58[_$_90b0[1101]][_$_90b0[23]](function(_0xA7E6){_0x6B58[_$_90b0[1102]][_$_90b0[619]]( new RTCIceCandidate(_0xA7E6),function(){},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC)});_0x6B58[_$_90b0[1129]](_0xA7E6[_$_90b0[698]])});_0x6B58[_$_90b0[1101]]= null},_0x6B58[_$_90b0[1099]])};_0x6BB4(null)},_0x6BB4)};_0xE868[_$_90b0[36]][_$_90b0[166]]= function(){this[_$_90b0[1102]][_$_90b0[166]]();this[_$_90b0[1119]]= [];this[_$_90b0[1118]]= [];this[_$_90b0[83]](_$_90b0[166])};_0xE868[_$_90b0[36]][_$_90b0[1159]]= function(_0x9142,_0x6BB4){_0x6BB4= _0x6BB4|| function(){};var _0x6B58=this;if(!this[_$_90b0[1102]][_$_90b0[675]]){throw  new Error(_$_90b0[1162])};if(this[_$_90b0[1102]][_$_90b0[676]]=== _$_90b0[185]){return _0x6BB4(_$_90b0[1142])};_0x6B58[_$_90b0[1102]][_$_90b0[615]](function(_0xEAEC){var _0xEC00=[];if(_0x6B58[_$_90b0[1085]]){_0xEAEC[_$_90b0[1132]]= _0xE896[_$_90b0[1145]](_0xEAEC[_$_90b0[657]],{role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]});if(_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[47]]>= 2&& _0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[164]]=== _$_90b0[9]){var _0xEB48=_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1163]]|| [];var _0xEB76=false;_0xEB48[_$_90b0[23]](function(_0xEC2E){if(_0xEC2E[_$_90b0[1164]]== _$_90b0[1165]){_0xEB76= true}});if(!_0xEB76&& _0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][_$_90b0[47]]){var _0xEBA4=JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][0]));_0xEBA4[_$_90b0[742]]= _$_90b0[24]+ Math[_$_90b0[39]](Math[_$_90b0[38]]()* 0xffffffff);_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][_$_90b0[75]](_0xEBA4);_0xEC00[_$_90b0[75]](_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][0][_$_90b0[742]]);_0xEC00[_$_90b0[75]](_0xEBA4[_$_90b0[742]]);_0xEB48[_$_90b0[75]]({semantics:_$_90b0[1165],sources:_0xEC00});var _0xEBD2=JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0xEBA4));_0xEBD2[_$_90b0[742]]= _$_90b0[24]+ Math[_$_90b0[39]](Math[_$_90b0[38]]()* 0xffffffff);_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][_$_90b0[75]](_0xEBD2);_0xEB48[_$_90b0[75]]({semantics:_$_90b0[1166],sources:[_0xEBA4[_$_90b0[742]],_0xEBD2[_$_90b0[742]]]});_0xEAEC[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1163]]= _0xEB48;_0xEAEC[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xEAEC[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[491]][_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]})}}};var _0xEB1A={type:_$_90b0[747],sdp:_0xEAEC[_$_90b0[657]]};if(_0x6B58[_$_90b0[1097]]){var _0x69BA=_0xC364(_0xEB1A);_0x6B58[_$_90b0[83]](_$_90b0[747],_0x69BA);_0x6BB4(null,_0x69BA)};_0x6B58[_$_90b0[1120]]= [];_0x6B58[_$_90b0[1102]][_$_90b0[617]](_0xEAEC,function(){if(_0x6B58[_$_90b0[491]][_$_90b0[1143]]){var _0xEA62=_0xE896[_$_90b0[1145]](_0xEAEC[_$_90b0[657]],{role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]});_0xEA62[_$_90b0[157]]= _0x6B58[_$_90b0[491]][_$_90b0[157]];_0x6B58[_$_90b0[674]]= _0xEA62;_0xEB1A[_$_90b0[1132]]= _0xEA62};if(_0x6B58[_$_90b0[1085]]){if(!_0xEB1A[_$_90b0[1132]]){_0xEB1A[_$_90b0[1132]]= _0xE896[_$_90b0[1145]](_0xEAEC[_$_90b0[657]],{role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]})};_0xEB1A[_$_90b0[1132]][_$_90b0[1131]][1][_$_90b0[1149]][_$_90b0[1150]][_$_90b0[23]](function(_0xBA68,_0x9E60){_0xBA68[_$_90b0[1167]]= _0xBA68[_$_90b0[1167]][_$_90b0[612]](function(_0xEC5C){if(_0xEC5C[_$_90b0[141]]=== _$_90b0[1153]){_0xEC5C[_$_90b0[295]]+= _$_90b0[360]+ Math[_$_90b0[39]](_0x9E60/ 2)};return _0xEC5C})});_0xEB1A[_$_90b0[657]]= _0xE896[_$_90b0[1140]](_0xEB1A[_$_90b0[1132]],{sid:_0x6B58[_$_90b0[1138]],role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]})};_0xEB1A[_$_90b0[657]][_$_90b0[110]](_$_90b0[704])[_$_90b0[23]](function(_0xA5BE){if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x6B58[_$_90b0[1125]](_0xA5BE)}});if(!_0x6B58[_$_90b0[1097]]){var _0x69BA=_0xC364(_0xEB1A);_0x6B58[_$_90b0[83]](_$_90b0[747],_0x69BA);_0x6BB4(null,_0x69BA)}},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC);_0x6BB4(_0x60EC)})},function(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC);_0x6BB4(_0x60EC)},_0x9142)};_0xE868[_$_90b0[36]][_$_90b0[1107]]= function(_0x6AFC){var _0x6B58=this;if(_0x6AFC[_$_90b0[698]]){if(this[_$_90b0[1096]]){return};var _0xECE6=_0x6AFC[_$_90b0[698]];var _0xECB8={candidate:{candidate:_0xECE6[_$_90b0[698]],sdpMid:_0xECE6[_$_90b0[805]],sdpMLineIndex:_0xECE6[_$_90b0[702]]}};this[_$_90b0[1125]](_0xECE6[_$_90b0[698]]);var _0xA0B6=_0xE896[_$_90b0[1126]](_0xECE6[_$_90b0[698]]);var _0xEC8A;var _0x9E60;if(this[_$_90b0[1094]]&& _0xA0B6[_$_90b0[65]]=== _$_90b0[684]){_0xEC8A= this[_$_90b0[1120]][_$_90b0[641]](function(_0x7DAC){return _0x7DAC[_$_90b0[65]]=== _$_90b0[684]})[_$_90b0[612]](function(_0x7DAC){return _0x7DAC[_$_90b0[1168]]+ _$_90b0[109]+ _0x7DAC[_$_90b0[726]]});_0x9E60= _0xEC8A[_$_90b0[52]](_0xA0B6[_$_90b0[1168]]+ _$_90b0[109]+ _0xA0B6[_$_90b0[726]]);if(_0x9E60>  -1&& ((_0xA0B6[_$_90b0[1169]]>> 24)>= (_0xEC8A[_0x9E60][_$_90b0[1169]]>> 24))){return}};if(this[_$_90b0[491]][_$_90b0[688]]=== _$_90b0[689]){_0xEC8A= this[_$_90b0[1120]][_$_90b0[641]](function(_0x7DAC){return _0xA0B6[_$_90b0[65]]=== _0x7DAC[_$_90b0[65]]})[_$_90b0[612]](function(_0xA0B6){return _0xA0B6[_$_90b0[1170]]+ _$_90b0[109]+ _0xA0B6[_$_90b0[105]]});_0x9E60= _0xEC8A[_$_90b0[52]](_0xA0B6[_$_90b0[1170]]+ _$_90b0[109]+ _0xA0B6[_$_90b0[105]]);if(_0x9E60>  -1){return}};if(this[_$_90b0[491]][_$_90b0[1171]]=== _$_90b0[628]&& _0xA0B6[_$_90b0[726]]=== _$_90b0[1172]){return};this[_$_90b0[1120]][_$_90b0[75]](_0xA0B6);if(_0x6B58[_$_90b0[491]][_$_90b0[1143]]){if(!_0xECE6[_$_90b0[805]]){if(_0x6B58[_$_90b0[1102]][_$_90b0[675]]&& _0x6B58[_$_90b0[1102]][_$_90b0[675]][_$_90b0[65]]=== _$_90b0[744]){_0xECE6[_$_90b0[805]]= _0x6B58[_$_90b0[675]][_$_90b0[1131]][_0xECE6[_$_90b0[702]]][_$_90b0[164]]}else {_0xECE6[_$_90b0[805]]= _0x6B58[_$_90b0[674]][_$_90b0[1131]][_0xECE6[_$_90b0[702]]][_$_90b0[164]]}};if(!_0x6B58[_$_90b0[1110]][_$_90b0[1146]][_0xECE6[_$_90b0[805]]]){var _0xEA62=_0xE896[_$_90b0[1145]](_0x6B58[_$_90b0[1102]][_$_90b0[674]][_$_90b0[657]],{role:_0x6B58[_$_90b0[1121]](),direction:_$_90b0[1144]});_0xEA62[_$_90b0[1131]][_$_90b0[23]](function(_0xE94E){var _0x6E0A=_0xE94E[_$_90b0[155]]|| {};if(_0x6E0A[_$_90b0[1136]]){_0x6B58[_$_90b0[1110]][_$_90b0[1146]][_0xE94E[_$_90b0[164]]]= {ufrag:_0x6E0A[_$_90b0[1136]],pwd:_0x6E0A[_$_90b0[1137]]}}})};_0xECB8[_$_90b0[1132]]= {contents:[{name:_0xECE6[_$_90b0[805]],creator:_0x6B58[_$_90b0[1121]](),transport:{transportType:_$_90b0[1173],ufrag:_0x6B58[_$_90b0[1110]][_$_90b0[1146]][_0xECE6[_$_90b0[805]]][_$_90b0[1136]],pwd:_0x6B58[_$_90b0[1110]][_$_90b0[1146]][_0xECE6[_$_90b0[805]]][_$_90b0[1137]],candidates:[_0xA0B6]}}]};if(_0x6B58[_$_90b0[1090]]> 0){if(_0x6B58[_$_90b0[1092]][_$_90b0[47]]=== 0){window[_$_90b0[499]](function(){var _0xE8F2={};_0x6B58[_$_90b0[1092]][_$_90b0[23]](function(_0xE94E){_0xE94E= _0xE94E[_$_90b0[1131]][0];if(!_0xE8F2[_0xE94E[_$_90b0[164]]]){_0xE8F2[_0xE94E[_$_90b0[164]]]= _0xE94E};_0xE8F2[_0xE94E[_$_90b0[164]]][_$_90b0[155]][_$_90b0[1133]][_$_90b0[75]](_0xE94E[_$_90b0[155]][_$_90b0[1133]][0])});var _0xED14={jingle:{contents:[]}};Object[_$_90b0[488]](_0xE8F2)[_$_90b0[23]](function(_0x6DAE){_0xED14[_$_90b0[1132]][_$_90b0[1131]][_$_90b0[75]](_0xE8F2[_0x6DAE])});_0x6B58[_$_90b0[1092]]= [];_0x6B58[_$_90b0[83]](_$_90b0[1174],_0xED14)},_0x6B58[_$_90b0[1090]])};_0x6B58[_$_90b0[1092]][_$_90b0[75]](_0xECB8[_$_90b0[1132]]);return}};this[_$_90b0[83]](_$_90b0[1174],_0xECB8)}else {this[_$_90b0[83]](_$_90b0[807])}};_0xE868[_$_90b0[36]][_$_90b0[1108]]= function(_0x6AFC){var _0x8F76=_0x6AFC[_$_90b0[492]];this[_$_90b0[1118]][_$_90b0[75]](_0x8F76);this[_$_90b0[83]](_$_90b0[1175],_0x8F76)};_0xE868[_$_90b0[36]][_$_90b0[1058]]= function(_0x6DAE,_0x6370){var _0x8F76=this[_$_90b0[1102]][_$_90b0[1058]](_0x6DAE,_0x6370);this[_$_90b0[1119]][_$_90b0[75]](_0x8F76);return _0x8F76};_0xE868[_$_90b0[36]][_$_90b0[609]]= function(_0x6BB4){this[_$_90b0[1102]][_$_90b0[609]](null,function(_0xA870){_0x6BB4(null,_0xA870)},function(_0x60EC){_0x6BB4(_0x60EC)})};_0x5F4E[_$_90b0[0]]= _0xE868},{"lodash.clonedeep":47,"sdp-jingle-json":57,"traceablepeerconnection":76,"util":89,"webrtc-adapter":90,"wildemitter":100}],57:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xEDFA=_0x5FD8(_$_90b0[1176]);var _0xEDCC=_0x5FD8(_$_90b0[1177]);_0x5F20[_$_90b0[1178]]= function(_0xEE28){return _0xEDFA[_$_90b0[1140]](_0xEE28,{role:_$_90b0[1124],direction:_$_90b0[1139]})};_0x5F20[_$_90b0[1179]]= function(_0xEE28){return _0xEDFA[_$_90b0[1140]](_0xEE28,{role:_$_90b0[1123],direction:_$_90b0[1144]})};_0x5F20[_$_90b0[1180]]= function(_0xEE28){return _0xEDFA[_$_90b0[1140]](_0xEE28,{role:_$_90b0[1123],direction:_$_90b0[1139]})};_0x5F20[_$_90b0[1181]]= function(_0xEE28){return _0xEDFA[_$_90b0[1140]](_0xEE28,{role:_$_90b0[1124],direction:_$_90b0[1144]})};_0x5F20[_$_90b0[1182]]= function(_0xEE56){return _0xEDFA[_$_90b0[1183]](_0xEE56,{role:_$_90b0[1124],direction:_$_90b0[1139]})};_0x5F20[_$_90b0[1184]]= function(_0xEE56){return _0xEDFA[_$_90b0[1183]](_0xEE56,{role:_$_90b0[1123],direction:_$_90b0[1144]})};_0x5F20[_$_90b0[1185]]= function(_0xEE56){return _0xEDFA[_$_90b0[1183]](_0xEE56,{role:_$_90b0[1123],direction:_$_90b0[1139]})};_0x5F20[_$_90b0[1186]]= function(_0xEE56){return _0xEDFA[_$_90b0[1183]](_0xEE56,{role:_$_90b0[1124],direction:_$_90b0[1144]})};_0x5F20[_$_90b0[1134]]= _0xEDFA[_$_90b0[1134]];_0x5F20[_$_90b0[1183]]= _0xEDFA[_$_90b0[1183]];_0x5F20[_$_90b0[1140]]= _0xEDFA[_$_90b0[1140]];_0x5F20[_$_90b0[1187]]= function(_0xA72E,_0xEE84){return _0xEDCC[_$_90b0[1145]](_0xA72E,{role:_$_90b0[1124],direction:_$_90b0[1139],creators:_0xEE84})};_0x5F20[_$_90b0[1188]]= function(_0xA72E,_0xEE84){return _0xEDCC[_$_90b0[1145]](_0xA72E,{role:_$_90b0[1123],direction:_$_90b0[1144],creators:_0xEE84})};_0x5F20[_$_90b0[1189]]= function(_0xA72E,_0xEE84){return _0xEDCC[_$_90b0[1145]](_0xA72E,{role:_$_90b0[1123],direction:_$_90b0[1139],creators:_0xEE84})};_0x5F20[_$_90b0[1190]]= function(_0xA72E,_0xEE84){return _0xEDCC[_$_90b0[1145]](_0xA72E,{role:_$_90b0[1124],direction:_$_90b0[1144],creators:_0xEE84})};_0x5F20[_$_90b0[1191]]= function(_0xA72E,_0xEEB2){return _0xEDCC[_$_90b0[1192]](_0xA72E,{role:_$_90b0[1124],direction:_$_90b0[1139],creator:_0xEEB2})};_0x5F20[_$_90b0[1193]]= function(_0xA72E,_0xEEB2){return _0xEDCC[_$_90b0[1192]](_0xA72E,{role:_$_90b0[1123],direction:_$_90b0[1144],creator:_0xEEB2})};_0x5F20[_$_90b0[1194]]= function(_0xA72E,_0xEEB2){return _0xEDCC[_$_90b0[1192]](_0xA72E,{role:_$_90b0[1123],direction:_$_90b0[1139],creator:_0xEEB2})};_0x5F20[_$_90b0[1195]]= function(_0xA72E,_0xEEB2){return _0xEDCC[_$_90b0[1192]](_0xA72E,{role:_$_90b0[1124],direction:_$_90b0[1144],creator:_0xEEB2})};_0x5F20[_$_90b0[1126]]= _0xEDCC[_$_90b0[1126]];_0x5F20[_$_90b0[1192]]= _0xEDCC[_$_90b0[1192]];_0x5F20[_$_90b0[1145]]= _0xEDCC[_$_90b0[1145]]},{"./lib/tojson":60,"./lib/tosdp":61}],58:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F20[_$_90b0[1196]]= function(_0xA72E){return _0xA72E[_$_90b0[110]](_$_90b0[704])[_$_90b0[641]](function(_0xA5BE){return _0xA5BE[_$_90b0[47]]> 0})};_0x5F20[_$_90b0[1197]]= function(_0x63FA,_0xEEE0,_0xEF3C){var _0xEF0E=_0x63FA[_$_90b0[47]];for(var _0x6200=0;_0x6200< _0xEEE0[_$_90b0[47]];_0x6200++){if(_0xEEE0[_0x6200][_$_90b0[425]](0,_0xEF0E)=== _0x63FA){return _0xEEE0[_0x6200]}};if(!_0xEF3C){return false};for(var _0x725A=0;_0x725A< _0xEF3C[_$_90b0[47]];_0x725A++){if(_0xEF3C[_0x725A][_$_90b0[425]](0,_0xEF0E)=== _0x63FA){return _0xEF3C[_0x725A]}};return false};_0x5F20[_$_90b0[1198]]= function(_0x63FA,_0xEEE0,_0xEF3C){var _0x892C=[];var _0xEF0E=_0x63FA[_$_90b0[47]];for(var _0x6200=0;_0x6200< _0xEEE0[_$_90b0[47]];_0x6200++){if(_0xEEE0[_0x6200][_$_90b0[425]](0,_0xEF0E)=== _0x63FA){_0x892C[_$_90b0[75]](_0xEEE0[_0x6200])}};if(_0x892C[_$_90b0[47]]||  !_0xEF3C){return _0x892C};for(var _0x725A=0;_0x725A< _0xEF3C[_$_90b0[47]];_0x725A++){if(_0xEF3C[_0x725A][_$_90b0[425]](0,_0xEF0E)=== _0x63FA){_0x892C[_$_90b0[75]](_0xEF3C[_0x725A])}};return _0x892C};_0x5F20[_$_90b0[1199]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](2)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={media:_0x833E[0],port:_0x833E[1],proto:_0x833E[2],formats:[]};for(var _0x6200=3;_0x6200< _0x833E[_$_90b0[47]];_0x6200++){if(_0x833E[_0x6200]){_0xEF6A[_$_90b0[1200]][_$_90b0[75]](_0x833E[_0x6200])}};return _0xEF6A};_0x5F20[_$_90b0[1201]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](9)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={id:_0x833E[_$_90b0[112]]()};_0x833E= _0x833E[0][_$_90b0[110]](_$_90b0[122]);_0xEF6A[_$_90b0[164]]= _0x833E[0];_0xEF6A[_$_90b0[1202]]= _0x833E[1];_0xEF6A[_$_90b0[1203]]= _0x833E[_$_90b0[47]]== 3?_0x833E[2]:_$_90b0[755];return _0xEF6A};_0x5F20[_$_90b0[1204]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](10)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={number:_0x833E[_$_90b0[112]](),protocol:_0x833E[_$_90b0[112]](),streams:_0x833E[_$_90b0[112]]()};return _0xEF6A};_0x5F20[_$_90b0[1205]]= function(_0xA5BE){var _0xEF98,_0x6BE2,_0xB75A;var _0x833E=_0xA5BE[_$_90b0[425]](_0xA5BE[_$_90b0[52]](_$_90b0[403])+ 1)[_$_90b0[110]](_$_90b0[335]);var _0xEF6A=[];for(var _0x6200=0;_0x6200< _0x833E[_$_90b0[47]];_0x6200++){_0xEF98= _0x833E[_0x6200][_$_90b0[110]](_$_90b0[49]);_0x6BE2= _0xEF98[0][_$_90b0[808]]();_0xB75A= _0xEF98[1];if(_0x6BE2&& _0xB75A){_0xEF6A[_$_90b0[75]]({key:_0x6BE2,value:_0xB75A})}else {if(_0x6BE2){_0xEF6A[_$_90b0[75]]({key:_$_90b0[24],value:_0x6BE2})}}};return _0xEF6A};_0x5F20[_$_90b0[1206]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](9)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={tag:_0x833E[0],cipherSuite:_0x833E[1],keyParams:_0x833E[2],sessionParams:_0x833E[_$_90b0[4]](3)[_$_90b0[483]](_$_90b0[403])};return _0xEF6A};_0x5F20[_$_90b0[1207]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](14)[_$_90b0[110]](_$_90b0[403]);return {hash:_0x833E[0],value:_0x833E[1]}};_0x5F20[_$_90b0[1208]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](9)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={};var _0xEFC6=_0x833E[_$_90b0[112]]();var _0xEFF4=_0xEFC6[_$_90b0[52]](_$_90b0[122]);if(_0xEFF4>= 0){_0xEF6A[_$_90b0[156]]= _0xEFC6[_$_90b0[425]](0,_0xEFF4);_0xEF6A[_$_90b0[1209]]= _0xEFC6[_$_90b0[425]](_0xEFF4+ 1)}else {_0xEF6A[_$_90b0[156]]= _0xEFC6;_0xEF6A[_$_90b0[1209]]= _$_90b0[782]};_0xEF6A[_$_90b0[262]]= _0x833E[_$_90b0[112]]()|| _$_90b0[24];return _0xEF6A};_0x5F20[_$_90b0[1210]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](10)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={};_0xEF6A[_$_90b0[156]]= _0x833E[_$_90b0[112]]();_0xEF6A[_$_90b0[65]]= _0x833E[_$_90b0[112]]();if(_0xEF6A[_$_90b0[65]]=== _$_90b0[1211]){_0xEF6A[_$_90b0[295]]= _0x833E[_$_90b0[112]]()}else {_0xEF6A[_$_90b0[1212]]= _0x833E[_$_90b0[112]]()|| _$_90b0[24]};_0xEF6A[_$_90b0[1167]]= _0x833E;return _0xEF6A};_0x5F20[_$_90b0[698]]= function(_0xA5BE){var _0x833E;if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x833E= _0xA5BE[_$_90b0[48]](12)[_$_90b0[110]](_$_90b0[403])}else {_0x833E= _0xA5BE[_$_90b0[48]](10)[_$_90b0[110]](_$_90b0[403])};var _0xA7E6={foundation:_0x833E[0],component:_0x833E[1],protocol:_0x833E[2][_$_90b0[11]](),priority:_0x833E[3],ip:_0x833E[4],port:_0x833E[5],type:_0x833E[7],generation:_$_90b0[753]};for(var _0x6200=8;_0x6200< _0x833E[_$_90b0[47]];_0x6200+= 2){if(_0x833E[_0x6200]=== _$_90b0[1213]){_0xA7E6[_$_90b0[1214]]= _0x833E[_0x6200+ 1]}else {if(_0x833E[_0x6200]=== _$_90b0[1215]){_0xA7E6[_$_90b0[1216]]= _0x833E[_0x6200+ 1]}else {if(_0x833E[_0x6200]=== _$_90b0[1217]){_0xA7E6[_$_90b0[1217]]= _0x833E[_0x6200+ 1]}else {if(_0x833E[_0x6200]=== _$_90b0[1218]){_0xA7E6[_$_90b0[1219]]= _0x833E[_0x6200+ 1]}}}}};_0xA7E6[_$_90b0[1220]]= _$_90b0[755];return _0xA7E6};_0x5F20[_$_90b0[1163]]= function(_0xA44E){var _0xEF6A=[];for(var _0x6200=0;_0x6200< _0xA44E[_$_90b0[47]];_0x6200++){var _0x833E=_0xA44E[_0x6200][_$_90b0[425]](13)[_$_90b0[110]](_$_90b0[403]);_0xEF6A[_$_90b0[75]]({semantics:_0x833E[_$_90b0[112]](),sources:_0x833E})};return _0xEF6A};_0x5F20[_$_90b0[1150]]= function(_0xA44E){var _0xEF6A=[];var _0xEABE={};for(var _0x6200=0;_0x6200< _0xA44E[_$_90b0[47]];_0x6200++){var _0x833E=_0xA44E[_0x6200][_$_90b0[425]](7)[_$_90b0[110]](_$_90b0[403]);var _0xF050=_0x833E[_$_90b0[112]]();if(!_0xEABE[_0xF050]){var _0xBA68={ssrc:_0xF050,parameters:[]};_0xEF6A[_$_90b0[75]](_0xBA68);_0xEABE[_0xF050]= _0xBA68};_0x833E= _0x833E[_$_90b0[483]](_$_90b0[403])[_$_90b0[110]](_$_90b0[109]);var _0xF022=_0x833E[_$_90b0[112]]();var _0xB75A=_0x833E[_$_90b0[483]](_$_90b0[109])|| null;_0xEABE[_0xF050][_$_90b0[1167]][_$_90b0[75]]({key:_0xF022,value:_0xB75A})};return _0xEF6A};_0x5F20[_$_90b0[1221]]= function(_0xA44E){var _0xEF6A=[];var _0x833E;for(var _0x6200=0;_0x6200< _0xA44E[_$_90b0[47]];_0x6200++){_0x833E= _0xA44E[_0x6200][_$_90b0[425]](8)[_$_90b0[110]](_$_90b0[403]);_0xEF6A[_$_90b0[75]]({semantics:_0x833E[_$_90b0[112]](),contents:_0x833E})};return _0xEF6A};_0x5F20[_$_90b0[1156]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](2)[_$_90b0[110]](_$_90b0[109]);var _0xEF6A={};_0xEF6A[_$_90b0[65]]= _0x833E[_$_90b0[112]]();_0xEF6A[_$_90b0[1156]]= _0x833E[_$_90b0[112]]();return _0xEF6A};_0x5F20[_$_90b0[1153]]= function(_0xA5BE){var _0x70BC=_0xA5BE[_$_90b0[425]](7);var _0x833E=_0x70BC[_$_90b0[110]](_$_90b0[403]);return {msid:_0x70BC,mslabel:_0x833E[0],label:_0x833E[1]}}},{}],59:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= {initiator:{incoming:{initiator:_$_90b0[784],responder:_$_90b0[783],both:_$_90b0[782],none:_$_90b0[1222],recvonly:_$_90b0[1123],sendonly:_$_90b0[1124],sendrecv:_$_90b0[1223],inactive:_$_90b0[686]},outgoing:{initiator:_$_90b0[783],responder:_$_90b0[784],both:_$_90b0[782],none:_$_90b0[1222],recvonly:_$_90b0[1124],sendonly:_$_90b0[1123],sendrecv:_$_90b0[1223],inactive:_$_90b0[686]}},responder:{incoming:{initiator:_$_90b0[783],responder:_$_90b0[784],both:_$_90b0[782],none:_$_90b0[1222],recvonly:_$_90b0[1124],sendonly:_$_90b0[1123],sendrecv:_$_90b0[1223],inactive:_$_90b0[686]},outgoing:{initiator:_$_90b0[784],responder:_$_90b0[783],both:_$_90b0[782],none:_$_90b0[1222],recvonly:_$_90b0[1123],sendonly:_$_90b0[1124],sendrecv:_$_90b0[1223],inactive:_$_90b0[686]}}}},{}],60:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xF0DA=_0x5FD8(_$_90b0[1224]);var _0xF0AC=_0x5FD8(_$_90b0[1225]);var _0xF07E=Math[_$_90b0[38]]();_0x5F20[_$_90b0[1226]]= function(_0xF108){_0xF07E= _0xF108};_0x5F20[_$_90b0[1145]]= function(_0xA72E,_0x6370){var _0x6200;var _0xEE84=_0x6370[_$_90b0[1227]]|| [];var _0xF164=_0x6370[_$_90b0[760]]|| _$_90b0[1123];var _0xA3C4=_0x6370[_$_90b0[1228]]|| _$_90b0[1144];var _0xEE56=_0xA72E[_$_90b0[110]](_$_90b0[1229]);for(_0x6200= 1;_0x6200< _0xEE56[_$_90b0[47]];_0x6200++){_0xEE56[_0x6200]= _$_90b0[1230]+ _0xEE56[_0x6200];if(_0x6200!== _0xEE56[_$_90b0[47]]- 1){_0xEE56[_0x6200]+= _$_90b0[704]}};var _0xEE28=_0xEE56[_$_90b0[112]]()+ _$_90b0[704];var _0xEF3C=_0xF0AC[_$_90b0[1196]](_0xEE28);var _0xEF6A={};var _0xE8F2=[];for(_0x6200= 0;_0x6200< _0xEE56[_$_90b0[47]];_0x6200++){_0xE8F2[_$_90b0[75]](_0x5F20[_$_90b0[1192]](_0xEE56[_0x6200],_0xEE28,{role:_0xF164,direction:_0xA3C4,creator:_0xEE84[_0x6200]|| _$_90b0[1123]}))};_0xEF6A[_$_90b0[1131]]= _0xE8F2;var _0xF136=_0xF0AC[_$_90b0[1198]](_$_90b0[1231],_0xEF3C);if(_0xF136[_$_90b0[47]]){_0xEF6A[_$_90b0[1221]]= _0xF0AC[_$_90b0[1221]](_0xF136)};return _0xEF6A};_0x5F20[_$_90b0[1192]]= function(_0xEE56,_0xEE28,_0x6370){var _0xEEB2=_0x6370[_$_90b0[1232]]|| _$_90b0[1123];var _0xF164=_0x6370[_$_90b0[760]]|| _$_90b0[1123];var _0xA3C4=_0x6370[_$_90b0[1228]]|| _$_90b0[1144];var _0xA44E=_0xF0AC[_$_90b0[1196]](_0xEE56);var _0xEF3C=_0xF0AC[_$_90b0[1196]](_0xEE28);var _0xA4AA=_0xF0AC[_$_90b0[1199]](_0xA44E[0]);var _0xE94E={creator:_0xEEB2,name:_0xA4AA[_$_90b0[953]],application:{applicationType:_$_90b0[1233],media:_0xA4AA[_$_90b0[953]],payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:_$_90b0[1173],candidates:[],fingerprints:[]}};if(_0xA4AA[_$_90b0[953]]== _$_90b0[1149]){_0xE94E[_$_90b0[1149]]= {applicationType:_$_90b0[1234]};_0xE94E[_$_90b0[155]][_$_90b0[1235]]= []};var _0x71D0=_0xE94E[_$_90b0[1149]];var _0xF416=_0xE94E[_$_90b0[155]];var _0xA05A=_0xF0AC[_$_90b0[1197]](_$_90b0[774],_0xA44E);if(_0xA05A){_0xE94E[_$_90b0[164]]= _0xA05A[_$_90b0[425]](6)};if(_0xF0AC[_$_90b0[1197]](_$_90b0[1236],_0xA44E,_0xEF3C)){_0xE94E[_$_90b0[1209]]= _$_90b0[1223]}else {if(_0xF0AC[_$_90b0[1197]](_$_90b0[1237],_0xA44E,_0xEF3C)){_0xE94E[_$_90b0[1209]]= _0xF0DA[_0xF164][_0xA3C4][_$_90b0[783]]}else {if(_0xF0AC[_$_90b0[1197]](_$_90b0[1238],_0xA44E,_0xEF3C)){_0xE94E[_$_90b0[1209]]= _0xF0DA[_0xF164][_0xA3C4][_$_90b0[784]]}else {if(_0xF0AC[_$_90b0[1197]](_$_90b0[1239],_0xA44E,_0xEF3C)){_0xE94E[_$_90b0[1209]]= _$_90b0[686]}}}};if(_0x71D0[_$_90b0[1240]]== _$_90b0[1233]){var _0xF192=_0xF0AC[_$_90b0[1197]](_$_90b0[1241],_0xA44E);if(_0xF192){_0x71D0[_$_90b0[1156]]= _0xF0AC[_$_90b0[1156]](_0xF192)};var _0xF050=_0xF0AC[_$_90b0[1197]](_$_90b0[778],_0xA44E);if(_0xF050){_0x71D0[_$_90b0[742]]= _0xF050[_$_90b0[425]](7)[_$_90b0[110]](_$_90b0[403])[0]};var _0xF330=_0xF0AC[_$_90b0[1198]](_$_90b0[1242],_0xA44E);_0xF330[_$_90b0[23]](function(_0xA5BE){var _0xF4A0=_0xF0AC[_$_90b0[1201]](_0xA5BE);_0xF4A0[_$_90b0[1167]]= [];_0xF4A0[_$_90b0[1243]]= [];var _0xF472=_0xF0AC[_$_90b0[1198]](_$_90b0[1244]+ _0xF4A0[_$_90b0[156]],_0xA44E);_0xF472[_$_90b0[23]](function(_0xA5BE){_0xF4A0[_$_90b0[1167]]= _0xF0AC[_$_90b0[1205]](_0xA5BE)});var _0xF24A=_0xF0AC[_$_90b0[1198]](_$_90b0[1245]+ _0xF4A0[_$_90b0[156]],_0xA44E);_0xF24A[_$_90b0[23]](function(_0xA5BE){_0xF4A0[_$_90b0[1243]][_$_90b0[75]](_0xF0AC[_$_90b0[1210]](_0xA5BE))});_0x71D0[_$_90b0[1246]][_$_90b0[75]](_0xF4A0)});var _0xF1EE=_0xF0AC[_$_90b0[1198]](_$_90b0[1247],_0xA44E,_0xEF3C);_0xF1EE[_$_90b0[23]](function(_0xA5BE){_0x71D0[_$_90b0[1248]][_$_90b0[75]](_0xF0AC[_$_90b0[1206]](_0xA5BE))});if(_0xF0AC[_$_90b0[1197]](_$_90b0[1249],_0xA44E)){_0x71D0[_$_90b0[1250]]= true};var _0xF24A=_0xF0AC[_$_90b0[1198]](_$_90b0[1251],_0xA44E);_0xF24A[_$_90b0[23]](function(_0xA5BE){_0x71D0[_$_90b0[1243]][_$_90b0[75]](_0xF0AC[_$_90b0[1210]](_0xA5BE))});var _0xF21C=_0xF0AC[_$_90b0[1198]](_$_90b0[1252],_0xA44E);_0xF21C[_$_90b0[23]](function(_0xA5BE){var _0xF4CE=_0xF0AC[_$_90b0[1208]](_0xA5BE);_0xF4CE[_$_90b0[1209]]= _0xF0DA[_0xF164][_0xA3C4][_0xF4CE[_$_90b0[1209]]];_0x71D0[_$_90b0[721]][_$_90b0[75]](_0xF4CE)});var _0xF3BA=_0xF0AC[_$_90b0[1198]](_$_90b0[1253],_0xA44E);_0x71D0[_$_90b0[1163]]= _0xF0AC[_$_90b0[1163]](_0xF3BA|| []);var _0xF3E8=_0xF0AC[_$_90b0[1198]](_$_90b0[778],_0xA44E);var _0xEABE=_0x71D0[_$_90b0[1150]]= _0xF0AC[_$_90b0[1150]](_0xF3E8|| []);var _0xF2D4=_0xF0AC[_$_90b0[1197]](_$_90b0[1254],_0xA44E);if(_0xF2D4){var _0xF2A6=_0xF0AC[_$_90b0[1153]](_0xF2D4);[_$_90b0[1153],_$_90b0[1255],_$_90b0[643]][_$_90b0[23]](function(_0x6BE2){for(var _0x6200=0;_0x6200< _0xEABE[_$_90b0[47]];_0x6200++){var _0xF4FC=false;for(var _0x725A=0;_0x725A< _0xEABE[_0x6200][_$_90b0[1167]][_$_90b0[47]];_0x725A++){if(_0xEABE[_0x6200][_$_90b0[1167]][_0x725A][_$_90b0[141]]=== _0x6BE2){_0xF4FC= true}};if(!_0xF4FC){_0xEABE[_0x6200][_$_90b0[1167]][_$_90b0[75]]({key:_0x6BE2,value:_0xF2A6[_0x6BE2]})}}})};if(_0xF0AC[_$_90b0[1197]](_$_90b0[1256],_0xA44E,_0xEF3C)){_0x71D0[_$_90b0[1148]]= true}};var _0xF278=_0xF0AC[_$_90b0[1198]](_$_90b0[1257],_0xA44E,_0xEF3C);var _0xF38C=_0xF0AC[_$_90b0[1197]](_$_90b0[1258],_0xA44E,_0xEF3C);_0xF278[_$_90b0[23]](function(_0xA5BE){var _0xF52A=_0xF0AC[_$_90b0[1207]](_0xA5BE);if(_0xF38C){_0xF52A[_$_90b0[1259]]= _0xF38C[_$_90b0[425]](8)};_0xF416[_$_90b0[1260]][_$_90b0[75]](_0xF52A)});var _0xF444=_0xF0AC[_$_90b0[1197]](_$_90b0[1261],_0xA44E,_0xEF3C);var _0xF302=_0xF0AC[_$_90b0[1197]](_$_90b0[1262],_0xA44E,_0xEF3C);if(_0xF444&& _0xF302){_0xF416[_$_90b0[1136]]= _0xF444[_$_90b0[425]](12);_0xF416[_$_90b0[1137]]= _0xF302[_$_90b0[425]](10);_0xF416[_$_90b0[1133]]= [];var _0xF1C0=_0xF0AC[_$_90b0[1198]](_$_90b0[757],_0xA44E,_0xEF3C);_0xF1C0[_$_90b0[23]](function(_0xA5BE){_0xF416[_$_90b0[1133]][_$_90b0[75]](_0x5F20[_$_90b0[1126]](_0xA5BE))})};if(_0x71D0[_$_90b0[1240]]== _$_90b0[1234]){var _0xF35E=_0xF0AC[_$_90b0[1198]](_$_90b0[1263],_0xA44E);_0xF35E[_$_90b0[23]](function(_0xA5BE){var _0xF558=_0xF0AC[_$_90b0[1204]](_0xA5BE);_0xF416[_$_90b0[1235]][_$_90b0[75]](_0xF558)})};return _0xE94E};_0x5F20[_$_90b0[1126]]= function(_0xA5BE){var _0xA7E6=_0xF0AC[_$_90b0[698]](_0xA5BE[_$_90b0[110]](_$_90b0[704])[0]);_0xA7E6[_$_90b0[156]]= (_0xF07E++)[_$_90b0[485]](36)[_$_90b0[425]](0,12);return _0xA7E6}},{"./parsers":58,"./senders":59}],61:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xF0DA=_0x5FD8(_$_90b0[1224]);_0x5F20[_$_90b0[1140]]= function(_0xEE28,_0x6370){var _0xF164=_0x6370[_$_90b0[760]]|| _$_90b0[1123];var _0xA3C4=_0x6370[_$_90b0[1228]]|| _$_90b0[1144];var _0xF5B4=_0x6370[_$_90b0[157]]|| _0xEE28[_$_90b0[157]]|| Date[_$_90b0[1109]]();var _0xB9DE=_0x6370[_$_90b0[1264]]|| Date[_$_90b0[1109]]();var _0xA72E=[_$_90b0[1265],_$_90b0[1266]+ _0xF5B4+ _$_90b0[403]+ _0xB9DE+ _$_90b0[1267],_$_90b0[1268],_$_90b0[1269]];var _0xE8F2=_0xEE28[_$_90b0[1131]]|| [];var _0xF586=false;_0xE8F2[_$_90b0[23]](function(_0xE94E){if(_0xE94E[_$_90b0[1149]][_$_90b0[1150]]&& _0xE94E[_$_90b0[1149]][_$_90b0[1150]][_$_90b0[47]]){_0xF586= true}});if(_0xF586){_0xA72E[_$_90b0[75]](_$_90b0[1270])};var _0xEB48=_0xEE28[_$_90b0[1221]]|| [];_0xEB48[_$_90b0[23]](function(_0xEC2E){_0xA72E[_$_90b0[75]](_$_90b0[1231]+ _0xEC2E[_$_90b0[1164]]+ _$_90b0[403]+ _0xEC2E[_$_90b0[1131]][_$_90b0[483]](_$_90b0[403]))});_0xE8F2[_$_90b0[23]](function(_0xE94E){_0xA72E[_$_90b0[75]](_0x5F20[_$_90b0[1183]](_0xE94E,_0x6370))});return _0xA72E[_$_90b0[483]](_$_90b0[704])+ _$_90b0[704]};_0x5F20[_$_90b0[1183]]= function(_0xE94E,_0x6370){var _0xA72E=[];var _0xF164=_0x6370[_$_90b0[760]]|| _$_90b0[1123];var _0xA3C4=_0x6370[_$_90b0[1228]]|| _$_90b0[1144];var _0x71D0=_0xE94E[_$_90b0[1149]];var _0x6E0A=_0xE94E[_$_90b0[155]];var _0xF66C=_0x71D0[_$_90b0[1246]]|| [];var _0xF610=(_0x6E0A&& _0x6E0A[_$_90b0[1260]])|| [];var _0xA4AA=[];if(_0x71D0[_$_90b0[1240]]== _$_90b0[1234]){_0xA4AA[_$_90b0[75]](_$_90b0[1149]);_0xA4AA[_$_90b0[75]](_$_90b0[755]);_0xA4AA[_$_90b0[75]](_$_90b0[1271]);if(_0x6E0A[_$_90b0[1235]]){_0x6E0A[_$_90b0[1235]][_$_90b0[23]](function(_0x85C2){_0xA4AA[_$_90b0[75]](_0x85C2[_$_90b0[495]])})}}else {_0xA4AA[_$_90b0[75]](_0x71D0[_$_90b0[953]]);_0xA4AA[_$_90b0[75]](_$_90b0[755]);if(_0xF610[_$_90b0[47]]> 0){_0xA4AA[_$_90b0[75]](_$_90b0[1272])}else {if(_0x71D0[_$_90b0[1248]]&& _0x71D0[_$_90b0[1248]][_$_90b0[47]]> 0){_0xA4AA[_$_90b0[75]](_$_90b0[1273])}else {_0xA4AA[_$_90b0[75]](_$_90b0[1274])}};_0xF66C[_$_90b0[23]](function(_0xF4A0){_0xA4AA[_$_90b0[75]](_0xF4A0[_$_90b0[156]])})};_0xA72E[_$_90b0[75]](_$_90b0[1230]+ _0xA4AA[_$_90b0[483]](_$_90b0[403]));_0xA72E[_$_90b0[75]](_$_90b0[1275]);if(_0x71D0[_$_90b0[1156]]&& _0x71D0[_$_90b0[1156]][_$_90b0[65]]&& _0x71D0[_$_90b0[1156]][_$_90b0[1156]]){_0xA72E[_$_90b0[75]](_$_90b0[1241]+ _0x71D0[_$_90b0[1156]][_$_90b0[65]]+ _$_90b0[109]+ _0x71D0[_$_90b0[1156]][_$_90b0[1156]])};if(_0x71D0[_$_90b0[1240]]== _$_90b0[1233]){_0xA72E[_$_90b0[75]](_$_90b0[1276])};if(_0x6E0A){if(_0x6E0A[_$_90b0[1136]]){_0xA72E[_$_90b0[75]](_$_90b0[1261]+ _0x6E0A[_$_90b0[1136]])};if(_0x6E0A[_$_90b0[1137]]){_0xA72E[_$_90b0[75]](_$_90b0[1262]+ _0x6E0A[_$_90b0[1137]])};var _0xF69A=false;_0xF610[_$_90b0[23]](function(_0xF724){_0xA72E[_$_90b0[75]](_$_90b0[1257]+ _0xF724[_$_90b0[1037]]+ _$_90b0[403]+ _0xF724[_$_90b0[295]]);if(_0xF724[_$_90b0[1259]]&&  !_0xF69A){_0xA72E[_$_90b0[75]](_$_90b0[1258]+ _0xF724[_$_90b0[1259]])}});if(_0x6E0A[_$_90b0[1235]]){_0x6E0A[_$_90b0[1235]][_$_90b0[23]](function(_0x85C2){_0xA72E[_$_90b0[75]](_$_90b0[1263]+ _0x85C2[_$_90b0[495]]+ _$_90b0[403]+ _0x85C2[_$_90b0[102]]+ _$_90b0[403]+ _0x85C2[_$_90b0[596]])})}};if(_0x71D0[_$_90b0[1240]]== _$_90b0[1233]){_0xA72E[_$_90b0[75]](_$_90b0[703]+ (_0xF0DA[_0xF164][_0xA3C4][_0xE94E[_$_90b0[1209]]]|| _$_90b0[782]))};_0xA72E[_$_90b0[75]](_$_90b0[774]+ _0xE94E[_$_90b0[164]]);if(_0x71D0[_$_90b0[1150]]&& _0x71D0[_$_90b0[1150]][_$_90b0[47]]){(_0x71D0[_$_90b0[1150]][0][_$_90b0[1167]]|| [])[_$_90b0[23]](function(_0xF752){if(_0xF752[_$_90b0[141]]=== _$_90b0[1153]){_0xA72E[_$_90b0[75]](_$_90b0[1254]+ _0xF752[_$_90b0[295]])}})};if(_0x71D0[_$_90b0[1250]]){_0xA72E[_$_90b0[75]](_$_90b0[1249])};var _0xF5E2=_0x71D0[_$_90b0[1248]]|| [];_0xF5E2[_$_90b0[23]](function(_0xF780){_0xA72E[_$_90b0[75]](_$_90b0[1247]+ _0xF780[_$_90b0[1277]]+ _$_90b0[403]+ _0xF780[_$_90b0[1278]]+ _$_90b0[403]+ _0xF780[_$_90b0[1279]]+ (_0xF780[_$_90b0[1280]]?_$_90b0[403]+ _0xF780[_$_90b0[1280]]:_$_90b0[24]))});if(_0x71D0[_$_90b0[1148]]){_0xA72E[_$_90b0[75]](_$_90b0[1256])};_0xF66C[_$_90b0[23]](function(_0xF4A0){var _0xF80A=_$_90b0[1242]+ _0xF4A0[_$_90b0[156]]+ _$_90b0[403]+ _0xF4A0[_$_90b0[164]]+ _$_90b0[122]+ _0xF4A0[_$_90b0[1202]];if(_0xF4A0[_$_90b0[1203]]&& _0xF4A0[_$_90b0[1203]]!= _$_90b0[755]){_0xF80A+= _$_90b0[122]+ _0xF4A0[_$_90b0[1203]]};_0xA72E[_$_90b0[75]](_0xF80A);if(_0xF4A0[_$_90b0[1167]]&& _0xF4A0[_$_90b0[1167]][_$_90b0[47]]){var _0xF7AE=[_$_90b0[1244]+ _0xF4A0[_$_90b0[156]]];var _0xF7DC=[];_0xF4A0[_$_90b0[1167]][_$_90b0[23]](function(_0xF752){_0xF7DC[_$_90b0[75]]((_0xF752[_$_90b0[141]]?_0xF752[_$_90b0[141]]+ _$_90b0[49]:_$_90b0[24])+ _0xF752[_$_90b0[295]])});_0xF7AE[_$_90b0[75]](_0xF7DC[_$_90b0[483]](_$_90b0[335]));_0xA72E[_$_90b0[75]](_0xF7AE[_$_90b0[483]](_$_90b0[403]))};if(_0xF4A0[_$_90b0[1243]]){_0xF4A0[_$_90b0[1243]][_$_90b0[23]](function(_0xF838){if(_0xF838[_$_90b0[65]]=== _$_90b0[1211]){_0xA72E[_$_90b0[75]](_$_90b0[1245]+ _0xF4A0[_$_90b0[156]]+ _$_90b0[1281]+ (_0xF838[_$_90b0[295]]?_0xF838[_$_90b0[295]]:_$_90b0[753]))}else {_0xA72E[_$_90b0[75]](_$_90b0[1245]+ _0xF4A0[_$_90b0[156]]+ _$_90b0[403]+ _0xF838[_$_90b0[65]]+ (_0xF838[_$_90b0[1212]]?_$_90b0[403]+ _0xF838[_$_90b0[1212]]:_$_90b0[24]))}})}});if(_0x71D0[_$_90b0[1243]]){_0x71D0[_$_90b0[1243]][_$_90b0[23]](function(_0xF838){if(_0xF838[_$_90b0[65]]=== _$_90b0[1211]){_0xA72E[_$_90b0[75]](_$_90b0[1282]+ (_0xF838[_$_90b0[295]]?_0xF838[_$_90b0[295]]:_$_90b0[753]))}else {_0xA72E[_$_90b0[75]](_$_90b0[1283]+ _0xF838[_$_90b0[65]]+ (_0xF838[_$_90b0[1212]]?_$_90b0[403]+ _0xF838[_$_90b0[1212]]:_$_90b0[24]))}})};var _0xF63E=_0x71D0[_$_90b0[721]]|| [];_0xF63E[_$_90b0[23]](function(_0xF866){_0xA72E[_$_90b0[75]](_$_90b0[1252]+ _0xF866[_$_90b0[156]]+ (_0xF866[_$_90b0[1209]]?_$_90b0[122]+ _0xF0DA[_0xF164][_0xA3C4][_0xF866[_$_90b0[1209]]]:_$_90b0[24])+ _$_90b0[403]+ _0xF866[_$_90b0[262]])});var _0xF6C8=_0x71D0[_$_90b0[1163]]|| [];_0xF6C8[_$_90b0[23]](function(_0xF894){_0xA72E[_$_90b0[75]](_$_90b0[1253]+ _0xF894[_$_90b0[1164]]+ _$_90b0[403]+ _0xF894[_$_90b0[1150]][_$_90b0[483]](_$_90b0[403]))});var _0xF6F6=_0x71D0[_$_90b0[1150]]|| [];_0xF6F6[_$_90b0[23]](function(_0xF050){for(var _0x6200=0;_0x6200< _0xF050[_$_90b0[1167]][_$_90b0[47]];_0x6200++){var _0xF752=_0xF050[_$_90b0[1167]][_0x6200];_0xA72E[_$_90b0[75]](_$_90b0[778]+ (_0xF050[_$_90b0[742]]|| _0x71D0[_$_90b0[742]])+ _$_90b0[403]+ _0xF752[_$_90b0[141]]+ (_0xF752[_$_90b0[295]]?(_$_90b0[109]+ _0xF752[_$_90b0[295]]):_$_90b0[24]))}});var _0xE920=_0x6E0A[_$_90b0[1133]]|| [];_0xE920[_$_90b0[23]](function(_0xA7E6){_0xA72E[_$_90b0[75]](_0x5F20[_$_90b0[1134]](_0xA7E6))});return _0xA72E[_$_90b0[483]](_$_90b0[704])};_0x5F20[_$_90b0[1134]]= function(_0xA7E6){var _0xA72E=[];_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1168]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[726]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[102]][_$_90b0[632]]());_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1169]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1128]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[105]]);var _0x7118=_0xA7E6[_$_90b0[65]];_0xA72E[_$_90b0[75]](_$_90b0[1284]);_0xA72E[_$_90b0[75]](_0x7118);if(_0x7118=== _$_90b0[1127]|| _0x7118=== _$_90b0[1285]|| _0x7118=== _$_90b0[684]){if(_0xA7E6[_$_90b0[1214]]&& _0xA7E6[_$_90b0[1216]]){_0xA72E[_$_90b0[75]](_$_90b0[1213]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1214]]);_0xA72E[_$_90b0[75]](_$_90b0[1215]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1216]])}};if(_0xA7E6[_$_90b0[1219]]&& _0xA7E6[_$_90b0[102]][_$_90b0[632]]()== _$_90b0[1286]){_0xA72E[_$_90b0[75]](_$_90b0[1218]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1219]])};_0xA72E[_$_90b0[75]](_$_90b0[1217]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1217]]|| _$_90b0[753]);return _$_90b0[757]+ _0xA72E[_$_90b0[483]](_$_90b0[403])}},{"./senders":59}],62:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9CC2={};_0x9CC2[_$_90b0[775]]= function(){return Math[_$_90b0[38]]()[_$_90b0[485]](36)[_$_90b0[425]](2,10)};_0x9CC2[_$_90b0[740]]= _0x9CC2[_$_90b0[775]]();_0x9CC2[_$_90b0[770]]= function(_0x8BDE){return _0x8BDE[_$_90b0[808]]()[_$_90b0[110]](_$_90b0[752])[_$_90b0[612]](function(_0xA5BE){return _0xA5BE[_$_90b0[808]]()})};_0x9CC2[_$_90b0[697]]= function(_0x8BDE){var _0x833E=_0x8BDE[_$_90b0[110]](_$_90b0[1287]);return _0x833E[_$_90b0[612]](function(_0xF8C2,_0x6C6C){return (_0x6C6C> 0?_$_90b0[1230]+ _0xF8C2:_0xF8C2)[_$_90b0[808]]()+ _$_90b0[704]})};_0x9CC2[_$_90b0[749]]= function(_0x8BDE,_0x63FA){return _0x9CC2[_$_90b0[770]](_0x8BDE)[_$_90b0[641]](function(_0xA5BE){return _0xA5BE[_$_90b0[52]](_0x63FA)=== 0})};_0x9CC2[_$_90b0[756]]= function(_0xA5BE){var _0x833E;if(_0xA5BE[_$_90b0[52]](_$_90b0[757])=== 0){_0x833E= _0xA5BE[_$_90b0[48]](12)[_$_90b0[110]](_$_90b0[403])}else {_0x833E= _0xA5BE[_$_90b0[48]](10)[_$_90b0[110]](_$_90b0[403])};var _0xA7E6={foundation:_0x833E[0],component:_0x833E[1],protocol:_0x833E[2][_$_90b0[11]](),priority:parseInt(_0x833E[3],10),ip:_0x833E[4],port:parseInt(_0x833E[5],10),type:_0x833E[7]};for(var _0x6200=8;_0x6200< _0x833E[_$_90b0[47]];_0x6200+= 2){switch(_0x833E[_0x6200]){case _$_90b0[1213]:_0xA7E6[_$_90b0[1288]]= _0x833E[_0x6200+ 1];break;case _$_90b0[1215]:_0xA7E6[_$_90b0[1289]]= parseInt(_0x833E[_0x6200+ 1],10);break;case _$_90b0[1218]:_0xA7E6[_$_90b0[1219]]= _0x833E[_0x6200+ 1];break;default:break}};return _0xA7E6};_0x9CC2[_$_90b0[728]]= function(_0xA7E6){var _0xA72E=[];_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1168]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[726]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[102]][_$_90b0[632]]());_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1169]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1128]]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[105]]);var _0x7118=_0xA7E6[_$_90b0[65]];_0xA72E[_$_90b0[75]](_$_90b0[1284]);_0xA72E[_$_90b0[75]](_0x7118);if(_0x7118!== _$_90b0[100]&& _0xA7E6[_$_90b0[1288]]&& _0xA7E6[_$_90b0[1289]]){_0xA72E[_$_90b0[75]](_$_90b0[1213]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1288]]);_0xA72E[_$_90b0[75]](_$_90b0[1215]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1289]])};if(_0xA7E6[_$_90b0[1219]]&& _0xA7E6[_$_90b0[102]][_$_90b0[11]]()=== _$_90b0[806]){_0xA72E[_$_90b0[75]](_$_90b0[1218]);_0xA72E[_$_90b0[75]](_0xA7E6[_$_90b0[1219]])};return _$_90b0[1290]+ _0xA72E[_$_90b0[483]](_$_90b0[403])};_0x9CC2[_$_90b0[1291]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](9)[_$_90b0[110]](_$_90b0[403]);var _0xEF6A={payloadType:parseInt(_0x833E[_$_90b0[112]](),10)};_0x833E= _0x833E[0][_$_90b0[110]](_$_90b0[122]);_0xEF6A[_$_90b0[164]]= _0x833E[0];_0xEF6A[_$_90b0[719]]= parseInt(_0x833E[1],10);_0xEF6A[_$_90b0[720]]= _0x833E[_$_90b0[47]]=== 3?parseInt(_0x833E[2],10):1;return _0xEF6A};_0x9CC2[_$_90b0[1292]]= function(_0xF8F0){var _0xF91E=_0xF8F0[_$_90b0[1293]];if(_0xF8F0[_$_90b0[1294]]!== undefined){_0xF91E= _0xF8F0[_$_90b0[1294]]};return _$_90b0[1242]+ _0xF91E+ _$_90b0[403]+ _0xF8F0[_$_90b0[164]]+ _$_90b0[122]+ _0xF8F0[_$_90b0[719]]+ (_0xF8F0[_$_90b0[720]]!== 1?_$_90b0[122]+ _0xF8F0[_$_90b0[720]]:_$_90b0[24])+ _$_90b0[704]};_0x9CC2[_$_90b0[1295]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](9)[_$_90b0[110]](_$_90b0[403]);return {id:parseInt(_0x833E[0],10),uri:_0x833E[1]}};_0x9CC2[_$_90b0[1296]]= function(_0xF94C){return _$_90b0[1252]+ (_0xF94C[_$_90b0[156]]|| _0xF94C[_$_90b0[1297]])+ _$_90b0[403]+ _0xF94C[_$_90b0[262]]+ _$_90b0[704]};_0x9CC2[_$_90b0[1298]]= function(_0xA5BE){var _0xEF6A={};var _0xEF98;var _0x833E=_0xA5BE[_$_90b0[425]](_0xA5BE[_$_90b0[52]](_$_90b0[403])+ 1)[_$_90b0[110]](_$_90b0[335]);for(var _0x725A=0;_0x725A< _0x833E[_$_90b0[47]];_0x725A++){_0xEF98= _0x833E[_0x725A][_$_90b0[808]]()[_$_90b0[110]](_$_90b0[49]);_0xEF6A[_0xEF98[0][_$_90b0[808]]()]= _0xEF98[1]};return _0xEF6A};_0x9CC2[_$_90b0[1299]]= function(_0xF8F0){var _0xA5BE=_$_90b0[24];var _0xF91E=_0xF8F0[_$_90b0[1293]];if(_0xF8F0[_$_90b0[1294]]!== undefined){_0xF91E= _0xF8F0[_$_90b0[1294]]};if(_0xF8F0[_$_90b0[1167]]&& Object[_$_90b0[488]](_0xF8F0[_$_90b0[1167]])[_$_90b0[47]]){var _0xA112=[];Object[_$_90b0[488]](_0xF8F0[_$_90b0[1167]])[_$_90b0[23]](function(_0xF752){_0xA112[_$_90b0[75]](_0xF752+ _$_90b0[49]+ _0xF8F0[_$_90b0[1167]][_0xF752])});_0xA5BE+= _$_90b0[1244]+ _0xF91E+ _$_90b0[403]+ _0xA112[_$_90b0[483]](_$_90b0[335])+ _$_90b0[704]};return _0xA5BE};_0x9CC2[_$_90b0[1300]]= function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[425]](_0xA5BE[_$_90b0[52]](_$_90b0[403])+ 1)[_$_90b0[110]](_$_90b0[403]);return {type:_0x833E[_$_90b0[112]](),parameter:_0x833E[_$_90b0[483]](_$_90b0[403])}};_0x9CC2[_$_90b0[1301]]= function(_0xF8F0){var _0xA44E=_$_90b0[24];var _0xF91E=_0xF8F0[_$_90b0[1293]];if(_0xF8F0[_$_90b0[1294]]!== undefined){_0xF91E= _0xF8F0[_$_90b0[1294]]};if(_0xF8F0[_$_90b0[1302]]&& _0xF8F0[_$_90b0[1302]][_$_90b0[47]]){_0xF8F0[_$_90b0[1302]][_$_90b0[23]](function(_0xF838){_0xA44E+= _$_90b0[1245]+ _0xF91E+ _$_90b0[403]+ _0xF838[_$_90b0[65]]+ (_0xF838[_$_90b0[1303]]&& _0xF838[_$_90b0[1303]][_$_90b0[47]]?_$_90b0[403]+ _0xF838[_$_90b0[1303]]:_$_90b0[24])+ _$_90b0[704]})};return _0xA44E};_0x9CC2[_$_90b0[777]]= function(_0xA5BE){var _0xEFF4=_0xA5BE[_$_90b0[52]](_$_90b0[403]);var _0x833E={ssrc:parseInt(_0xA5BE[_$_90b0[425]](7,_0xEFF4- 7),10)};var _0xF97A=_0xA5BE[_$_90b0[52]](_$_90b0[109],_0xEFF4);if(_0xF97A>  -1){_0x833E[_$_90b0[776]]= _0xA5BE[_$_90b0[425]](_0xEFF4+ 1,_0xF97A- _0xEFF4- 1);_0x833E[_$_90b0[295]]= _0xA5BE[_$_90b0[425]](_0xF97A+ 1)}else {_0x833E[_$_90b0[776]]= _0xA5BE[_$_90b0[425]](_0xEFF4+ 1)};return _0x833E};_0x9CC2[_$_90b0[759]]= function(_0xA282,_0xA226){var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);_0xA44E= _0xA44E[_$_90b0[70]](_0x9CC2[_$_90b0[770]](_0xA226));var _0xF9D6=_0xA44E[_$_90b0[641]](function(_0xA5BE){return _0xA5BE[_$_90b0[52]](_$_90b0[1257])=== 0})[0][_$_90b0[425]](14);var _0xF9A8={role:_$_90b0[1304],fingerprints:[{algorithm:_0xF9D6[_$_90b0[110]](_$_90b0[403])[0],value:_0xF9D6[_$_90b0[110]](_$_90b0[403])[1]}]};return _0xF9A8};_0x9CC2[_$_90b0[1305]]= function(_0xA112,_0xFA04){var _0xA72E=_$_90b0[1258]+ _0xFA04+ _$_90b0[704];_0xA112[_$_90b0[1260]][_$_90b0[23]](function(_0xF52A){_0xA72E+= _$_90b0[1257]+ _0xF52A[_$_90b0[1306]]+ _$_90b0[403]+ _0xF52A[_$_90b0[295]]+ _$_90b0[704]});return _0xA72E};_0x9CC2[_$_90b0[754]]= function(_0xA282,_0xA226){var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);_0xA44E= _0xA44E[_$_90b0[70]](_0x9CC2[_$_90b0[770]](_0xA226));var _0xFA32={usernameFragment:_0xA44E[_$_90b0[641]](function(_0xA5BE){return _0xA5BE[_$_90b0[52]](_$_90b0[1261])=== 0})[0][_$_90b0[425]](12),password:_0xA44E[_$_90b0[641]](function(_0xA5BE){return _0xA5BE[_$_90b0[52]](_$_90b0[1262])=== 0})[0][_$_90b0[425]](10)};return _0xFA32};_0x9CC2[_$_90b0[1307]]= function(_0xA112){return _$_90b0[1261]+ _0xA112[_$_90b0[1308]]+ _$_90b0[704]+ _$_90b0[1262]+ _0xA112[_$_90b0[451]]+ _$_90b0[704]};_0x9CC2[_$_90b0[746]]= function(_0xA282){var _0xA19C={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]};var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);var _0xA4AA=_0xA44E[0][_$_90b0[110]](_$_90b0[403]);for(var _0x6200=3;_0x6200< _0xA4AA[_$_90b0[47]];_0x6200++){var _0xF91E=_0xA4AA[_0x6200];var _0xFA8E=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1242]+ _0xF91E+ _$_90b0[403])[0];if(_0xFA8E){var _0xF8F0=_0x9CC2[_$_90b0[1291]](_0xFA8E);var _0xFA60=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1244]+ _0xF91E+ _$_90b0[403]);_0xF8F0[_$_90b0[1167]]= _0xFA60[_$_90b0[47]]?_0x9CC2[_$_90b0[1298]](_0xFA60[0]):{};_0xF8F0[_$_90b0[1302]]= _0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1245]+ _0xF91E+ _$_90b0[403])[_$_90b0[612]](_0x9CC2[_$_90b0[1300]]);_0xA19C[_$_90b0[718]][_$_90b0[75]](_0xF8F0);switch(_0xF8F0[_$_90b0[164]][_$_90b0[632]]()){case _$_90b0[1309]:;case _$_90b0[1311]:_0xA19C[_$_90b0[1310]][_$_90b0[75]](_0xF8F0[_$_90b0[164]][_$_90b0[632]]());break;default:break}}};_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1252])[_$_90b0[23]](function(_0xA5BE){_0xA19C[_$_90b0[721]][_$_90b0[75]](_0x9CC2[_$_90b0[1295]](_0xA5BE))});return _0xA19C};_0x9CC2[_$_90b0[1312]]= function(_0xA420,_0xA254){var _0xA72E=_$_90b0[24];_0xA72E+= _$_90b0[1230]+ _0xA420+ _$_90b0[403];_0xA72E+= _0xA254[_$_90b0[718]][_$_90b0[47]]> 0?_$_90b0[1313]:_$_90b0[753];_0xA72E+= _$_90b0[1314];_0xA72E+= _0xA254[_$_90b0[718]][_$_90b0[612]](function(_0xF8F0){if(_0xF8F0[_$_90b0[1294]]!== undefined){return _0xF8F0[_$_90b0[1294]]};return _0xF8F0[_$_90b0[1293]]})[_$_90b0[483]](_$_90b0[403])+ _$_90b0[704];_0xA72E+= _$_90b0[1315];_0xA72E+= _$_90b0[1316];_0xA254[_$_90b0[718]][_$_90b0[23]](function(_0xF8F0){_0xA72E+= _0x9CC2[_$_90b0[1292]](_0xF8F0);_0xA72E+= _0x9CC2[_$_90b0[1299]](_0xF8F0);_0xA72E+= _0x9CC2[_$_90b0[1301]](_0xF8F0)});var _0xFABC=0;_0xA254[_$_90b0[718]][_$_90b0[23]](function(_0xF8F0){if(_0xF8F0[_$_90b0[1317]]> _0xFABC){_0xFABC= _0xF8F0[_$_90b0[1317]]}});if(_0xFABC> 0){_0xA72E+= _$_90b0[1318]+ _0xFABC+ _$_90b0[704]};_0xA72E+= _$_90b0[1319];_0xA254[_$_90b0[721]][_$_90b0[23]](function(_0xFAEA){_0xA72E+= _0x9CC2[_$_90b0[1296]](_0xFAEA)});return _0xA72E};_0x9CC2[_$_90b0[773]]= function(_0xA282){var _0xFB18=[];var _0xA19C=_0x9CC2[_$_90b0[746]](_0xA282);var _0xFB74=_0xA19C[_$_90b0[1310]][_$_90b0[52]](_$_90b0[1309])!==  -1;var _0xFBA2=_0xA19C[_$_90b0[1310]][_$_90b0[52]](_$_90b0[1311])!==  -1;var _0xF6F6=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[778])[_$_90b0[612]](function(_0xA5BE){return _0x9CC2[_$_90b0[777]](_0xA5BE)})[_$_90b0[641]](function(_0x833E){return _0x833E[_$_90b0[776]]=== _$_90b0[743]});var _0xFBD0=_0xF6F6[_$_90b0[47]]> 0&& _0xF6F6[0][_$_90b0[742]];var _0xFBFE;var _0xFB46=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1320])[_$_90b0[612]](function(_0xA5BE){var _0x833E=_0xA5BE[_$_90b0[110]](_$_90b0[403]);_0x833E[_$_90b0[112]]();return _0x833E[_$_90b0[612]](function(_0xF8C2){return parseInt(_0xF8C2,10)})});if(_0xFB46[_$_90b0[47]]> 0&& _0xFB46[0][_$_90b0[47]]> 1&& _0xFB46[0][0]=== _0xFBD0){_0xFBFE= _0xFB46[0][1]};_0xA19C[_$_90b0[718]][_$_90b0[23]](function(_0xF8F0){if(_0xF8F0[_$_90b0[164]][_$_90b0[632]]()=== _$_90b0[1321]&& _0xF8F0[_$_90b0[1167]][_$_90b0[1322]]){var _0xFC2C={ssrc:_0xFBD0,codecPayloadType:parseInt(_0xF8F0[_$_90b0[1167]][_$_90b0[1322]],10),rtx:{ssrc:_0xFBFE}};_0xFB18[_$_90b0[75]](_0xFC2C);if(_0xFB74){_0xFC2C= JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0xFC2C));_0xFC2C[_$_90b0[1323]]= {ssrc:_0xFBFE,mechanism:_0xFBA2?_$_90b0[1324]:_$_90b0[1325]};_0xFB18[_$_90b0[75]](_0xFC2C)}}});if(_0xFB18[_$_90b0[47]]=== 0&& _0xFBD0){_0xFB18[_$_90b0[75]]({ssrc:_0xFBD0})};var _0xF192=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[1241]);if(_0xF192[_$_90b0[47]]){if(_0xF192[0][_$_90b0[52]](_$_90b0[1326])=== 0){_0xF192= parseInt(_0xF192[0][_$_90b0[425]](7),10)}else {if(_0xF192[0][_$_90b0[52]](_$_90b0[1327])=== 0){_0xF192= parseInt(_0xF192[0][_$_90b0[425]](5),10)}};_0xFB18[_$_90b0[23]](function(_0xA112){_0xA112[_$_90b0[1328]]= _0xF192})};return _0xFB18};_0x9CC2[_$_90b0[800]]= function(){return _$_90b0[1329]+ _$_90b0[1330]+ _$_90b0[1331]+ _$_90b0[1332]};_0x9CC2[_$_90b0[803]]= function(_0x9E32,_0xA254,_0x7118,_0x639E){var _0xA72E=_0x9CC2[_$_90b0[1312]](_0x9E32[_$_90b0[639]],_0xA254);_0xA72E+= _0x9CC2[_$_90b0[1307]](_0x9E32[_$_90b0[705]][_$_90b0[1333]]());_0xA72E+= _0x9CC2[_$_90b0[1305]](_0x9E32[_$_90b0[751]][_$_90b0[1333]](),_0x7118=== _$_90b0[744]?_$_90b0[1334]:_$_90b0[1335]);_0xA72E+= _$_90b0[774]+ _0x9E32[_$_90b0[802]]+ _$_90b0[704];if(_0x9E32[_$_90b0[714]]&& _0x9E32[_$_90b0[716]]){_0xA72E+= _$_90b0[1336]}else {if(_0x9E32[_$_90b0[714]]){_0xA72E+= _$_90b0[1337]}else {if(_0x9E32[_$_90b0[716]]){_0xA72E+= _$_90b0[1338]}else {_0xA72E+= _$_90b0[1339]}}};if(_0x9E32[_$_90b0[714]]){var _0xF2A6=_$_90b0[1340]+ _0x639E[_$_90b0[156]]+ _$_90b0[403]+ _0x9E32[_$_90b0[714]][_$_90b0[591]][_$_90b0[156]]+ _$_90b0[704];_0xA72E+= _$_90b0[703]+ _0xF2A6;_0xA72E+= _$_90b0[778]+ _0x9E32[_$_90b0[738]][0][_$_90b0[742]]+ _$_90b0[403]+ _0xF2A6;if(_0x9E32[_$_90b0[738]][0][_$_90b0[1341]]){_0xA72E+= _$_90b0[778]+ _0x9E32[_$_90b0[738]][0][_$_90b0[1341]][_$_90b0[742]]+ _$_90b0[403]+ _0xF2A6;_0xA72E+= _$_90b0[1342]+ _0x9E32[_$_90b0[738]][0][_$_90b0[742]]+ _$_90b0[403]+ _0x9E32[_$_90b0[738]][0][_$_90b0[1341]][_$_90b0[742]]+ _$_90b0[704]}};_0xA72E+= _$_90b0[778]+ _0x9E32[_$_90b0[738]][0][_$_90b0[742]]+ _$_90b0[1343]+ _0x9CC2[_$_90b0[740]]+ _$_90b0[704];if(_0x9E32[_$_90b0[714]]&& _0x9E32[_$_90b0[738]][0][_$_90b0[1341]]){_0xA72E+= _$_90b0[778]+ _0x9E32[_$_90b0[738]][0][_$_90b0[1341]][_$_90b0[742]]+ _$_90b0[1343]+ _0x9CC2[_$_90b0[740]]+ _$_90b0[704]};return _0xA72E};_0x9CC2[_$_90b0[771]]= function(_0xA282,_0xA226){var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);for(var _0x6200=0;_0x6200< _0xA44E[_$_90b0[47]];_0x6200++){switch(_0xA44E[_0x6200]){case _$_90b0[1236]:;case _$_90b0[1237]:;case _$_90b0[1238]:;case _$_90b0[1239]:return _0xA44E[_0x6200][_$_90b0[425]](2);default:}};if(_0xA226){return _0x9CC2[_$_90b0[771]](_0xA226)};return _$_90b0[782]};_0x5F4E[_$_90b0[0]]= _0x9CC2},{}],63:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x5FD8(_$_90b0[87])},{"./lib/":64}],64:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x9DD6=_0x5FD8(_$_90b0[1344]);var _0x6CF6=_0x5FD8(_$_90b0[1345]);var _0xFC88=_0x5FD8(_$_90b0[1346]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[1347]);_0x5F4E[_$_90b0[0]]= _0x5F20= _0xFC5A;var _0x90B8=_0x5F20[_$_90b0[1348]]= {};function _0xFC5A(_0x7312,_0x6370){if( typeof _0x7312== _$_90b0[99]){_0x6370= _0x7312;_0x7312= undefined};_0x6370= _0x6370|| {};var _0xEF6A=_0x9DD6(_0x7312);var _0xBA68=_0xEF6A[_$_90b0[447]];var _0x77EC=_0xEF6A[_$_90b0[156]];var _0xFCB6;if(_0x6370[_$_90b0[1349]]|| _0x6370[_$_90b0[1350]]|| false=== _0x6370[_$_90b0[1351]]){_0x6C3E(_$_90b0[1352],_0xBA68);_0xFCB6= _0xFC88(_0xBA68,_0x6370)}else {if(!_0x90B8[_0x77EC]){_0x6C3E(_$_90b0[1353],_0xBA68);_0x90B8[_0x77EC]= _0xFC88(_0xBA68,_0x6370)};_0xFCB6= _0x90B8[_0x77EC]};return _0xFCB6[_$_90b0[230]](_0xEF6A[_$_90b0[119]])}_0x5F20[_$_90b0[102]]= _0x6CF6[_$_90b0[102]];_0x5F20[_$_90b0[856]]= _0xFC5A;_0x5F20[_$_90b0[1354]]= _0x5FD8(_$_90b0[1346]);_0x5F20[_$_90b0[149]]= _0x5FD8(_$_90b0[88])},{"./manager":65,"./socket":67,"./url":68,"debug":69,"socket.io-parser":71}],65:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x9DD6=_0x5FD8(_$_90b0[1344]);var _0xFD12=_0x5FD8(_$_90b0[1355]);var _0x6D52=_0x5FD8(_$_90b0[88]);var _0x6AA0=_0x5FD8(_$_90b0[92]);var _0x6CF6=_0x5FD8(_$_90b0[1345]);var _0x6B2A=_0x5FD8(_$_90b0[1356]);var _0xFCE4=_0x5FD8(_$_90b0[1357]);var _0xB646=_0x5FD8(_$_90b0[1358]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[1359]);var _0xAE5E=_0x5FD8(_$_90b0[95]);var _0x6456=_0x5FD8(_$_90b0[1360]);_0x5F4E[_$_90b0[0]]= _0xFC88;function _0xFC88(_0x7312,_0x6370){if(!(this instanceof  _0xFC88)){return  new _0xFC88(_0x7312,_0x6370)};if(_0x7312&& (_$_90b0[99]==  typeof _0x7312)){_0x6370= _0x7312;_0x7312= undefined};_0x6370= _0x6370|| {};_0x6370[_$_90b0[119]]= _0x6370[_$_90b0[119]]|| _$_90b0[1361];this[_$_90b0[1362]]= {};this[_$_90b0[1363]]= [];this[_$_90b0[1364]]= _0x6370;this[_$_90b0[1365]](_0x6370[_$_90b0[1365]]!== false);this[_$_90b0[1366]](_0x6370[_$_90b0[1366]]|| Infinity);this[_$_90b0[1367]](_0x6370[_$_90b0[1367]]|| 1000);this[_$_90b0[1368]](_0x6370[_$_90b0[1368]]|| 5000);this[_$_90b0[1369]](_0x6370[_$_90b0[1369]]|| 0.5);this[_$_90b0[1370]]=  new _0x6456({min:this[_$_90b0[1367]](),max:this[_$_90b0[1368]](),jitter:this[_$_90b0[1369]]()});this[_$_90b0[1371]](null== _0x6370[_$_90b0[1371]]?20000:_0x6370[_$_90b0[1371]]);this[_$_90b0[133]]= _$_90b0[185];this[_$_90b0[262]]= _0x7312;this[_$_90b0[789]]= [];this[_$_90b0[1372]]= false;this[_$_90b0[1373]]= [];this[_$_90b0[1374]]=  new _0x6CF6[_$_90b0[1375]]();this[_$_90b0[1376]]=  new _0x6CF6[_$_90b0[1377]]();this[_$_90b0[1378]]= _0x6370[_$_90b0[1378]]!== false;if(this[_$_90b0[1378]]){this[_$_90b0[147]]()}}_0xFC88[_$_90b0[36]][_$_90b0[1379]]= function(){this[_$_90b0[83]][_$_90b0[71]](this,arguments);for(var _0xFD40 in this[_$_90b0[1362]]){this[_$_90b0[1362]][_0xFD40][_$_90b0[83]][_$_90b0[71]](this[_$_90b0[1362]][_0xFD40],arguments)}};_0xFC88[_$_90b0[36]][_$_90b0[1380]]= function(){for(var _0xFD40 in this[_$_90b0[1362]]){this[_$_90b0[1362]][_0xFD40][_$_90b0[156]]= this[_$_90b0[1381]][_$_90b0[156]]}};_0x6AA0(_0xFC88[_$_90b0[36]]);_0xFC88[_$_90b0[36]][_$_90b0[1365]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1382]]};this[_$_90b0[1382]]=  !!_0x7D7E;return this};_0xFC88[_$_90b0[36]][_$_90b0[1366]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1383]]};this[_$_90b0[1383]]= _0x7D7E;return this};_0xFC88[_$_90b0[36]][_$_90b0[1367]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1384]]};this[_$_90b0[1384]]= _0x7D7E;this[_$_90b0[1370]]&& this[_$_90b0[1370]][_$_90b0[41]](_0x7D7E);return this};_0xFC88[_$_90b0[36]][_$_90b0[1369]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1385]]};this[_$_90b0[1385]]= _0x7D7E;this[_$_90b0[1370]]&& this[_$_90b0[1370]][_$_90b0[43]](_0x7D7E);return this};_0xFC88[_$_90b0[36]][_$_90b0[1368]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1386]]};this[_$_90b0[1386]]= _0x7D7E;this[_$_90b0[1370]]&& this[_$_90b0[1370]][_$_90b0[42]](_0x7D7E);return this};_0xFC88[_$_90b0[36]][_$_90b0[1371]]= function(_0x7D7E){if(!arguments[_$_90b0[47]]){return this[_$_90b0[1387]]};this[_$_90b0[1387]]= _0x7D7E;return this};_0xFC88[_$_90b0[36]][_$_90b0[1388]]= function(){if(!this[_$_90b0[1389]]&& this[_$_90b0[1382]] && this[_$_90b0[1370]][_$_90b0[34]]=== 0){this[_$_90b0[1390]]()}};_0xFC88[_$_90b0[36]][_$_90b0[147]]= _0xFC88[_$_90b0[36]][_$_90b0[856]]= function(_0x6A44){_0x6C3E(_$_90b0[1391],this[_$_90b0[133]]);if(~this[_$_90b0[133]][_$_90b0[52]](_$_90b0[147])){return this};_0x6C3E(_$_90b0[1392],this[_$_90b0[262]]);this[_$_90b0[1381]]= _0xFD12(this[_$_90b0[262]],this[_$_90b0[1364]]);var _0xFDCA=this[_$_90b0[1381]];var _0x6B58=this;this[_$_90b0[133]]= _$_90b0[161];this[_$_90b0[1393]]= false;var _0xFD9C=_0x6B2A(_0xFDCA,_$_90b0[147],function(){_0x6B58[_$_90b0[368]]();_0x6A44&& _0x6A44()});var _0xFD6E=_0x6B2A(_0xFDCA,_$_90b0[159],function(_0x70BC){_0x6C3E(_$_90b0[1394]);_0x6B58[_$_90b0[333]]();_0x6B58[_$_90b0[133]]= _$_90b0[185];_0x6B58[_$_90b0[1379]](_$_90b0[1394],_0x70BC);if(_0x6A44){var _0x60EC= new Error(_$_90b0[1395]);_0x60EC[_$_90b0[181]]= _0x70BC;_0x6A44(_0x60EC)}else {_0x6B58[_$_90b0[1388]]()}});if(false!== this[_$_90b0[1387]]){var _0x70EA=this[_$_90b0[1387]];_0x6C3E(_$_90b0[1396],_0x70EA);var _0xFDF8=setTimeout(function(){_0x6C3E(_$_90b0[1397],_0x70EA);_0xFD9C[_$_90b0[1398]]();_0xFDCA[_$_90b0[166]]();_0xFDCA[_$_90b0[83]](_$_90b0[159],_$_90b0[1371]);_0x6B58[_$_90b0[1379]](_$_90b0[1399],_0x70EA)},_0x70EA);this[_$_90b0[1363]][_$_90b0[75]]({destroy:function(){clearTimeout(_0xFDF8)}})};this[_$_90b0[1363]][_$_90b0[75]](_0xFD9C);this[_$_90b0[1363]][_$_90b0[75]](_0xFD6E);return this};_0xFC88[_$_90b0[36]][_$_90b0[368]]= function(){_0x6C3E(_$_90b0[147]);this[_$_90b0[333]]();this[_$_90b0[133]]= _$_90b0[147];this[_$_90b0[83]](_$_90b0[147]);var _0xFDCA=this[_$_90b0[1381]];this[_$_90b0[1363]][_$_90b0[75]](_0x6B2A(_0xFDCA,_$_90b0[181],_0xFCE4(this,_$_90b0[1400])));this[_$_90b0[1363]][_$_90b0[75]](_0x6B2A(this[_$_90b0[1376]],_$_90b0[1401],_0xFCE4(this,_$_90b0[1402])));this[_$_90b0[1363]][_$_90b0[75]](_0x6B2A(_0xFDCA,_$_90b0[159],_0xFCE4(this,_$_90b0[254])));this[_$_90b0[1363]][_$_90b0[75]](_0x6B2A(_0xFDCA,_$_90b0[166],_0xFCE4(this,_$_90b0[369])))};_0xFC88[_$_90b0[36]][_$_90b0[1400]]= function(_0x70BC){this[_$_90b0[1376]][_$_90b0[1015]](_0x70BC)};_0xFC88[_$_90b0[36]][_$_90b0[1402]]= function(_0x6E38){this[_$_90b0[83]](_$_90b0[170],_0x6E38)};_0xFC88[_$_90b0[36]][_$_90b0[254]]= function(_0x60EC){_0x6C3E(_$_90b0[159],_0x60EC);this[_$_90b0[1379]](_$_90b0[159],_0x60EC)};_0xFC88[_$_90b0[36]][_$_90b0[230]]= function(_0xFD40){var _0xFDCA=this[_$_90b0[1362]][_0xFD40];if(!_0xFDCA){_0xFDCA=  new _0x6D52(this,_0xFD40);this[_$_90b0[1362]][_0xFD40]= _0xFDCA;var _0x6B58=this;_0xFDCA[_$_90b0[72]](_$_90b0[856],function(){_0xFDCA[_$_90b0[156]]= _0x6B58[_$_90b0[1381]][_$_90b0[156]];if(!~_0xAE5E(_0x6B58[_$_90b0[789]],_0xFDCA)){_0x6B58[_$_90b0[789]][_$_90b0[75]](_0xFDCA)}})};return _0xFDCA};_0xFC88[_$_90b0[36]][_$_90b0[1398]]= function(_0xFDCA){var _0x6C6C=_0xAE5E(this[_$_90b0[789]],_0xFDCA);if(~_0x6C6C){this[_$_90b0[789]][_$_90b0[82]](_0x6C6C,1)};if(this[_$_90b0[789]][_$_90b0[47]]){return};this[_$_90b0[166]]()};_0xFC88[_$_90b0[36]][_$_90b0[170]]= function(_0x6E38){_0x6C3E(_$_90b0[1403],_0x6E38);var _0x6B58=this;if(!_0x6B58[_$_90b0[1372]]){_0x6B58[_$_90b0[1372]]= true;this[_$_90b0[1374]][_$_90b0[46]](_0x6E38,function(_0x8A40){for(var _0x6200=0;_0x6200< _0x8A40[_$_90b0[47]];_0x6200++){_0x6B58[_$_90b0[1381]][_$_90b0[222]](_0x8A40[_0x6200])};_0x6B58[_$_90b0[1372]]= false;_0x6B58[_$_90b0[1404]]()})}else {_0x6B58[_$_90b0[1373]][_$_90b0[75]](_0x6E38)}};_0xFC88[_$_90b0[36]][_$_90b0[1404]]= function(){if(this[_$_90b0[1373]][_$_90b0[47]]> 0&&  !this[_$_90b0[1372]]){var _0xFE26=this[_$_90b0[1373]][_$_90b0[112]]();this[_$_90b0[170]](_0xFE26)}};_0xFC88[_$_90b0[36]][_$_90b0[333]]= function(){var _0xFE54;while(_0xFE54= this[_$_90b0[1363]][_$_90b0[112]]()){_0xFE54[_$_90b0[1398]]()};this[_$_90b0[1373]]= [];this[_$_90b0[1372]]= false;this[_$_90b0[1376]][_$_90b0[1398]]()};_0xFC88[_$_90b0[36]][_$_90b0[166]]= _0xFC88[_$_90b0[36]][_$_90b0[862]]= function(){this[_$_90b0[1393]]= true;this[_$_90b0[1370]][_$_90b0[40]]();this[_$_90b0[133]]= _$_90b0[185];this[_$_90b0[1381]]&& this[_$_90b0[1381]][_$_90b0[166]]()};_0xFC88[_$_90b0[36]][_$_90b0[369]]= function(_0x71FE){_0x6C3E(_$_90b0[166]);this[_$_90b0[333]]();this[_$_90b0[1370]][_$_90b0[40]]();this[_$_90b0[133]]= _$_90b0[185];this[_$_90b0[83]](_$_90b0[166],_0x71FE);if(this[_$_90b0[1382]]&&  !this[_$_90b0[1393]]){this[_$_90b0[1390]]()}};_0xFC88[_$_90b0[36]][_$_90b0[1390]]= function(){if(this[_$_90b0[1389]]|| this[_$_90b0[1393]]){return this};var _0x6B58=this;if(this[_$_90b0[1370]][_$_90b0[34]]>= this[_$_90b0[1383]]){_0x6C3E(_$_90b0[1405]);this[_$_90b0[1370]][_$_90b0[40]]();this[_$_90b0[1379]](_$_90b0[1406]);this[_$_90b0[1389]]= false}else {var _0xFE82=this[_$_90b0[1370]][_$_90b0[35]]();_0x6C3E(_$_90b0[1407],_0xFE82);this[_$_90b0[1389]]= true;var _0xFDF8=setTimeout(function(){if(_0x6B58[_$_90b0[1393]]){return};_0x6C3E(_$_90b0[1408]);_0x6B58[_$_90b0[1379]](_$_90b0[1409],_0x6B58[_$_90b0[1370]][_$_90b0[34]]);_0x6B58[_$_90b0[1379]](_$_90b0[1389],_0x6B58[_$_90b0[1370]][_$_90b0[34]]);if(_0x6B58[_$_90b0[1393]]){return};_0x6B58[_$_90b0[147]](function(_0x60EC){if(_0x60EC){_0x6C3E(_$_90b0[1410]);_0x6B58[_$_90b0[1389]]= false;_0x6B58[_$_90b0[1390]]();_0x6B58[_$_90b0[1379]](_$_90b0[1411],_0x60EC[_$_90b0[181]])}else {_0x6C3E(_$_90b0[1412]);_0x6B58[_$_90b0[1413]]()}})},_0xFE82);this[_$_90b0[1363]][_$_90b0[75]]({destroy:function(){clearTimeout(_0xFDF8)}})}};_0xFC88[_$_90b0[36]][_$_90b0[1413]]= function(){var _0xFEB0=this[_$_90b0[1370]][_$_90b0[34]];this[_$_90b0[1389]]= false;this[_$_90b0[1370]][_$_90b0[40]]();this[_$_90b0[1380]]();this[_$_90b0[1379]](_$_90b0[1390],_0xFEB0)}},{"./on":66,"./socket":67,"./url":68,"backo2":4,"component-bind":7,"component-emitter":8,"debug":69,"engine.io-client":10,"indexof":44,"object-component":51,"socket.io-parser":71}],66:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x6B2A;function _0x6B2A(_0x6A72,_0x7B84,_0x6A44){_0x6A72[_$_90b0[72]](_0x7B84,_0x6A44);return {destroy:function(){_0x6A72[_$_90b0[79]](_0x7B84,_0x6A44)}}}},{}],67:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x6CF6=_0x5FD8(_$_90b0[1345]);var _0x6AA0=_0x5FD8(_$_90b0[92]);var _0xFF68=_0x5FD8(_$_90b0[1414]);var _0x6B2A=_0x5FD8(_$_90b0[1356]);var _0xFCE4=_0x5FD8(_$_90b0[1357]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[1415]);var _0xFF3A=_0x5FD8(_$_90b0[460]);_0x5F4E[_$_90b0[0]]= _0x5F20= _0x6D52;var _0xFF0C={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1};var _0xFEDE=_0x6AA0[_$_90b0[36]][_$_90b0[83]];function _0x6D52(_0xFCB6,_0xFD40){this[_$_90b0[1416]]= _0xFCB6;this[_$_90b0[1417]]= _0xFD40;this[_$_90b0[884]]= this;this[_$_90b0[1418]]= 0;this[_$_90b0[1419]]= {};if(this[_$_90b0[1416]][_$_90b0[1378]]){this[_$_90b0[147]]()};this[_$_90b0[504]]= [];this[_$_90b0[1420]]= [];this[_$_90b0[789]]= false;this[_$_90b0[792]]= true}_0x6AA0(_0x6D52[_$_90b0[36]]);_0x6D52[_$_90b0[36]][_$_90b0[1421]]= function(){if(this[_$_90b0[1363]]){return};var _0xFCB6=this[_$_90b0[1416]];this[_$_90b0[1363]]= [_0x6B2A(_0xFCB6,_$_90b0[147],_0xFCE4(this,_$_90b0[368])),_0x6B2A(_0xFCB6,_$_90b0[170],_0xFCE4(this,_$_90b0[1422])),_0x6B2A(_0xFCB6,_$_90b0[166],_0xFCE4(this,_$_90b0[369]))]};_0x6D52[_$_90b0[36]][_$_90b0[147]]= _0x6D52[_$_90b0[36]][_$_90b0[856]]= function(){if(this[_$_90b0[789]]){return this};this[_$_90b0[1421]]();this[_$_90b0[1416]][_$_90b0[147]]();if(_$_90b0[147]== this[_$_90b0[1416]][_$_90b0[133]]){this[_$_90b0[368]]()};return this};_0x6D52[_$_90b0[36]][_$_90b0[179]]= function(){var _0x6A16=_0xFF68(arguments);_0x6A16[_$_90b0[1155]](_$_90b0[207]);this[_$_90b0[83]][_$_90b0[71]](this,_0x6A16);return this};_0x6D52[_$_90b0[36]][_$_90b0[83]]= function(_0x7B84){if(_0xFF0C[_$_90b0[158]](_0x7B84)){_0xFEDE[_$_90b0[71]](this,arguments);return this};var _0x6A16=_0xFF68(arguments);var _0xFF96=_0x6CF6[_$_90b0[1423]];if(_0xFF3A(_0x6A16)){_0xFF96= _0x6CF6[_$_90b0[1424]]};var _0x6E38={type:_0xFF96,data:_0x6A16};if(_$_90b0[68]==  typeof _0x6A16[_0x6A16[_$_90b0[47]]- 1]){_0x6C3E(_$_90b0[1425],this[_$_90b0[1418]]);this[_$_90b0[1419]][this[_$_90b0[1418]]]= _0x6A16[_$_90b0[113]]();_0x6E38[_$_90b0[156]]= this[_$_90b0[1418]]++};if(this[_$_90b0[789]]){this[_$_90b0[170]](_0x6E38)}else {this[_$_90b0[1420]][_$_90b0[75]](_0x6E38)};return this};_0x6D52[_$_90b0[36]][_$_90b0[170]]= function(_0x6E38){_0x6E38[_$_90b0[1417]]= this[_$_90b0[1417]];this[_$_90b0[1416]][_$_90b0[170]](_0x6E38)};_0x6D52[_$_90b0[36]][_$_90b0[368]]= function(){_0x6C3E(_$_90b0[1426]);if(_$_90b0[122]!= this[_$_90b0[1417]]){this[_$_90b0[170]]({type:_0x6CF6[_$_90b0[1427]]})}};_0x6D52[_$_90b0[36]][_$_90b0[369]]= function(_0x71FE){_0x6C3E(_$_90b0[1428],_0x71FE);this[_$_90b0[789]]= false;this[_$_90b0[792]]= true;delete this[_$_90b0[156]];this[_$_90b0[83]](_$_90b0[862],_0x71FE)};_0x6D52[_$_90b0[36]][_$_90b0[1422]]= function(_0x6E38){if(_0x6E38[_$_90b0[1417]]!= this[_$_90b0[1417]]){return};switch(_0x6E38[_$_90b0[65]]){case _0x6CF6[_$_90b0[1427]]:this[_$_90b0[1429]]();break;case _0x6CF6[_$_90b0[1423]]:this[_$_90b0[1430]](_0x6E38);break;case _0x6CF6[_$_90b0[1424]]:this[_$_90b0[1430]](_0x6E38);break;case _0x6CF6[_$_90b0[1432]]:this[_$_90b0[1431]](_0x6E38);break;case _0x6CF6[_$_90b0[1433]]:this[_$_90b0[1431]](_0x6E38);break;case _0x6CF6[_$_90b0[1435]]:this[_$_90b0[1434]]();break;case _0x6CF6[_$_90b0[1436]]:this[_$_90b0[83]](_$_90b0[159],_0x6E38[_$_90b0[181]]);break}};_0x6D52[_$_90b0[36]][_$_90b0[1430]]= function(_0x6E38){var _0x6A16=_0x6E38[_$_90b0[181]]|| [];_0x6C3E(_$_90b0[1437],_0x6A16);if(null!= _0x6E38[_$_90b0[156]]){_0x6C3E(_$_90b0[1438]);_0x6A16[_$_90b0[75]](this[_$_90b0[1439]](_0x6E38[_$_90b0[156]]))};if(this[_$_90b0[789]]){_0xFEDE[_$_90b0[71]](this,_0x6A16)}else {this[_$_90b0[504]][_$_90b0[75]](_0x6A16)}};_0x6D52[_$_90b0[36]][_$_90b0[1439]]= function(_0x77EC){var _0x6B58=this;var _0xFFC4=false;return function(){if(_0xFFC4){return};_0xFFC4= true;var _0x6A16=_0xFF68(arguments);_0x6C3E(_$_90b0[1440],_0x6A16);var _0x7118=_0xFF3A(_0x6A16)?_0x6CF6[_$_90b0[1433]]:_0x6CF6[_$_90b0[1432]];_0x6B58[_$_90b0[170]]({type:_0x7118,id:_0x77EC,data:_0x6A16})}};_0x6D52[_$_90b0[36]][_$_90b0[1431]]= function(_0x6E38){_0x6C3E(_$_90b0[1441],_0x6E38[_$_90b0[156]],_0x6E38[_$_90b0[181]]);var _0x6A44=this[_$_90b0[1419]][_0x6E38[_$_90b0[156]]];_0x6A44[_$_90b0[71]](this,_0x6E38[_$_90b0[181]]);delete this[_$_90b0[1419]][_0x6E38[_$_90b0[156]]]};_0x6D52[_$_90b0[36]][_$_90b0[1429]]= function(){this[_$_90b0[789]]= true;this[_$_90b0[792]]= false;this[_$_90b0[83]](_$_90b0[856]);this[_$_90b0[1442]]()};_0x6D52[_$_90b0[36]][_$_90b0[1442]]= function(){var _0x6200;for(_0x6200= 0;_0x6200< this[_$_90b0[504]][_$_90b0[47]];_0x6200++){_0xFEDE[_$_90b0[71]](this,this[_$_90b0[504]][_0x6200])};this[_$_90b0[504]]= [];for(_0x6200= 0;_0x6200< this[_$_90b0[1420]][_$_90b0[47]];_0x6200++){this[_$_90b0[170]](this[_$_90b0[1420]][_0x6200])};this[_$_90b0[1420]]= []};_0x6D52[_$_90b0[36]][_$_90b0[1434]]= function(){_0x6C3E(_$_90b0[1443],this[_$_90b0[1417]]);this[_$_90b0[1398]]();this[_$_90b0[369]](_$_90b0[1444])};_0x6D52[_$_90b0[36]][_$_90b0[1398]]= function(){if(this[_$_90b0[1363]]){for(var _0x6200=0;_0x6200< this[_$_90b0[1363]][_$_90b0[47]];_0x6200++){this[_$_90b0[1363]][_0x6200][_$_90b0[1398]]()};this[_$_90b0[1363]]= null};this[_$_90b0[1416]][_$_90b0[1398]](this)};_0x6D52[_$_90b0[36]][_$_90b0[166]]= _0x6D52[_$_90b0[36]][_$_90b0[862]]= function(){if(this[_$_90b0[789]]){_0x6C3E(_$_90b0[1445],this[_$_90b0[1417]]);this[_$_90b0[170]]({type:_0x6CF6[_$_90b0[1435]]})};this[_$_90b0[1398]]();if(this[_$_90b0[789]]){this[_$_90b0[369]](_$_90b0[1446])};return this}},{"./on":66,"component-bind":7,"component-emitter":8,"debug":69,"has-binary":41,"socket.io-parser":71,"to-array":75}],68:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0x6D24=_0x5FD8(_$_90b0[96]);var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[1447]);_0x5F4E[_$_90b0[0]]= _0x9DD6;function _0x9DD6(_0x7312,_0xFFF2){var _0x6A72=_0x7312;var _0xFFF2=_0xFFF2|| _0x684A[_$_90b0[107]];if(null== _0x7312){_0x7312= _0xFFF2[_$_90b0[102]]+ _$_90b0[1448]+ _0xFFF2[_$_90b0[100]]};if(_$_90b0[67]==  typeof _0x7312){if(_$_90b0[122]== _0x7312[_$_90b0[478]](0)){if(_$_90b0[122]== _0x7312[_$_90b0[478]](1)){_0x7312= _0xFFF2[_$_90b0[102]]+ _0x7312}else {_0x7312= _0xFFF2[_$_90b0[111]]+ _0x7312}};if(!/^(https?|wss?):\/\//[_$_90b0[267]](_0x7312)){_0x6C3E(_$_90b0[1449],_0x7312);if(_$_90b0[53]!=  typeof _0xFFF2){_0x7312= _0xFFF2[_$_90b0[102]]+ _$_90b0[1448]+ _0x7312}else {_0x7312= _$_90b0[1450]+ _0x7312}};_0x6C3E(_$_90b0[1451],_0x7312);_0x6A72= _0x6D24(_0x7312)};if(!_0x6A72[_$_90b0[105]]){if(/^(http|ws)$/[_$_90b0[267]](_0x6A72[_$_90b0[102]])){_0x6A72[_$_90b0[105]]= _$_90b0[115]}else {if(/^(http|ws)s$/[_$_90b0[267]](_0x6A72[_$_90b0[102]])){_0x6A72[_$_90b0[105]]= _$_90b0[114]}}};_0x6A72[_$_90b0[119]]= _0x6A72[_$_90b0[119]]|| _$_90b0[122];_0x6A72[_$_90b0[156]]= _0x6A72[_$_90b0[102]]+ _$_90b0[363]+ _0x6A72[_$_90b0[100]]+ _$_90b0[109]+ _0x6A72[_$_90b0[105]];_0x6A72[_$_90b0[1452]]= _0x6A72[_$_90b0[102]]+ _$_90b0[363]+ _0x6A72[_$_90b0[100]]+ (_0xFFF2&& _0xFFF2[_$_90b0[105]]== _0x6A72[_$_90b0[105]]?_$_90b0[24]:(_$_90b0[109]+ _0x6A72[_$_90b0[105]]));return _0x6A72}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"debug":69,"parseuri":54}],69:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x6C3E;function _0x6C3E(_0x6DAE){if(!_0x6C3E[_$_90b0[416]](_0x6DAE)){return function(){}};return function(_0x1007C){_0x1007C= _0x7E92(_0x1007C);var _0x805E= new Date;var _0x64B2=_0x805E- (_0x6C3E[_0x6DAE]|| _0x805E);_0x6C3E[_0x6DAE]= _0x805E;_0x1007C= _0x6DAE+ _$_90b0[403]+ _0x1007C+ _$_90b0[1453]+ _0x6C3E[_$_90b0[407]](_0x64B2);window[_$_90b0[392]]&& console[_$_90b0[378]]&& Function[_$_90b0[36]][_$_90b0[71]][_$_90b0[54]](console[_$_90b0[378]],console,arguments)}}_0x6C3E[_$_90b0[417]]= [];_0x6C3E[_$_90b0[418]]= [];_0x6C3E[_$_90b0[413]]= function(_0x6DAE){try{localStorage[_$_90b0[94]]= _0x6DAE}catch(_0x5EF2){};var _0x8116=(_0x6DAE|| _$_90b0[24])[_$_90b0[110]](/[\s,]+/),_0x65F4=_0x8116[_$_90b0[47]];for(var _0x6200=0;_0x6200< _0x65F4;_0x6200++){_0x6DAE= _0x8116[_0x6200][_$_90b0[120]](_$_90b0[1103],_$_90b0[423]);if(_0x6DAE[0]=== _$_90b0[360]){_0x6C3E[_$_90b0[418]][_$_90b0[75]]( new RegExp(_$_90b0[424]+ _0x6DAE[_$_90b0[425]](1)+ _$_90b0[426]))}else {_0x6C3E[_$_90b0[417]][_$_90b0[75]]( new RegExp(_$_90b0[424]+ _0x6DAE+ _$_90b0[426]))}}};_0x6C3E[_$_90b0[415]]= function(){_0x6C3E[_$_90b0[413]](_$_90b0[24])};_0x6C3E[_$_90b0[407]]= function(_0x64B2){var _0x1004E=1000,_0x650E=60* 1000,_0x10020=60* _0x650E;if(_0x64B2>= _0x10020){return (_0x64B2/ _0x10020)[_$_90b0[1454]](1)+ _$_90b0[437]};if(_0x64B2>= _0x650E){return (_0x64B2/ _0x650E)[_$_90b0[1454]](1)+ _$_90b0[440]};if(_0x64B2>= _0x1004E){return (_0x64B2/ _0x1004E| 0)+ _$_90b0[443]};return _0x64B2+ _$_90b0[28]};_0x6C3E[_$_90b0[416]]= function(_0x6DAE){for(var _0x6200=0,_0x65F4=_0x6C3E[_$_90b0[418]][_$_90b0[47]];_0x6200< _0x65F4;_0x6200++){if(_0x6C3E[_$_90b0[418]][_0x6200][_$_90b0[267]](_0x6DAE)){return false}};for(var _0x6200=0,_0x65F4=_0x6C3E[_$_90b0[417]][_$_90b0[47]];_0x6200< _0x65F4;_0x6200++){if(_0x6C3E[_$_90b0[417]][_0x6200][_$_90b0[267]](_0x6DAE)){return true}};return false};function _0x7E92(_0x7FD4){if(_0x7FD4 instanceof  Error){return _0x7FD4[_$_90b0[427]]|| _0x7FD4[_$_90b0[207]]};return _0x7FD4}try{if(window[_$_90b0[1455]]){_0x6C3E[_$_90b0[413]](localStorage[_$_90b0[94]])}}catch(_0x5EF2){}},{}],70:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){var _0xAE02=_0x5FD8(_$_90b0[864]);var _0x100AA=_0x5FD8(_$_90b0[1456]);_0x5F20[_$_90b0[1457]]= function(_0x6E38){var _0x8C3A=[];var _0x10106=_0x6E38[_$_90b0[181]];function _0x100D8(_0x70BC){if(!_0x70BC){return _0x70BC};if(_0x100AA(_0x70BC)){var _0x10162={_placeholder:true,num:_0x8C3A[_$_90b0[47]]};_0x8C3A[_$_90b0[75]](_0x70BC);return _0x10162}else {if(_0xAE02(_0x70BC)){var _0x10134= new Array(_0x70BC[_$_90b0[47]]);for(var _0x6200=0;_0x6200< _0x70BC[_$_90b0[47]];_0x6200++){_0x10134[_0x6200]= _0x100D8(_0x70BC[_0x6200])};return _0x10134}else {if(_$_90b0[99]==  typeof _0x70BC&&  !(_0x70BC instanceof  Date)){var _0x10134={};for(var _0x6BE2 in _0x70BC){_0x10134[_0x6BE2]= _0x100D8(_0x70BC[_0x6BE2])};return _0x10134}}};return _0x70BC}var _0xFE26=_0x6E38;_0xFE26[_$_90b0[181]]= _0x100D8(_0x10106);_0xFE26[_$_90b0[1458]]= _0x8C3A[_$_90b0[47]];return {packet:_0xFE26,buffers:_0x8C3A}};_0x5F20[_$_90b0[1459]]= function(_0x6E38,_0x8C3A){var _0x101BE=0;function _0x10190(_0x70BC){if(_0x70BC&& _0x70BC[_$_90b0[1460]]){var _0x695E=_0x8C3A[_0x70BC[_$_90b0[1461]]];return _0x695E}else {if(_0xAE02(_0x70BC)){for(var _0x6200=0;_0x6200< _0x70BC[_$_90b0[47]];_0x6200++){_0x70BC[_0x6200]= _0x10190(_0x70BC[_0x6200])};return _0x70BC}else {if(_0x70BC&& _$_90b0[99]==  typeof _0x70BC){for(var _0x6BE2 in _0x70BC){_0x70BC[_0x6BE2]= _0x10190(_0x70BC[_0x6BE2])};return _0x70BC}}};return _0x70BC}_0x6E38[_$_90b0[181]]= _0x10190(_0x6E38[_$_90b0[181]]);_0x6E38[_$_90b0[1458]]= undefined;return _0x6E38};_0x5F20[_$_90b0[1462]]= function(_0x70BC,_0x6034){function _0x101EC(_0x6A72,_0x102A4,_0x10276){if(!_0x6A72){return _0x6A72};if((_0x684A[_$_90b0[66]]&& _0x6A72 instanceof  Blob)|| (_0x684A[_$_90b0[511]]&& _0x6A72 instanceof  File)){_0x10248++;var _0x102D2= new FileReader();_0x102D2[_$_90b0[301]]= function(){if(_0x10276){_0x10276[_0x102A4]= this[_$_90b0[472]]}else {_0x1021A= this[_$_90b0[472]]};if(!--_0x10248){_0x6034(_0x1021A)}};_0x102D2[_$_90b0[473]](_0x6A72)}else {if(_0xAE02(_0x6A72)){for(var _0x6200=0;_0x6200< _0x6A72[_$_90b0[47]];_0x6200++){_0x101EC(_0x6A72[_0x6200],_0x6200,_0x6A72)}}else {if(_0x6A72&& _$_90b0[99]==  typeof _0x6A72&&  !_0x100AA(_0x6A72)){for(var _0x6BE2 in _0x6A72){_0x101EC(_0x6A72[_0x6BE2],_0x6BE2,_0x6A72)}}}}}var _0x10248=0;var _0x1021A=_0x70BC;_0x101EC(_0x1021A);if(!_0x10248){_0x6034(_0x1021A)}}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./is-buffer":72,"isarray":74}],71:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x6C3E=_0x5FD8(_$_90b0[94])(_$_90b0[1345]);var _0x10442=_0x5FD8(_$_90b0[1463]);var _0xAE02=_0x5FD8(_$_90b0[864]);var _0x6AA0=_0x5FD8(_$_90b0[92]);var _0x10300=_0x5FD8(_$_90b0[1464]);var _0x100AA=_0x5FD8(_$_90b0[1456]);_0x5F20[_$_90b0[102]]= 4;_0x5F20[_$_90b0[1465]]= [_$_90b0[1427],_$_90b0[1435],_$_90b0[1423],_$_90b0[1424],_$_90b0[1432],_$_90b0[1433],_$_90b0[1436]];_0x5F20[_$_90b0[1427]]= 0;_0x5F20[_$_90b0[1435]]= 1;_0x5F20[_$_90b0[1423]]= 2;_0x5F20[_$_90b0[1432]]= 3;_0x5F20[_$_90b0[1436]]= 4;_0x5F20[_$_90b0[1424]]= 5;_0x5F20[_$_90b0[1433]]= 6;_0x5F20[_$_90b0[1375]]= _0x10414;_0x5F20[_$_90b0[1377]]= _0x1035C;function _0x10414(){}_0x10414[_$_90b0[36]][_$_90b0[46]]= function(_0x6A72,_0x6034){_0x6C3E(_$_90b0[1466],_0x6A72);if(_0x5F20[_$_90b0[1424]]== _0x6A72[_$_90b0[65]]|| _0x5F20[_$_90b0[1433]]== _0x6A72[_$_90b0[65]]){_0x103B8(_0x6A72,_0x6034)}else {var _0x10470=_0x103E6(_0x6A72);_0x6034([_0x10470])}};function _0x103E6(_0x6A72){var _0x8310=_$_90b0[24];var _0xFD40=false;_0x8310+= _0x6A72[_$_90b0[65]];if(_0x5F20[_$_90b0[1424]]== _0x6A72[_$_90b0[65]]|| _0x5F20[_$_90b0[1433]]== _0x6A72[_$_90b0[65]]){_0x8310+= _0x6A72[_$_90b0[1458]];_0x8310+= _$_90b0[360]};if(_0x6A72[_$_90b0[1417]]&& _$_90b0[122]!= _0x6A72[_$_90b0[1417]]){_0xFD40= true;_0x8310+= _0x6A72[_$_90b0[1417]]};if(null!= _0x6A72[_$_90b0[156]]){if(_0xFD40){_0x8310+= _$_90b0[474];_0xFD40= false};_0x8310+= _0x6A72[_$_90b0[156]]};if(null!= _0x6A72[_$_90b0[181]]){if(_0xFD40){_0x8310+= _$_90b0[474]};_0x8310+= _0x10442[_$_90b0[399]](_0x6A72[_$_90b0[181]])};_0x6C3E(_$_90b0[1467],_0x6A72,_0x8310);return _0x8310}function _0x103B8(_0x6A72,_0x6034){function _0x104CC(_0x1021A){var _0x104FA=_0x10300[_$_90b0[1457]](_0x1021A);var _0xFE26=_0x103E6(_0x104FA[_$_90b0[170]]);var _0x8C3A=_0x104FA[_$_90b0[1468]];_0x8C3A[_$_90b0[1155]](_0xFE26);_0x6034(_0x8C3A)}_0x10300[_$_90b0[1462]](_0x6A72,_0x104CC)}function _0x1035C(){this[_$_90b0[1469]]= null}_0x6AA0(_0x1035C[_$_90b0[36]]);_0x1035C[_$_90b0[36]][_$_90b0[1015]]= function(_0x6A72){var _0x6E38;if(_$_90b0[67]==  typeof _0x6A72){_0x6E38= _0x1038A(_0x6A72);if(_0x5F20[_$_90b0[1424]]== _0x6E38[_$_90b0[65]]|| _0x5F20[_$_90b0[1433]]== _0x6E38[_$_90b0[65]]){this[_$_90b0[1469]]=  new _0x1032E(_0x6E38);if(this[_$_90b0[1469]][_$_90b0[1470]][_$_90b0[1458]]=== 0){this[_$_90b0[83]](_$_90b0[1401],_0x6E38)}}else {this[_$_90b0[83]](_$_90b0[1401],_0x6E38)}}else {if(_0x100AA(_0x6A72)|| _0x6A72[_$_90b0[469]]){if(!this[_$_90b0[1469]]){throw  new Error(_$_90b0[1471])}else {_0x6E38= this[_$_90b0[1469]][_$_90b0[1472]](_0x6A72);if(_0x6E38){this[_$_90b0[1469]]= null;this[_$_90b0[83]](_$_90b0[1401],_0x6E38)}}}else {throw  new Error(_$_90b0[1473]+ _0x6A72)}}};function _0x1038A(_0x8310){var _0x6708={};var _0x6200=0;_0x6708[_$_90b0[65]]= Number(_0x8310[_$_90b0[478]](0));if(null== _0x5F20[_$_90b0[1465]][_0x6708[_$_90b0[65]]]){return _0x6FD6()};if(_0x5F20[_$_90b0[1424]]== _0x6708[_$_90b0[65]]|| _0x5F20[_$_90b0[1433]]== _0x6708[_$_90b0[65]]){var _0x695E=_$_90b0[24];while(_0x8310[_$_90b0[478]](++_0x6200) != _$_90b0[360]){_0x695E+= _0x8310[_$_90b0[478]](_0x6200);if(_0x6200== _0x8310[_$_90b0[47]]){break}};if(_0x695E!= Number(_0x695E)|| _0x8310[_$_90b0[478]](_0x6200)!= _$_90b0[360]){throw  new Error(_$_90b0[1474])};_0x6708[_$_90b0[1458]]= Number(_0x695E)};if(_$_90b0[122]== _0x8310[_$_90b0[478]](_0x6200+ 1)){_0x6708[_$_90b0[1417]]= _$_90b0[24];while(++_0x6200){var _0x7DAC=_0x8310[_$_90b0[478]](_0x6200);if(_$_90b0[474]== _0x7DAC){break};_0x6708[_$_90b0[1417]]+= _0x7DAC;if(_0x6200== _0x8310[_$_90b0[47]]){break}}}else {_0x6708[_$_90b0[1417]]= _$_90b0[122]};var _0x8E34=_0x8310[_$_90b0[478]](_0x6200+ 1);if(_$_90b0[24]!== _0x8E34&& Number(_0x8E34)== _0x8E34){_0x6708[_$_90b0[156]]= _$_90b0[24];while(++_0x6200){var _0x7DAC=_0x8310[_$_90b0[478]](_0x6200);if(null== _0x7DAC|| Number(_0x7DAC)!= _0x7DAC){--_0x6200;break};_0x6708[_$_90b0[156]]+= _0x8310[_$_90b0[478]](_0x6200);if(_0x6200== _0x8310[_$_90b0[47]]){break}};_0x6708[_$_90b0[156]]= Number(_0x6708[_$_90b0[156]])};if(_0x8310[_$_90b0[478]](++_0x6200)){try{_0x6708[_$_90b0[181]]= _0x10442[_$_90b0[635]](_0x8310[_$_90b0[425]](_0x6200))}catch(_0x5EF2){return _0x6FD6()}};_0x6C3E(_$_90b0[1475],_0x8310,_0x6708);return _0x6708}_0x1035C[_$_90b0[36]][_$_90b0[1398]]= function(){if(this[_$_90b0[1469]]){this[_$_90b0[1469]][_$_90b0[1476]]()}};function _0x1032E(_0x6E38){this[_$_90b0[1470]]= _0x6E38;this[_$_90b0[1468]]= []}_0x1032E[_$_90b0[36]][_$_90b0[1472]]= function(_0x1049E){this[_$_90b0[1468]][_$_90b0[75]](_0x1049E);if(this[_$_90b0[1468]][_$_90b0[47]]== this[_$_90b0[1470]][_$_90b0[1458]]){var _0x6E38=_0x10300[_$_90b0[1459]](this[_$_90b0[1470]],this[_$_90b0[1468]]);this[_$_90b0[1476]]();return _0x6E38};return null};_0x1032E[_$_90b0[36]][_$_90b0[1476]]= function(){this[_$_90b0[1470]]= null;this[_$_90b0[1468]]= []};function _0x6FD6(_0x70BC){return {type:_0x5F20[_$_90b0[1436]],data:_$_90b0[466]}}},{"./binary":70,"./is-buffer":72,"component-emitter":8,"debug":73,"isarray":74,"json3":45}],72:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){_0x5F4E[_$_90b0[0]]= _0x100AA;function _0x100AA(_0x6A72){return (_0x684A[_$_90b0[865]]&& _0x684A[_$_90b0[865]][_$_90b0[866]](_0x6A72))|| (_0x684A[_$_90b0[468]]&& _0x6A72 instanceof  ArrayBuffer)}})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{}],73:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][69][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":69}],74:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][42][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":42}],75:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0xFF68;function _0xFF68(_0x10528,_0x6C6C){var _0xDB1C=[];_0x6C6C= _0x6C6C|| 0;for(var _0x6200=_0x6C6C|| 0;_0x6200< _0x10528[_$_90b0[47]];_0x6200++){_0xDB1C[_0x6200- _0x6C6C]= _0x10528[_0x6200]};return _0xDB1C}},{}],76:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F1A=_0x5FD8(_$_90b0[490]);var _0x628A=_0x5FD8(_$_90b0[6]);var _0x8F48=_0x5FD8(_$_90b0[489]);function _0x10556(_0xA19C){return {type:_0xA19C[_$_90b0[65]],sdp:_0xA19C[_$_90b0[657]]}}function _0x10584(_0x639E){var _0x1066A={label:_0x639E[_$_90b0[156]]};if(_0x639E[_$_90b0[795]]()[_$_90b0[47]]){_0x1066A[_$_90b0[8]]= _0x639E[_$_90b0[795]]()[_$_90b0[612]](function(_0x94DA){return _0x94DA[_$_90b0[156]]})};if(_0x639E[_$_90b0[796]]()[_$_90b0[47]]){_0x1066A[_$_90b0[9]]= _0x639E[_$_90b0[796]]()[_$_90b0[612]](function(_0x94DA){return _0x94DA[_$_90b0[156]]})};return _0x1066A}function _0x105B2(_0x9D1E,_0x9142){var _0x6B58=this;_0x8F48[_$_90b0[54]](this);this[_$_90b0[1477]]=  new window[_$_90b0[588]](_0x9D1E,_0x9142);this[_$_90b0[1478]]= function(_0x10698,_0x1066A){_0x6B58[_$_90b0[83]](_$_90b0[1479],{time: new Date(),type:_0x10698,value:_0x1066A|| _$_90b0[24]})};this[_$_90b0[663]]= null;this[_$_90b0[1477]][_$_90b0[663]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[663],_0x6AFC[_$_90b0[698]]);if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]](_0x6AFC)}};this[_$_90b0[664]]= null;this[_$_90b0[1477]][_$_90b0[664]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[664],_0x10584(_0x6AFC[_$_90b0[597]]));if(_0x6B58[_$_90b0[664]]!== null){_0x6B58[_$_90b0[664]](_0x6AFC)}};this[_$_90b0[665]]= null;this[_$_90b0[1477]][_$_90b0[665]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[665],_0x10584(_0x6AFC[_$_90b0[597]]));if(_0x6B58[_$_90b0[665]]!== null){_0x6B58[_$_90b0[665]](_0x6AFC)}};this[_$_90b0[666]]= null;this[_$_90b0[1477]][_$_90b0[666]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[666],_0x6B58[_$_90b0[676]]);if(_0x6B58[_$_90b0[666]]!== null){_0x6B58[_$_90b0[666]](_0x6AFC)}};this[_$_90b0[667]]= null;this[_$_90b0[1477]][_$_90b0[667]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[667],_0x6B58[_$_90b0[678]]);if(_0x6B58[_$_90b0[667]]!== null){_0x6B58[_$_90b0[667]](_0x6AFC)}};this[_$_90b0[668]]= null;this[_$_90b0[1477]][_$_90b0[668]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[668]);if(_0x6B58[_$_90b0[668]]!== null){_0x6B58[_$_90b0[668]](_0x6AFC)}};_0x6B58[_$_90b0[669]]= null;this[_$_90b0[1477]][_$_90b0[669]]= function(_0x6AFC){_0x6B58[_$_90b0[1478]](_$_90b0[669],_0x6AFC);if(_0x6B58[_$_90b0[669]]!== null){_0x6B58[_$_90b0[669]](_0x6AFC)}};this[_$_90b0[672]]= this[_$_90b0[1477]][_$_90b0[672]][_$_90b0[422]](this[_$_90b0[1477]]);this[_$_90b0[673]]= this[_$_90b0[1477]][_$_90b0[673]][_$_90b0[422]](this[_$_90b0[1477]])}_0x8F1A[_$_90b0[493]](_0x105B2,_0x8F48);[_$_90b0[676],_$_90b0[678],_$_90b0[674],_$_90b0[675]][_$_90b0[23]](function(_0x105E0){Object[_$_90b0[600]](_0x105B2[_$_90b0[36]],_0x105E0,{get:function(){return this[_$_90b0[1477]][_0x105E0]}})});_0x105B2[_$_90b0[36]][_$_90b0[709]]= function(_0x639E){this[_$_90b0[1478]](_$_90b0[709],_0x10584(_0x639E));this[_$_90b0[1477]][_$_90b0[709]](_0x639E)};_0x105B2[_$_90b0[36]][_$_90b0[712]]= function(_0x639E){this[_$_90b0[1478]](_$_90b0[712],_0x10584(_0x639E));this[_$_90b0[1477]][_$_90b0[712]](_0x639E)};_0x105B2[_$_90b0[36]][_$_90b0[1058]]= function(_0x1060E,_0x6370){this[_$_90b0[1478]](_$_90b0[1058],_0x1060E,_0x6370);return this[_$_90b0[1477]][_$_90b0[1058]](_0x1060E,_0x6370)};_0x105B2[_$_90b0[36]][_$_90b0[617]]= function(_0xA19C,_0x96A6,_0x1063C){var _0x6B58=this;this[_$_90b0[1478]](_$_90b0[617],_0x10556(_0xA19C));return this[_$_90b0[1477]][_$_90b0[617]](_0xA19C)[_$_90b0[552]](function(){_0x6B58[_$_90b0[1478]](_$_90b0[1480]);if(_0x96A6){_0x96A6()}},function(_0x60EC){_0x6B58[_$_90b0[1478]](_$_90b0[1481],_0x60EC);if(_0x1063C){_0x1063C(_0x60EC)}})};_0x105B2[_$_90b0[36]][_$_90b0[618]]= function(_0xA19C,_0x96A6,_0x1063C){var _0x6B58=this;this[_$_90b0[1478]](_$_90b0[618],_0x10556(_0xA19C));return this[_$_90b0[1477]][_$_90b0[618]](_0xA19C)[_$_90b0[552]](function(){_0x6B58[_$_90b0[1478]](_$_90b0[1482]);if(_0x96A6){_0x96A6()}},function(_0x60EC){_0x6B58[_$_90b0[1478]](_$_90b0[1483],_0x60EC);if(_0x1063C){_0x1063C(_0x60EC)}})};_0x105B2[_$_90b0[36]][_$_90b0[166]]= function(){this[_$_90b0[1478]](_$_90b0[786]);if(this[_$_90b0[1477]][_$_90b0[676]]!= _$_90b0[185]){this[_$_90b0[1477]][_$_90b0[166]]()}};_0x105B2[_$_90b0[36]][_$_90b0[614]]= function(_0x96A6,_0x1063C,_0x9142){var _0x6B58=this;this[_$_90b0[1478]](_$_90b0[614],_0x9142);return this[_$_90b0[1477]][_$_90b0[614]](_0x9142)[_$_90b0[552]](function(_0xE97C){_0x6B58[_$_90b0[1478]](_$_90b0[1484],_0x10556(_0xE97C));if(_0x96A6){_0x96A6(_0xE97C)}},function(_0x60EC){_0x6B58[_$_90b0[1478]](_$_90b0[1485],_0x60EC);if(_0x1063C){_0x1063C(_0x60EC)}})};_0x105B2[_$_90b0[36]][_$_90b0[615]]= function(_0x96A6,_0x1063C,_0x9142){var _0x6B58=this;this[_$_90b0[1478]](_$_90b0[615],_0x9142);return this[_$_90b0[1477]][_$_90b0[615]](_0x9142)[_$_90b0[552]](function(_0xEAEC){_0x6B58[_$_90b0[1478]](_$_90b0[1486],_0x10556(_0xEAEC));if(_0x96A6){_0x96A6(_0xEAEC)}},function(_0x60EC){_0x6B58[_$_90b0[1478]](_$_90b0[1487],_0x60EC);if(_0x1063C){_0x1063C(_0x60EC)}})};_0x105B2[_$_90b0[36]][_$_90b0[619]]= function(_0xA7E6,_0x96A6,_0x1063C){var _0x6B58=this;this[_$_90b0[1478]](_$_90b0[619],_0xA7E6);return this[_$_90b0[1477]][_$_90b0[619]](_0xA7E6)[_$_90b0[552]](function(){if(_0x96A6){_0x96A6()}},function(_0x60EC){_0x6B58[_$_90b0[1478]](_$_90b0[1488],_0x60EC);if(_0x1063C){_0x1063C(_0x60EC)}})};_0x105B2[_$_90b0[36]][_$_90b0[609]]= function(){this[_$_90b0[1477]][_$_90b0[609]][_$_90b0[71]](this[_$_90b0[1477]],arguments)};_0x5F4E[_$_90b0[0]]= _0x105B2},{"util":89,"webrtc-adapter":77,"wildemitter":100}],77:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][30][0][_$_90b0[71]](_0x5F20,arguments)},{"./chrome/chrome_shim":78,"./edge/edge_shim":80,"./firefox/firefox_shim":82,"./safari/safari_shim":84,"./utils":85,"dup":30}],78:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][31][0][_$_90b0[71]](_0x5F20,arguments)},{"../utils.js":85,"./getusermedia":79,"dup":31}],79:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][32][0][_$_90b0[71]](_0x5F20,arguments)},{"../utils.js":85,"dup":32}],80:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][33][0][_$_90b0[71]](_0x5F20,arguments)},{"../utils":85,"./getusermedia":81,"dup":33,"sdp":62}],81:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][34][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":34}],82:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][35][0][_$_90b0[71]](_0x5F20,arguments)},{"../utils":85,"./getusermedia":83,"dup":35}],83:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][36][0][_$_90b0[71]](_0x5F20,arguments)},{"../utils":85,"dup":36}],84:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][37][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":37}],85:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][38][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":38}],86:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0x684A){;;(function(_0xD52E){var _0xC6A0= typeof _0x5F20== _$_90b0[99]&& _0x5F20;var _0xC6FC= typeof _0x5F4E== _$_90b0[99]&& _0x5F4E&& _0x5F4E[_$_90b0[0]]== _0xC6A0&& _0x5F4E;var _0xC6CE= typeof _0x684A== _$_90b0[99]&& _0x684A;if(_0xC6CE[_$_90b0[870]]=== _0xC6CE|| _0xC6CE[_$_90b0[536]]=== _0xC6CE){_0xD52E= _0xC6CE};var _0x10836=String[_$_90b0[476]];function _0x10864(_0x10A5E){var _0x10A30=[];var _0xF108=0;var _0x89B6=_0x10A5E[_$_90b0[47]];var _0xB75A;var _0x10A02;while(_0xF108< _0x89B6){_0xB75A= _0x10A5E[_$_90b0[487]](_0xF108++);if(_0xB75A>= 0xD800&& _0xB75A<= 0xDBFF&& _0xF108< _0x89B6){_0x10A02= _0x10A5E[_$_90b0[487]](_0xF108++);if((_0x10A02& 0xFC00)== 0xDC00){_0x10A30[_$_90b0[75]](((_0xB75A& 0x3FF)<< 10)+ (_0x10A02& 0x3FF)+ 0x10000)}else {_0x10A30[_$_90b0[75]](_0xB75A);_0xF108--}}else {_0x10A30[_$_90b0[75]](_0xB75A)}};return _0x10A30}function _0x10892(_0xDB1C){var _0x89B6=_0xDB1C[_$_90b0[47]];var _0x6C6C=-1;var _0xB75A;var _0x10A30=_$_90b0[24];while(++_0x6C6C< _0x89B6){_0xB75A= _0xDB1C[_0x6C6C];if(_0xB75A> 0xFFFF){_0xB75A-= 0x10000;_0x10A30+= _0x10836(_0xB75A>>> 10& 0x3FF| 0xD800);_0xB75A= 0xDC00| _0xB75A& 0x3FF};_0x10A30+= _0x10836(_0xB75A)};return _0x10A30}function _0x10750(_0x108C0){if(_0x108C0>= 0xD800&& _0x108C0<= 0xDFFF){throw Error(_$_90b0[1489]+ _0x108C0[_$_90b0[485]](16)[_$_90b0[632]]()+ _$_90b0[1490])}}function _0x1077E(_0x108C0,_0x108EE){return _0x10836(((_0x108C0>> _0x108EE)& 0x3F)| 0x80)}function _0x107DA(_0x108C0){if((_0x108C0& 0xFFFFFF80)== 0){return _0x10836(_0x108C0)};var _0xDF9A=_$_90b0[24];if((_0x108C0& 0xFFFFF800)== 0){_0xDF9A= _0x10836(((_0x108C0>> 6)& 0x1F)| 0xC0)}else {if((_0x108C0& 0xFFFF0000)== 0){_0x10750(_0x108C0);_0xDF9A= _0x10836(((_0x108C0>> 12)& 0x0F)| 0xE0);_0xDF9A+= _0x1077E(_0x108C0,6)}else {if((_0x108C0& 0xFFE00000)== 0){_0xDF9A= _0x10836(((_0x108C0>> 18)& 0x07)| 0xF0);_0xDF9A+= _0x1077E(_0x108C0,12);_0xDF9A+= _0x1077E(_0x108C0,6)}}};_0xDF9A+= _0x10836((_0x108C0& 0x3F)| 0x80);return _0xDF9A}function _0x86D6(_0x10A5E){var _0x10ABA=_0x10864(_0x10A5E);var _0x89B6=_0x10ABA[_$_90b0[47]];var _0x6C6C=-1;var _0x108C0;var _0x10A8C=_$_90b0[24];while(++_0x6C6C< _0x89B6){_0x108C0= _0x10ABA[_0x6C6C];_0x10A8C+= _0x107DA(_0x108C0)};return _0x10A8C}function _0x10808(){if(_0x10722>= _0x106F4){throw Error(_$_90b0[1491])};var _0x109D4=_0x106C6[_0x10722]& 0xFF;_0x10722++;if((_0x109D4& 0xC0)== 0x80){return _0x109D4& 0x3F};throw Error(_$_90b0[1492])}function _0x107AC(){var _0x1091C;var _0x1094A;var _0x10978;var _0x109A6;var _0x108C0;if(_0x10722> _0x106F4){throw Error(_$_90b0[1491])};if(_0x10722== _0x106F4){return false};_0x1091C= _0x106C6[_0x10722]& 0xFF;_0x10722++;if((_0x1091C& 0x80)== 0){return _0x1091C};if((_0x1091C& 0xE0)== 0xC0){var _0x1094A=_0x10808();_0x108C0= ((_0x1091C& 0x1F)<< 6)| _0x1094A;if(_0x108C0>= 0x80){return _0x108C0}else {throw Error(_$_90b0[1492])}};if((_0x1091C& 0xF0)== 0xE0){_0x1094A= _0x10808();_0x10978= _0x10808();_0x108C0= ((_0x1091C& 0x0F)<< 12)| (_0x1094A<< 6)| _0x10978;if(_0x108C0>= 0x0800){_0x10750(_0x108C0);return _0x108C0}else {throw Error(_$_90b0[1492])}};if((_0x1091C& 0xF8)== 0xF0){_0x1094A= _0x10808();_0x10978= _0x10808();_0x109A6= _0x10808();_0x108C0= ((_0x1091C& 0x0F)<< 0x12)| (_0x1094A<< 0x0C)| (_0x10978<< 0x06)| _0x109A6;if(_0x108C0>= 0x010000&& _0x108C0<= 0x10FFFF){return _0x108C0}};throw Error(_$_90b0[1493])}var _0x106C6;var _0x106F4;var _0x10722;function _0x88A2(_0x10A8C){_0x106C6= _0x10864(_0x10A8C);_0x106F4= _0x106C6[_$_90b0[47]];_0x10722= 0;var _0x10ABA=[];var _0x10AE8;while((_0x10AE8= _0x107AC())!== false){_0x10ABA[_$_90b0[75]](_0x10AE8)};return _0x10892(_0x10ABA)}var _0x864C={"version":_$_90b0[1494],"encode":_0x86D6,"decode":_0x88A2};if( typeof _0x5EC4== _$_90b0[68]&&  typeof _0x5EC4[_$_90b0[872]]== _$_90b0[99]&& _0x5EC4[_$_90b0[872]]){_0x5EC4(function(){return _0x864C})}else {if(_0xC6A0&&  !_0xC6A0[_$_90b0[873]]){if(_0xC6FC){_0xC6FC[_$_90b0[0]]= _0x864C}else {var _0xB646={};var _0xCA94=_0xB646[_$_90b0[158]];for(var _0x6BE2 in _0x864C){_0xCA94[_$_90b0[54]](_0x864C,_0x6BE2)&& (_0xC6A0[_0x6BE2]= _0x864C[_0x6BE2])}}}else {_0xD52E[_$_90b0[464]]= _0x864C}}}(this))})[_$_90b0[54]](this, typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{}],87:[function(_0x5FD8,_0x5F4E,_0x5F20){if( typeof Object[_$_90b0[315]]=== _$_90b0[68]){_0x5F4E[_$_90b0[0]]= function _0x10B16(_0x10B44,_0x10B72){_0x10B44[_$_90b0[1495]]= _0x10B72;_0x10B44[_$_90b0[36]]= Object[_$_90b0[315]](_0x10B72[_$_90b0[36]],{constructor:{value:_0x10B44,enumerable:false,writable:true,configurable:true}})}}else {_0x5F4E[_$_90b0[0]]= function _0x10B16(_0x10B44,_0x10B72){_0x10B44[_$_90b0[1495]]= _0x10B72;var _0x10BA0=function(){};_0x10BA0[_$_90b0[36]]= _0x10B72[_$_90b0[36]];_0x10B44[_$_90b0[36]]=  new _0x10BA0();_0x10B44[_$_90b0[36]][_$_90b0[86]]= _0x10B44}}},{}],88:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= function _0xCC60(_0xE10A){return _0xE10A&&  typeof _0xE10A=== _$_90b0[99]&&  typeof _0xE10A[_$_90b0[1035]]=== _$_90b0[68]&&  typeof _0xE10A[_$_90b0[1496]]=== _$_90b0[68]&&  typeof _0xE10A[_$_90b0[1497]]=== _$_90b0[68]}},{}],89:[function(_0x5FD8,_0x5F4E,_0x5F20){(function(_0xE6CA,_0x684A){var _0x10D10=/%[sdj%]/g;_0x5F20[_$_90b0[1499]]= function(_0x5E68){if(!_0x8B26(_0x5E68)){var _0x1107A=[];for(var _0x6200=0;_0x6200< arguments[_$_90b0[47]];_0x6200++){_0x1107A[_$_90b0[75]](_0x10D6C(arguments[_0x6200]))};return _0x1107A[_$_90b0[483]](_$_90b0[403])};var _0x6200=1;var _0x6A16=arguments;var _0x65F4=_0x6A16[_$_90b0[47]];var _0x8310=String(_0x5E68)[_$_90b0[120]](_0x10D10,function(_0x110A8){if(_0x110A8=== _$_90b0[411]){return _$_90b0[1500]};if(_0x6200>= _0x65F4){return _0x110A8};switch(_0x110A8){case _$_90b0[1501]:return String(_0x6A16[_0x6200++]);case _$_90b0[1502]:return Number(_0x6A16[_0x6200++]);case _$_90b0[1504]:try{return JSON[_$_90b0[399]](_0x6A16[_0x6200++])}catch(_){return _$_90b0[1503]};default:return _0x110A8}});for(var _0x110A8=_0x6A16[_0x6200];_0x6200< _0x65F4;_0x110A8= _0x6A16[++_0x6200]){if(_0x10E24(_0x110A8)||  !_0xCD74(_0x110A8)){_0x8310+= _$_90b0[403]+ _0x110A8}else {_0x8310+= _$_90b0[403]+ _0x10D6C(_0x110A8)}};return _0x8310};_0x5F20[_$_90b0[1505]]= function(_0x6A44,_0x7032){if(_0x10F38(_0x684A[_$_90b0[1506]])){return function(){return _0x5F20[_$_90b0[1505]](_0x6A44,_0x7032)[_$_90b0[71]](this,arguments)}};if(_0xE6CA[_$_90b0[1507]]=== true){return _0x6A44};var _0x11104=false;function _0x110D6(){if(!_0x11104){if(_0xE6CA[_$_90b0[1508]]){throw  new Error(_0x7032)}else {if(_0xE6CA[_$_90b0[1509]]){console[_$_90b0[1478]](_0x7032)}else {console[_$_90b0[159]](_0x7032)}};_0x11104= true};return _0x6A44[_$_90b0[71]](this,arguments)}return _0x110D6};var _0x10C2A={};var _0x10BFC;_0x5F20[_$_90b0[1510]]= function(_0xDAEE){if(_0x10F38(_0x10BFC)){_0x10BFC= _0xE6CA[_$_90b0[1072]][_$_90b0[1511]]|| _$_90b0[24]};_0xDAEE= _0xDAEE[_$_90b0[632]]();if(!_0x10C2A[_0xDAEE]){if( new RegExp(_$_90b0[914]+ _0xDAEE+ _$_90b0[914],_$_90b0[1512])[_$_90b0[267]](_0x10BFC)){var _0x11132=_0xE6CA[_$_90b0[1513]];_0x10C2A[_0xDAEE]= function(){var _0x7032=_0x5F20[_$_90b0[1499]][_$_90b0[71]](_0x5F20,arguments);console[_$_90b0[159]](_$_90b0[1514],_0xDAEE,_0x11132,_0x7032)}}else {_0x10C2A[_0xDAEE]= function(){}}};return _0x10C2A[_0xDAEE]};function _0x10D6C(_0x6A72,_0x6370){var _0x111EA={seen:[],stylize:_0x10FF0};if(arguments[_$_90b0[47]]>= 3){_0x111EA[_$_90b0[1515]]= arguments[2]};if(arguments[_$_90b0[47]]>= 4){_0x111EA[_$_90b0[383]]= arguments[3]};if(_0x10D9A(_0x6370)){_0x111EA[_$_90b0[1516]]= _0x6370}else {if(_0x6370){_0x5F20[_$_90b0[1517]](_0x111EA,_0x6370)}};if(_0x10F38(_0x111EA[_$_90b0[1516]])){_0x111EA[_$_90b0[1516]]= false};if(_0x10F38(_0x111EA[_$_90b0[1515]])){_0x111EA[_$_90b0[1515]]= 2};if(_0x10F38(_0x111EA[_$_90b0[383]])){_0x111EA[_$_90b0[383]]= false};if(_0x10F38(_0x111EA[_$_90b0[1518]])){_0x111EA[_$_90b0[1518]]= true};if(_0x111EA[_$_90b0[383]]){_0x111EA[_$_90b0[1519]]= _0x1101E};return _0x10D3E(_0x111EA,_0x6A72,_0x111EA[_$_90b0[1515]])}_0x5F20[_$_90b0[1520]]= _0x10D6C;_0x10D6C[_$_90b0[383]]= {"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]};_0x10D6C[_$_90b0[1521]]= {"special":_$_90b0[1522],"number":_$_90b0[1523],"boolean":_$_90b0[1523],"undefined":_$_90b0[1524],"null":_$_90b0[1525],"string":_$_90b0[1526],"date":_$_90b0[1527],"regexp":_$_90b0[1325]};function _0x1101E(_0x8310,_0x113E4){var _0x11412=_0x10D6C[_$_90b0[1521]][_0x113E4];if(_0x11412){return _$_90b0[1528]+ _0x10D6C[_$_90b0[383]][_0x11412][0]+ _$_90b0[440]+ _0x8310+ _$_90b0[1528]+ _0x10D6C[_$_90b0[383]][_0x11412][1]+ _$_90b0[440]}else {return _0x8310}}function _0x10FF0(_0x8310,_0x113E4){return _0x8310}function _0x10BCE(_0xDB1C){var _0x111BC={};_0xDB1C[_$_90b0[23]](function(_0x7FD4,_0x9E60){_0x111BC[_0x7FD4]= true});return _0x111BC}function _0x10D3E(_0x111EA,_0xB75A,_0x11218){if(_0x111EA[_$_90b0[1518]]&& _0xB75A&& _0xB6FE(_0xB75A[_$_90b0[1520]])&& _0xB75A[_$_90b0[1520]]!== _0x5F20[_$_90b0[1520]]&&  !(_0xB75A[_$_90b0[86]]&& _0xB75A[_$_90b0[86]][_$_90b0[36]]=== _0xB75A)){var _0x89E4=_0xB75A[_$_90b0[1520]](_0x11218,_0x111EA);if(!_0x8B26(_0x89E4)){_0x89E4= _0x10D3E(_0x111EA,_0x89E4,_0x11218)};return _0x89E4};var _0x112FE=_0x10CB4(_0x111EA,_0xB75A);if(_0x112FE){return _0x112FE};var _0x8594=Object[_$_90b0[488]](_0xB75A);var _0x11246=_0x10BCE(_0x8594);if(_0x111EA[_$_90b0[1516]]){_0x8594= Object[_$_90b0[1529]](_0xB75A)};if(_0x10DF6(_0xB75A)&& (_0x8594[_$_90b0[52]](_$_90b0[207])>= 0|| _0x8594[_$_90b0[52]](_$_90b0[233])>= 0)){return _0x10C86(_0xB75A)};if(_0x8594[_$_90b0[47]]=== 0){if(_0xB6FE(_0xB75A)){var _0x6DAE=_0xB75A[_$_90b0[164]]?_$_90b0[650]+ _0xB75A[_$_90b0[164]]:_$_90b0[24];return _0x111EA[_$_90b0[1519]](_$_90b0[1530]+ _0x6DAE+ _$_90b0[457],_$_90b0[1531])};if(_0x10EDC(_0xB75A)){return _0x111EA[_$_90b0[1519]](RegExp[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0xB75A),_$_90b0[1532])};if(_0x10DC8(_0xB75A)){return _0x111EA[_$_90b0[1519]](Date[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0xB75A),_$_90b0[1533])};if(_0x10DF6(_0xB75A)){return _0x10C86(_0xB75A)}};var _0x112A2=_$_90b0[24],_0xDB1C=false,_0x112D0=[_$_90b0[928],_$_90b0[927]];if(_0xAE02(_0xB75A)){_0xDB1C= true;_0x112D0= [_$_90b0[456],_$_90b0[457]]};if(_0xB6FE(_0xB75A)){var _0x82E2=_0xB75A[_$_90b0[164]]?_$_90b0[650]+ _0xB75A[_$_90b0[164]]:_$_90b0[24];_0x112A2= _$_90b0[1534]+ _0x82E2+ _$_90b0[457]};if(_0x10EDC(_0xB75A)){_0x112A2= _$_90b0[403]+ RegExp[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0xB75A)};if(_0x10DC8(_0xB75A)){_0x112A2= _$_90b0[403]+ Date[_$_90b0[36]][_$_90b0[1535]][_$_90b0[54]](_0xB75A)};if(_0x10DF6(_0xB75A)){_0x112A2= _$_90b0[403]+ _0x10C86(_0xB75A)};if(_0x8594[_$_90b0[47]]=== 0&& (!_0xDB1C|| _0xB75A[_$_90b0[47]]== 0)){return _0x112D0[0]+ _0x112A2+ _0x112D0[1]};if(_0x11218< 0){if(_0x10EDC(_0xB75A)){return _0x111EA[_$_90b0[1519]](RegExp[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0xB75A),_$_90b0[1532])}else {return _0x111EA[_$_90b0[1519]](_$_90b0[1536],_$_90b0[1531])}};_0x111EA[_$_90b0[1537]][_$_90b0[75]](_0xB75A);var _0x10A30;if(_0xDB1C){_0x10A30= _0x10C58(_0x111EA,_0xB75A,_0x11218,_0x11246,_0x8594)}else {_0x10A30= _0x8594[_$_90b0[612]](function(_0x6BE2){return _0x10CE2(_0x111EA,_0xB75A,_0x11218,_0x11246,_0x6BE2,_0xDB1C)})};_0x111EA[_$_90b0[1537]][_$_90b0[113]]();return _0x10FC2(_0x10A30,_0x112A2,_0x112D0)}function _0x10CB4(_0x111EA,_0xB75A){if(_0x10F38(_0xB75A)){return _0x111EA[_$_90b0[1519]](_$_90b0[53],_$_90b0[53])};if(_0x8B26(_0xB75A)){var _0x11274=_$_90b0[1538]+ JSON[_$_90b0[399]](_0xB75A)[_$_90b0[120]](/^"|"$/g,_$_90b0[24])[_$_90b0[120]](/'/g,_$_90b0[1539])[_$_90b0[120]](/\\"/g,_$_90b0[768])+ _$_90b0[1538];return _0x111EA[_$_90b0[1519]](_0x11274,_$_90b0[67])};if(_0x10E80(_0xB75A)){return _0x111EA[_$_90b0[1519]](_$_90b0[24]+ _0xB75A,_$_90b0[495])};if(_0x10D9A(_0xB75A)){return _0x111EA[_$_90b0[1519]](_$_90b0[24]+ _0xB75A,_$_90b0[825])};if(_0x10E24(_0xB75A)){return _0x111EA[_$_90b0[1519]](_$_90b0[891],_$_90b0[891])}}function _0x10C86(_0xB75A){return _$_90b0[456]+ Error[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0xB75A)+ _$_90b0[457]}function _0x10C58(_0x111EA,_0xB75A,_0x11218,_0x11246,_0x8594){var _0x10A30=[];for(var _0x6200=0,_0x708E=_0xB75A[_$_90b0[47]];_0x6200< _0x708E;++_0x6200){if(_0xCA94(_0xB75A,String(_0x6200))){_0x10A30[_$_90b0[75]](_0x10CE2(_0x111EA,_0xB75A,_0x11218,_0x11246,String(_0x6200),true))}else {_0x10A30[_$_90b0[75]](_$_90b0[24])}};_0x8594[_$_90b0[23]](function(_0x6BE2){if(!_0x6BE2[_$_90b0[396]](/^\d+$/)){_0x10A30[_$_90b0[75]](_0x10CE2(_0x111EA,_0xB75A,_0x11218,_0x11246,_0x6BE2,true))}});return _0x10A30}function _0x10CE2(_0x111EA,_0xB75A,_0x11218,_0x11246,_0x6BE2,_0xDB1C){var _0x6DAE,_0x8310,_0x71D0;_0x71D0= Object[_$_90b0[1540]](_0xB75A,_0x6BE2)|| {value:_0xB75A[_0x6BE2]};if(_0x71D0[_$_90b0[1034]]){if(_0x71D0[_$_90b0[64]]){_0x8310= _0x111EA[_$_90b0[1519]](_$_90b0[1541],_$_90b0[1531])}else {_0x8310= _0x111EA[_$_90b0[1519]](_$_90b0[1542],_$_90b0[1531])}}else {if(_0x71D0[_$_90b0[64]]){_0x8310= _0x111EA[_$_90b0[1519]](_$_90b0[1543],_$_90b0[1531])}};if(!_0xCA94(_0x11246,_0x6BE2)){_0x6DAE= _$_90b0[456]+ _0x6BE2+ _$_90b0[457]};if(!_0x8310){if(_0x111EA[_$_90b0[1537]][_$_90b0[52]](_0x71D0[_$_90b0[295]])< 0){if(_0x10E24(_0x11218)){_0x8310= _0x10D3E(_0x111EA,_0x71D0[_$_90b0[295]],null)}else {_0x8310= _0x10D3E(_0x111EA,_0x71D0[_$_90b0[295]],_0x11218- 1)};if(_0x8310[_$_90b0[52]](_$_90b0[752])>  -1){if(_0xDB1C){_0x8310= _0x8310[_$_90b0[110]](_$_90b0[752])[_$_90b0[612]](function(_0xA5BE){return _$_90b0[1544]+ _0xA5BE})[_$_90b0[483]](_$_90b0[752])[_$_90b0[425]](2)}else {_0x8310= _$_90b0[752]+ _0x8310[_$_90b0[110]](_$_90b0[752])[_$_90b0[612]](function(_0xA5BE){return _$_90b0[1545]+ _0xA5BE})[_$_90b0[483]](_$_90b0[752])}}}else {_0x8310= _0x111EA[_$_90b0[1519]](_$_90b0[1503],_$_90b0[1531])}};if(_0x10F38(_0x6DAE)){if(_0xDB1C&& _0x6BE2[_$_90b0[396]](/^\d+$/)){return _0x8310};_0x6DAE= JSON[_$_90b0[399]](_$_90b0[24]+ _0x6BE2);if(_0x6DAE[_$_90b0[396]](/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){_0x6DAE= _0x6DAE[_$_90b0[425]](1,_0x6DAE[_$_90b0[47]]- 2);_0x6DAE= _0x111EA[_$_90b0[1519]](_0x6DAE,_$_90b0[164])}else {_0x6DAE= _0x6DAE[_$_90b0[120]](/'/g,_$_90b0[1539])[_$_90b0[120]](/\\"/g,_$_90b0[768])[_$_90b0[120]](/(^"|"$)/g,_$_90b0[1538]);_0x6DAE= _0x111EA[_$_90b0[1519]](_0x6DAE,_$_90b0[67])}};return _0x6DAE+ _$_90b0[650]+ _0x8310}function _0x10FC2(_0x10A30,_0x112A2,_0x112D0){var _0x1135A=0;var _0x89B6=_0x10A30[_$_90b0[486]](function(_0x113B6,_0x11388){_0x1135A++;if(_0x11388[_$_90b0[52]](_$_90b0[752])>= 0){_0x1135A++};return _0x113B6+ _0x11388[_$_90b0[120]](/\u001b\[\d\d?m/g,_$_90b0[24])[_$_90b0[47]]+ 1},0);if(_0x89B6> 60){return _0x112D0[0]+ (_0x112A2=== _$_90b0[24]?_$_90b0[24]:_0x112A2+ _$_90b0[1546])+ _$_90b0[403]+ _0x10A30[_$_90b0[483]](_$_90b0[1547])+ _$_90b0[403]+ _0x112D0[1]};return _0x112D0[0]+ _0x112A2+ _$_90b0[403]+ _0x10A30[_$_90b0[483]](_$_90b0[1548])+ _$_90b0[403]+ _0x112D0[1]}function _0xAE02(_0x1132C){return Array[_$_90b0[868]](_0x1132C)}_0x5F20[_$_90b0[868]]= _0xAE02;function _0x10D9A(_0xE10A){return  typeof _0xE10A=== _$_90b0[825]}_0x5F20[_$_90b0[1549]]= _0x10D9A;function _0x10E24(_0xE10A){return _0xE10A=== null}_0x5F20[_$_90b0[1550]]= _0x10E24;function _0x10E52(_0xE10A){return _0xE10A== null}_0x5F20[_$_90b0[1551]]= _0x10E52;function _0x10E80(_0xE10A){return  typeof _0xE10A=== _$_90b0[495]}_0x5F20[_$_90b0[1552]]= _0x10E80;function _0x8B26(_0xE10A){return  typeof _0xE10A=== _$_90b0[67]}_0x5F20[_$_90b0[1553]]= _0x8B26;function _0x10F0A(_0xE10A){return  typeof _0xE10A=== _$_90b0[1039]}_0x5F20[_$_90b0[1554]]= _0x10F0A;function _0x10F38(_0xE10A){return _0xE10A=== void(0)}_0x5F20[_$_90b0[1555]]= _0x10F38;function _0x10EDC(_0x836C){return _0xCD74(_0x836C)&& _0xD306(_0x836C)=== _$_90b0[998]}_0x5F20[_$_90b0[1556]]= _0x10EDC;function _0xCD74(_0xE10A){return  typeof _0xE10A=== _$_90b0[99]&& _0xE10A!== null}_0x5F20[_$_90b0[1557]]= _0xCD74;function _0x10DC8(_0x8144){return _0xCD74(_0x8144)&& _0xD306(_0x8144)=== _$_90b0[903]}_0x5F20[_$_90b0[1558]]= _0x10DC8;function _0x10DF6(_0x5EF2){return _0xCD74(_0x5EF2)&& (_0xD306(_0x5EF2)=== _$_90b0[993]|| _0x5EF2 instanceof  Error)}_0x5F20[_$_90b0[1559]]= _0x10DF6;function _0xB6FE(_0xE10A){return  typeof _0xE10A=== _$_90b0[68]}_0x5F20[_$_90b0[1560]]= _0xB6FE;function _0x10EAE(_0xE10A){return _0xE10A=== null||  typeof _0xE10A=== _$_90b0[825]||  typeof _0xE10A=== _$_90b0[495]||  typeof _0xE10A=== _$_90b0[67]||  typeof _0xE10A=== _$_90b0[1039]||  typeof _0xE10A=== _$_90b0[53]}_0x5F20[_$_90b0[1561]]= _0x10EAE;_0x5F20[_$_90b0[866]]= _0x5FD8(_$_90b0[1562]);function _0xD306(_0x72B6){return Object[_$_90b0[36]][_$_90b0[485]][_$_90b0[54]](_0x72B6)}function _0x10F94(_0x82E2){return _0x82E2< 10?_$_90b0[753]+ _0x82E2[_$_90b0[485]](10):_0x82E2[_$_90b0[485]](10)}var _0x10F66=[_$_90b0[1563],_$_90b0[1564],_$_90b0[1565],_$_90b0[1566],_$_90b0[1567],_$_90b0[1568],_$_90b0[1569],_$_90b0[1570],_$_90b0[1571],_$_90b0[1572],_$_90b0[1573],_$_90b0[1574]];function _0x1104C(){var _0x8144= new Date();var _0xB9DE=[_0x10F94(_0x8144[_$_90b0[1575]]()),_0x10F94(_0x8144[_$_90b0[1576]]()),_0x10F94(_0x8144[_$_90b0[1577]]())][_$_90b0[483]](_$_90b0[109]);return [_0x8144[_$_90b0[1578]](),_0x10F66[_0x8144[_$_90b0[1579]]()],_0xB9DE][_$_90b0[483]](_$_90b0[403])}_0x5F20[_$_90b0[378]]= function(){console[_$_90b0[378]](_$_90b0[1580],_0x1104C(),_0x5F20[_$_90b0[1499]][_$_90b0[71]](_0x5F20,arguments))};_0x5F20[_$_90b0[493]]= _0x5FD8(_$_90b0[493]);_0x5F20[_$_90b0[1517]]= function(_0x1118E,_0x11160){if(!_0x11160||  !_0xCD74(_0x11160)){return _0x1118E};var _0x8594=Object[_$_90b0[488]](_0x11160);var _0x6200=_0x8594[_$_90b0[47]];while(_0x6200--){_0x1118E[_0x8594[_0x6200]]= _0x11160[_0x8594[_0x6200]]};return _0x1118E};function _0xCA94(_0x6A72,_0x105E0){return Object[_$_90b0[36]][_$_90b0[158]][_$_90b0[54]](_0x6A72,_0x105E0)}})[_$_90b0[54]](this,_0x5FD8(_$_90b0[1498]), typeof global!== _$_90b0[53]?global: typeof self!== _$_90b0[53]?self: typeof window!== _$_90b0[53]?window:{})},{"./support/isBuffer":88,"_process":55,"inherits":87}],90:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][30][0][_$_90b0[71]](_0x5F20,arguments)},{"./chrome/chrome_shim":91,"./edge/edge_shim":93,"./firefox/firefox_shim":95,"./safari/safari_shim":97,"./utils":98,"dup":30}],91:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[585])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[585])[_$_90b0[558]];var _0x93C6={shimMediaStream:function(){window[_$_90b0[586]]= window[_$_90b0[586]]|| window[_$_90b0[587]]},shimOnTrack:function(){if( typeof window=== _$_90b0[99]&& window[_$_90b0[588]]&&  !(_$_90b0[589] in  window[_$_90b0[588]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[588]][_$_90b0[36]],_$_90b0[589],{get:function(){return this[_$_90b0[590]]},set:function(_0x5E68){var _0x6B58=this;if(this[_$_90b0[590]]){this[_$_90b0[81]](_$_90b0[591],this[_$_90b0[590]]);this[_$_90b0[81]](_$_90b0[592],this[_$_90b0[593]])};this[_$_90b0[73]](_$_90b0[591],this[_$_90b0[590]]= _0x5E68);this[_$_90b0[73]](_$_90b0[592],this[_$_90b0[593]]= function(_0x5EF2){_0x5EF2[_$_90b0[597]][_$_90b0[73]](_$_90b0[594],function(_0x94AC){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94AC[_$_90b0[591]];_0x6AFC[_$_90b0[595]]= {track:_0x94AC[_$_90b0[591]]};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];_0x6B58[_$_90b0[598]](_0x6AFC)});_0x5EF2[_$_90b0[597]][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94DA;_0x6AFC[_$_90b0[595]]= {track:_0x94DA};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];this[_$_90b0[598]](_0x6AFC)}[_$_90b0[422]](this))}[_$_90b0[422]](this))}})}},shimSourceObject:function(){if( typeof window=== _$_90b0[99]){if(window[_$_90b0[601]]&&  !(_$_90b0[29] in  window[_$_90b0[601]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[601]][_$_90b0[36]],_$_90b0[29],{get:function(){return this[_$_90b0[602]]},set:function(_0x639E){var _0x6B58=this;this[_$_90b0[602]]= _0x639E;if(this[_$_90b0[261]]){URL[_$_90b0[603]](this[_$_90b0[261]])};if(!_0x639E){this[_$_90b0[261]]= _$_90b0[24];return};this[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E);_0x639E[_$_90b0[73]](_$_90b0[594],function(){if(_0x6B58[_$_90b0[261]]){URL[_$_90b0[603]](_0x6B58[_$_90b0[261]])};_0x6B58[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E)});_0x639E[_$_90b0[73]](_$_90b0[605],function(){if(_0x6B58[_$_90b0[261]]){URL[_$_90b0[603]](_0x6B58[_$_90b0[261]])};_0x6B58[_$_90b0[261]]= URL[_$_90b0[604]](_0x639E)})}})}}},shimPeerConnection:function(){window[_$_90b0[588]]= function(_0x9592,_0x95C0){_0x9450(_$_90b0[606]);if(_0x9592&& _0x9592[_$_90b0[607]]){_0x9592[_$_90b0[608]]= _0x9592[_$_90b0[607]]};var _0x9564= new webkitRTCPeerConnection(_0x9592,_0x95C0);var _0x9536=_0x9564[_$_90b0[609]][_$_90b0[422]](_0x9564);_0x9564[_$_90b0[609]]= function(_0x9678,_0x96A6,_0x95EE){var _0x6B58=this;var _0x6A16=arguments;if(arguments[_$_90b0[47]]> 0&&  typeof _0x9678=== _$_90b0[68]){return _0x9536(_0x9678,_0x96A6)};var _0x961C=function(_0x9730){var _0x975E={};var _0x9702=_0x9730[_$_90b0[472]]();_0x9702[_$_90b0[23]](function(_0x978C){var _0x97BA={id:_0x978C[_$_90b0[156]],timestamp:_0x978C[_$_90b0[610]],type:_0x978C[_$_90b0[65]]};_0x978C[_$_90b0[417]]()[_$_90b0[23]](function(_0x6DAE){_0x97BA[_0x6DAE]= _0x978C[_$_90b0[611]](_0x6DAE)});_0x975E[_0x97BA[_$_90b0[156]]]= _0x97BA});return _0x975E};var _0x964A=function(_0x9816,_0x97E8){var _0x85C2= new Map(Object[_$_90b0[488]](_0x9816)[_$_90b0[612]](function(_0x6BE2){return [_0x6BE2,_0x9816[_0x6BE2]]}));_0x97E8= _0x97E8|| _0x9816;Object[_$_90b0[488]](_0x97E8)[_$_90b0[23]](function(_0x6BE2){_0x85C2[_0x6BE2]= _0x97E8[_0x6BE2]});return _0x85C2};if(arguments[_$_90b0[47]]>= 2){var _0x96D4=function(_0x9730){_0x6A16[1](_0x964A(_0x961C(_0x9730)))};return _0x9536[_$_90b0[71]](this,[_0x96D4,arguments[0]])};return  new Promise(function(_0x9872,_0x9844){if(_0x6A16[_$_90b0[47]]=== 1&&  typeof _0x9678=== _$_90b0[99]){_0x9536[_$_90b0[71]](_0x6B58,[function(_0x9730){_0x9872(_0x964A(_0x961C(_0x9730)))},_0x9844])}else {_0x9536[_$_90b0[71]](_0x6B58,[function(_0x9730){_0x9872(_0x964A(_0x961C(_0x9730),_0x9730[_$_90b0[472]]()))},_0x9844])}})[_$_90b0[552]](_0x96A6,_0x95EE)};return _0x9564};window[_$_90b0[588]][_$_90b0[36]]= webkitRTCPeerConnection[_$_90b0[36]];if(webkitRTCPeerConnection[_$_90b0[613]]){Object[_$_90b0[600]](window[_$_90b0[588]],_$_90b0[613],{get:function(){return webkitRTCPeerConnection[_$_90b0[613]]}})};[_$_90b0[614],_$_90b0[615]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){var _0x6B58=this;if(arguments[_$_90b0[47]]< 1|| (arguments[_$_90b0[47]]=== 1&&  typeof arguments[0]=== _$_90b0[99])){var _0x6370=arguments[_$_90b0[47]]=== 1?arguments[0]:undefined;return  new Promise(function(_0x9872,_0x9844){_0x98CE[_$_90b0[71]](_0x6B58,[_0x9872,_0x9844,_0x6370])})};return _0x98CE[_$_90b0[71]](this,arguments)}});if(_0x9398[_$_90b0[616]]< 51){[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){var _0x6A16=arguments;var _0x6B58=this;var _0x98FC= new Promise(function(_0x9872,_0x9844){_0x98CE[_$_90b0[71]](_0x6B58,[_0x6A16[0],_0x9872,_0x9844])});if(_0x6A16[_$_90b0[47]]< 2){return _0x98FC};return _0x98FC[_$_90b0[552]](function(){_0x6A16[1][_$_90b0[71]](null,[])},function(_0x60EC){if(_0x6A16[_$_90b0[47]]>= 3){_0x6A16[2][_$_90b0[71]](null,[_0x60EC])}})}})};[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=webkitRTCPeerConnection[_$_90b0[36]][_0x98A0];webkitRTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){arguments[0]=  new ((_0x98A0=== _$_90b0[619])?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return _0x98CE[_$_90b0[71]](this,arguments)}});var _0x9508=RTCPeerConnection[_$_90b0[36]][_$_90b0[619]];RTCPeerConnection[_$_90b0[36]][_$_90b0[619]]= function(){if(!arguments[0]){if(arguments[1]){arguments[1][_$_90b0[71]](null)};return Promise[_$_90b0[620]]()};return _0x9508[_$_90b0[71]](this,arguments)}}};_0x5F4E[_$_90b0[0]]= {shimMediaStream:_0x93C6[_$_90b0[571]],shimOnTrack:_0x93C6[_$_90b0[573]],shimSourceObject:_0x93C6[_$_90b0[572]],shimPeerConnection:_0x93C6[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624])}},{"../utils.js":98,"./getusermedia":92}],92:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[585])[_$_90b0[378]];_0x5F4E[_$_90b0[0]]= function(){var _0x9958=function(_0x7DAC){if( typeof _0x7DAC!== _$_90b0[99]|| _0x7DAC[_$_90b0[532]]|| _0x7DAC[_$_90b0[627]]){return _0x7DAC};var _0x9A6C={};Object[_$_90b0[488]](_0x7DAC)[_$_90b0[23]](function(_0x6BE2){if(_0x6BE2=== _$_90b0[628]|| _0x6BE2=== _$_90b0[629]|| _0x6BE2=== _$_90b0[630]){return};var _0x7E36=( typeof _0x7DAC[_0x6BE2]=== _$_90b0[99])?_0x7DAC[_0x6BE2]:{ideal:_0x7DAC[_0x6BE2]};if(_0x7E36[_$_90b0[631]]!== undefined&&  typeof _0x7E36[_$_90b0[631]]=== _$_90b0[495]){_0x7E36[_$_90b0[30]]= _0x7E36[_$_90b0[31]]= _0x7E36[_$_90b0[631]]};var _0x9AC8=function(_0x63FA,_0x6DAE){if(_0x63FA){return _0x63FA+ _0x6DAE[_$_90b0[478]](0)[_$_90b0[632]]()+ _0x6DAE[_$_90b0[4]](1)};return (_0x6DAE=== _$_90b0[633])?_$_90b0[528]:_0x6DAE};if(_0x7E36[_$_90b0[634]]!== undefined){_0x9A6C[_$_90b0[627]]= _0x9A6C[_$_90b0[627]]|| [];var _0x9A9A={};if( typeof _0x7E36[_$_90b0[634]]=== _$_90b0[495]){_0x9A9A[_0x9AC8(_$_90b0[30],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A);_0x9A9A= {};_0x9A9A[_0x9AC8(_$_90b0[31],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A)}else {_0x9A9A[_0x9AC8(_$_90b0[24],_0x6BE2)]= _0x7E36[_$_90b0[634]];_0x9A6C[_$_90b0[627]][_$_90b0[75]](_0x9A9A)}};if(_0x7E36[_$_90b0[631]]!== undefined&&  typeof _0x7E36[_$_90b0[631]]!== _$_90b0[495]){_0x9A6C[_$_90b0[532]]= _0x9A6C[_$_90b0[532]]|| {};_0x9A6C[_$_90b0[532]][_0x9AC8(_$_90b0[24],_0x6BE2)]= _0x7E36[_$_90b0[631]]}else {[_$_90b0[30],_$_90b0[31]][_$_90b0[23]](function(_0x9AF6){if(_0x7E36[_0x9AF6]!== undefined){_0x9A6C[_$_90b0[532]]= _0x9A6C[_$_90b0[532]]|| {};_0x9A6C[_$_90b0[532]][_0x9AC8(_0x9AF6,_0x6BE2)]= _0x7E36[_0x9AF6]}})}});if(_0x7DAC[_$_90b0[629]]){_0x9A6C[_$_90b0[627]]= (_0x9A6C[_$_90b0[627]]|| [])[_$_90b0[70]](_0x7DAC[_$_90b0[629]])};return _0x9A6C};var _0x9A10=function(_0x9142,_0x9B52){_0x9142= JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9142));if(_0x9142&& _0x9142[_$_90b0[8]]){_0x9142[_$_90b0[8]]= _0x9958(_0x9142[_$_90b0[8]])};if(_0x9142&&  typeof _0x9142[_$_90b0[9]]=== _$_90b0[99]){var _0x9B24=_0x9142[_$_90b0[9]][_$_90b0[636]];_0x9B24= _0x9B24&& (( typeof _0x9B24=== _$_90b0[99])?_0x9B24:{ideal:_0x9B24});if((_0x9B24&& (_0x9B24[_$_90b0[631]]=== _$_90b0[450]|| _0x9B24[_$_90b0[631]]=== _$_90b0[637]|| _0x9B24[_$_90b0[634]]=== _$_90b0[450]|| _0x9B24[_$_90b0[634]]=== _$_90b0[637]))&&  !(navigator[_$_90b0[553]][_$_90b0[638]]&& navigator[_$_90b0[553]][_$_90b0[638]]()[_$_90b0[636]])){delete _0x9142[_$_90b0[9]][_$_90b0[636]];if(_0x9B24[_$_90b0[631]]=== _$_90b0[637]|| _0x9B24[_$_90b0[634]]=== _$_90b0[637]){return navigator[_$_90b0[553]][_$_90b0[646]]()[_$_90b0[552]](function(_0x9BAE){_0x9BAE= _0x9BAE[_$_90b0[641]](function(_0x8144){return _0x8144[_$_90b0[639]]=== _$_90b0[640]});var _0x9B80=_0x9BAE[_$_90b0[644]](function(_0x8144){return _0x8144[_$_90b0[643]][_$_90b0[11]]()[_$_90b0[52]](_$_90b0[642])!==  -1})|| (_0x9BAE[_$_90b0[47]]&& _0x9BAE[_0x9BAE[_$_90b0[47]]- 1]);if(_0x9B80){_0x9142[_$_90b0[9]][_$_90b0[633]]= _0x9B24[_$_90b0[631]]?{exact:_0x9B80[_$_90b0[633]]}:{ideal:_0x9B80[_$_90b0[633]]}};_0x9142[_$_90b0[9]]= _0x9958(_0x9142[_$_90b0[9]]);_0x9450(_$_90b0[645]+ JSON[_$_90b0[399]](_0x9142));return _0x9B52(_0x9142)})}};_0x9142[_$_90b0[9]]= _0x9958(_0x9142[_$_90b0[9]])};_0x9450(_$_90b0[645]+ JSON[_$_90b0[399]](_0x9142));return _0x9B52(_0x9142)};var _0x9A3E=function(_0x5EF2){return {name:{PermissionDeniedError:_$_90b0[647],ConstraintNotSatisfiedError:_$_90b0[648]}[_0x5EF2[_$_90b0[164]]]|| _0x5EF2[_$_90b0[164]],message:_0x5EF2[_$_90b0[207]],constraint:_0x5EF2[_$_90b0[649]],toString:function(){return this[_$_90b0[164]]+ (this[_$_90b0[207]]&& _$_90b0[650])+ this[_$_90b0[207]]}}};var _0x9986=function(_0x9142,_0x9C0A,_0x9BDC){_0x9A10(_0x9142,function(_0x7DAC){navigator[_$_90b0[651]](_0x7DAC,_0x9C0A,function(_0x5EF2){_0x9BDC(_0x9A3E(_0x5EF2))})})};navigator[_$_90b0[547]]= _0x9986;var _0x99B4=function(_0x9142){return  new Promise(function(_0x9872,_0x9844){navigator[_$_90b0[547]](_0x9142,_0x9872,_0x9844)})};if(!navigator[_$_90b0[553]]){navigator[_$_90b0[553]]= {getUserMedia:_0x99B4,enumerateDevices:function(){return  new Promise(function(_0x9872){var _0x9C38={audio:_$_90b0[652],video:_$_90b0[640]};return MediaStreamTrack[_$_90b0[653]](function(_0x9BAE){_0x9872(_0x9BAE[_$_90b0[612]](function(_0x9C66){return {label:_0x9C66[_$_90b0[643]],kind:_0x9C38[_0x9C66[_$_90b0[639]]],deviceId:_0x9C66[_$_90b0[156]],groupId:_$_90b0[24]}}))})})}}};if(!navigator[_$_90b0[553]][_$_90b0[547]]){navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x9142){return _0x99B4(_0x9142)}}else {var _0x99E2=navigator[_$_90b0[553]][_$_90b0[547]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x9C94){return _0x9A10(_0x9C94,function(_0x7DAC){return _0x99E2(_0x7DAC)[_$_90b0[552]](function(_0x639E){if(_0x7DAC[_$_90b0[8]]&&  !_0x639E[_$_90b0[795]]()[_$_90b0[47]]|| _0x7DAC[_$_90b0[9]]&&  !_0x639E[_$_90b0[796]]()[_$_90b0[47]]){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});throw  new DOMException(_$_90b0[24],_$_90b0[821])};return _0x639E},function(_0x5EF2){return Promise[_$_90b0[654]](_0x9A3E(_0x5EF2))})})}};if( typeof navigator[_$_90b0[553]][_$_90b0[73]]=== _$_90b0[53]){navigator[_$_90b0[553]][_$_90b0[73]]= function(){_0x9450(_$_90b0[655])}};if( typeof navigator[_$_90b0[553]][_$_90b0[81]]=== _$_90b0[53]){navigator[_$_90b0[553]][_$_90b0[81]]= function(){_0x9450(_$_90b0[656])}}}},{"../utils.js":98}],93:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9CC2=_0x5FD8(_$_90b0[657]);var _0x9398=_0x5FD8(_$_90b0[658])[_$_90b0[558]];var _0x93F4={shimPeerConnection:function(){if(window[_$_90b0[659]]){if(!window[_$_90b0[660]]){window[_$_90b0[660]]= function(_0x6A16){return _0x6A16}};if(!window[_$_90b0[661]]){window[_$_90b0[661]]= function(_0x6A16){return _0x6A16}};var _0x11440=Object[_$_90b0[1540]](MediaStreamTrack[_$_90b0[36]],_$_90b0[416]);Object[_$_90b0[600]](MediaStreamTrack[_$_90b0[36]],_$_90b0[416],{set:function(_0xB75A){_0x11440[_$_90b0[64]][_$_90b0[54]](this,_0xB75A);var _0x7B84= new Event(_$_90b0[416]);_0x7B84[_$_90b0[416]]= _0xB75A;this[_$_90b0[598]](_0x7B84)}})};window[_$_90b0[588]]= function(_0x9D1E){var _0x6B58=this;var _0x9CF0=document[_$_90b0[662]]();[_$_90b0[73],_$_90b0[81],_$_90b0[598]][_$_90b0[23]](function(_0x98A0){_0x6B58[_0x98A0]= _0x9CF0[_0x98A0][_$_90b0[422]](_0x9CF0)});this[_$_90b0[663]]= null;this[_$_90b0[664]]= null;this[_$_90b0[589]]= null;this[_$_90b0[665]]= null;this[_$_90b0[666]]= null;this[_$_90b0[667]]= null;this[_$_90b0[668]]= null;this[_$_90b0[669]]= null;this[_$_90b0[670]]= [];this[_$_90b0[671]]= [];this[_$_90b0[672]]= function(){return _0x6B58[_$_90b0[670]]};this[_$_90b0[673]]= function(){return _0x6B58[_$_90b0[671]]};this[_$_90b0[674]]=  new RTCSessionDescription({type:_$_90b0[24],sdp:_$_90b0[24]});this[_$_90b0[675]]=  new RTCSessionDescription({type:_$_90b0[24],sdp:_$_90b0[24]});this[_$_90b0[676]]= _$_90b0[677];this[_$_90b0[678]]= _$_90b0[679];this[_$_90b0[680]]= _$_90b0[679];this[_$_90b0[681]]= {gatherPolicy:_$_90b0[682],iceServers:[]};if(_0x9D1E&& _0x9D1E[_$_90b0[607]]){switch(_0x9D1E[_$_90b0[607]]){case _$_90b0[682]:;case _$_90b0[684]:this[_$_90b0[681]][_$_90b0[683]]= _0x9D1E[_$_90b0[607]];break;case _$_90b0[686]:throw  new TypeError(_$_90b0[685]);default:break}};this[_$_90b0[687]]= _0x9D1E&& _0x9D1E[_$_90b0[688]]=== _$_90b0[689];if(_0x9D1E&& _0x9D1E[_$_90b0[690]]){var _0x9D4C=JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9D1E[_$_90b0[690]]));this[_$_90b0[681]][_$_90b0[690]]= _0x9D4C[_$_90b0[641]](function(_0x9D7A){if(_0x9D7A&& _0x9D7A[_$_90b0[691]]){var _0x9DA8=_0x9D7A[_$_90b0[691]];if( typeof _0x9DA8=== _$_90b0[67]){_0x9DA8= [_0x9DA8]};_0x9DA8= _0x9DA8[_$_90b0[641]](function(_0x9DD6){return (_0x9DD6[_$_90b0[52]](_$_90b0[692])=== 0&& _0x9DD6[_$_90b0[52]](_$_90b0[693])!==  -1&& _0x9DD6[_$_90b0[52]](_$_90b0[1581])===  -1)|| (_0x9DD6[_$_90b0[52]](_$_90b0[1582])=== 0&& _0x9398[_$_90b0[616]]>= 14393)})[0];return !!_0x9DA8};return false})};this[_$_90b0[1583]]= _0x9D1E;this[_$_90b0[694]]= [];this[_$_90b0[695]]= []};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[696]]= function(){var _0x6B58=this;var _0x9E04=_0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[674]][_$_90b0[657]]);this[_$_90b0[695]][_$_90b0[23]](function(_0x6AFC){var _0x61D2=!_0x6AFC[_$_90b0[698]]|| Object[_$_90b0[488]](_0x6AFC[_$_90b0[698]])[_$_90b0[47]]=== 0;if(_0x61D2){for(var _0x725A=1;_0x725A< _0x9E04[_$_90b0[47]];_0x725A++){if(_0x9E04[_0x725A][_$_90b0[52]](_$_90b0[699])===  -1){_0x9E04[_0x725A]+= _$_90b0[700]}}}else {if(_0x6AFC[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_$_90b0[701])===  -1){_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[703]+ _0x6AFC[_$_90b0[698]][_$_90b0[698]]+ _$_90b0[704]}};_0x6B58[_$_90b0[674]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24]);_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]](_0x6AFC)};if(!_0x6AFC[_$_90b0[698]]&& _0x6B58[_$_90b0[680]]!== _$_90b0[300]){var _0x7790=_0x6B58[_$_90b0[694]][_$_90b0[708]](function(_0x9E32){return _0x9E32[_$_90b0[705]]&& _0x9E32[_$_90b0[705]][_$_90b0[706]]=== _$_90b0[707]});if(_0x7790){_0x6B58[_$_90b0[680]]= _$_90b0[300]}}});this[_$_90b0[695]]= []};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[1584]]= function(){return this[_$_90b0[1583]]};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[709]]= function(_0x639E){var _0x1146E=_0x639E[_$_90b0[710]]();_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA,_0x9E60){var _0x1149C=_0x1146E[_$_90b0[599]]()[_0x9E60];_0x94DA[_$_90b0[73]](_$_90b0[416],function(_0x6AFC){_0x1149C[_$_90b0[416]]= _0x6AFC[_$_90b0[416]]})});this[_$_90b0[670]][_$_90b0[75]](_0x1146E);this[_$_90b0[711]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[712]]= function(_0x639E){var _0x9E60=this[_$_90b0[670]][_$_90b0[52]](_0x639E);if(_0x9E60>  -1){this[_$_90b0[670]][_$_90b0[82]](_0x9E60,1);this[_$_90b0[711]]()}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[713]]= function(){return this[_$_90b0[694]][_$_90b0[641]](function(_0x9E32){return !!_0x9E32[_$_90b0[714]]})[_$_90b0[612]](function(_0x9E32){return _0x9E32[_$_90b0[714]]})};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[715]]= function(){return this[_$_90b0[694]][_$_90b0[641]](function(_0x9E32){return !!_0x9E32[_$_90b0[716]]})[_$_90b0[612]](function(_0x9E32){return _0x9E32[_$_90b0[716]]})};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[717]]= function(_0x9EBC,_0x9EEA){var _0x9E8E={codecs:[],headerExtensions:[],fecMechanisms:[]};_0x9EBC[_$_90b0[718]][_$_90b0[23]](function(_0x9F18){for(var _0x6200=0;_0x6200< _0x9EEA[_$_90b0[718]][_$_90b0[47]];_0x6200++){var _0x9F46=_0x9EEA[_$_90b0[718]][_0x6200];if(_0x9F18[_$_90b0[164]][_$_90b0[11]]()=== _0x9F46[_$_90b0[164]][_$_90b0[11]]()&& _0x9F18[_$_90b0[719]]=== _0x9F46[_$_90b0[719]]){_0x9F46[_$_90b0[720]]= Math[_$_90b0[30]](_0x9F18[_$_90b0[720]],_0x9F46[_$_90b0[720]]);_0x9E8E[_$_90b0[718]][_$_90b0[75]](_0x9F46);_0x9F46[_$_90b0[1302]]= _0x9F46[_$_90b0[1302]][_$_90b0[641]](function(_0xF838){for(var _0x725A=0;_0x725A< _0x9F18[_$_90b0[1302]][_$_90b0[47]];_0x725A++){if(_0x9F18[_$_90b0[1302]][_0x725A][_$_90b0[65]]=== _0xF838[_$_90b0[65]]&& _0x9F18[_$_90b0[1302]][_0x725A][_$_90b0[1303]]=== _0xF838[_$_90b0[1303]]){return true}};return false});break}}});_0x9EBC[_$_90b0[721]][_$_90b0[23]](function(_0x9F74){for(var _0x6200=0;_0x6200< _0x9EEA[_$_90b0[721]][_$_90b0[47]];_0x6200++){var _0x9FA2=_0x9EEA[_$_90b0[721]][_0x6200];if(_0x9F74[_$_90b0[262]]=== _0x9FA2[_$_90b0[262]]){_0x9E8E[_$_90b0[721]][_$_90b0[75]](_0x9FA2);break}}});return _0x9E8E};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[722]]= function(_0xA05A,_0xA088){var _0x6B58=this;var _0x9FFE= new RTCIceGatherer(_0x6B58[_$_90b0[681]]);var _0xA02C= new RTCIceTransport(_0x9FFE);_0x9FFE[_$_90b0[723]]= function(_0xA0E4){var _0x6AFC= new Event(_$_90b0[724]);_0x6AFC[_$_90b0[698]]= {sdpMid:_0xA05A,sdpMLineIndex:_0xA088};var _0xA0B6=_0xA0E4[_$_90b0[698]];var _0x61D2=!_0xA0B6|| Object[_$_90b0[488]](_0xA0B6)[_$_90b0[47]]=== 0;if(_0x61D2){if(_0x9FFE[_$_90b0[706]]=== undefined){_0x9FFE[_$_90b0[706]]= _$_90b0[707]};_0x6AFC[_$_90b0[698]][_$_90b0[698]]= _$_90b0[725]}else {_0xA0B6[_$_90b0[726]]= _0xA02C[_$_90b0[726]]=== _$_90b0[727]?2:1;_0x6AFC[_$_90b0[698]][_$_90b0[698]]= _0x9CC2[_$_90b0[728]](_0xA0B6)};var _0x9E04=_0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[674]][_$_90b0[657]]);if(_0x6AFC[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_$_90b0[701])===  -1){_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[703]+ _0x6AFC[_$_90b0[698]][_$_90b0[698]]+ _$_90b0[704]}else {_0x9E04[_0x6AFC[_$_90b0[698]][_$_90b0[702]]+ 1]+= _$_90b0[700]};_0x6B58[_$_90b0[674]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24]);var _0x7790=_0x6B58[_$_90b0[694]][_$_90b0[708]](function(_0x9E32){return _0x9E32[_$_90b0[705]]&& _0x9E32[_$_90b0[705]][_$_90b0[706]]=== _$_90b0[707]});switch(_0x6B58[_$_90b0[680]]){case _$_90b0[679]:_0x6B58[_$_90b0[695]][_$_90b0[75]](_0x6AFC);if(_0x61D2&& _0x7790){_0x6B58[_$_90b0[695]][_$_90b0[75]]( new Event(_$_90b0[724]))};break;case _$_90b0[729]:_0x6B58[_$_90b0[696]]();_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]](_0x6AFC)};if(_0x7790){_0x6B58[_$_90b0[598]]( new Event(_$_90b0[724]));if(_0x6B58[_$_90b0[663]]!== null){_0x6B58[_$_90b0[663]]( new Event(_$_90b0[724]))};_0x6B58[_$_90b0[680]]= _$_90b0[300]};break;case _$_90b0[300]:break;default:break}};_0xA02C[_$_90b0[730]]= function(){_0x6B58[_$_90b0[731]]()};var _0x9FD0= new RTCDtlsTransport(_0xA02C);_0x9FD0[_$_90b0[732]]= function(){_0x6B58[_$_90b0[731]]()};_0x9FD0[_$_90b0[254]]= function(){_0x9FD0[_$_90b0[706]]= _$_90b0[733];_0x6B58[_$_90b0[731]]()};return {iceGatherer:_0x9FFE,iceTransport:_0xA02C,dtlsTransport:_0x9FD0}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[734]]= function(_0x9E32,_0xA16E,_0xA140){var _0xA112=this[_$_90b0[717]](_0x9E32[_$_90b0[735]],_0x9E32[_$_90b0[736]]);if(_0xA16E&& _0x9E32[_$_90b0[714]]){_0xA112[_$_90b0[737]]= _0x9E32[_$_90b0[738]];_0xA112[_$_90b0[739]]= {cname:_0x9CC2[_$_90b0[740]]};if(_0x9E32[_$_90b0[741]][_$_90b0[47]]){_0xA112[_$_90b0[739]][_$_90b0[742]]= _0x9E32[_$_90b0[741]][0][_$_90b0[742]]};_0x9E32[_$_90b0[714]][_$_90b0[179]](_0xA112)};if(_0xA140&& _0x9E32[_$_90b0[716]]){if(_0x9E32[_$_90b0[639]]=== _$_90b0[9]&& _0x9E32[_$_90b0[741]]){_0x9E32[_$_90b0[741]][_$_90b0[23]](function(_0x6708){delete _0x6708[_$_90b0[1341]]})};_0xA112[_$_90b0[737]]= _0x9E32[_$_90b0[741]];_0xA112[_$_90b0[739]]= {cname:_0x9E32[_$_90b0[743]]};if(_0x9E32[_$_90b0[738]][_$_90b0[47]]){_0xA112[_$_90b0[739]][_$_90b0[742]]= _0x9E32[_$_90b0[738]][0][_$_90b0[742]]};_0x9E32[_$_90b0[716]][_$_90b0[507]](_0xA112)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[617]]= function(_0xA19C){var _0x6B58=this;var _0x9E04;var _0xA226;if(_0xA19C[_$_90b0[65]]=== _$_90b0[744]){if(this[_$_90b0[745]]){_0x9E04= _0x9CC2[_$_90b0[697]](_0xA19C[_$_90b0[657]]);_0xA226= _0x9E04[_$_90b0[112]]();_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0xA254=_0x9CC2[_$_90b0[746]](_0xA282);_0x6B58[_$_90b0[745]][_0xA088][_$_90b0[735]]= _0xA254});this[_$_90b0[694]]= this[_$_90b0[745]];delete this[_$_90b0[745]]}}else {if(_0xA19C[_$_90b0[65]]=== _$_90b0[747]){_0x9E04= _0x9CC2[_$_90b0[697]](_0x6B58[_$_90b0[675]][_$_90b0[657]]);_0xA226= _0x9E04[_$_90b0[112]]();var _0xA1F8=_0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[748])[_$_90b0[47]]> 0;_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0x9E32=_0x6B58[_$_90b0[694]][_0xA088];var _0x9FFE=_0x9E32[_$_90b0[705]];var _0xA02C=_0x9E32[_$_90b0[750]];var _0x9FD0=_0x9E32[_$_90b0[751]];var _0x9EBC=_0x9E32[_$_90b0[735]];var _0x9EEA=_0x9E32[_$_90b0[736]];var _0xA2DE=_0xA282[_$_90b0[110]](_$_90b0[752],1)[0][_$_90b0[110]](_$_90b0[403],2)[1]=== _$_90b0[753];if(!_0xA2DE&&  !_0x9E32[_$_90b0[1585]]){var _0xA33A=_0x9CC2[_$_90b0[754]](_0xA282,_0xA226);if(_0xA1F8){var _0xA2B0=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[757])[_$_90b0[612]](function(_0xA0B6){return _0x9CC2[_$_90b0[756]](_0xA0B6)})[_$_90b0[641]](function(_0xA0B6){return _0xA0B6[_$_90b0[726]]=== _$_90b0[755]});if(_0xA2B0[_$_90b0[47]]){_0xA02C[_$_90b0[758]](_0xA2B0)}};var _0xA30C=_0x9CC2[_$_90b0[759]](_0xA282,_0xA226);if(_0xA1F8){_0xA30C[_$_90b0[760]]= _$_90b0[761]};if(!_0x6B58[_$_90b0[687]]|| _0xA088=== 0){_0xA02C[_$_90b0[764]](_0x9FFE,_0xA33A,_0xA1F8?_$_90b0[762]:_$_90b0[763]);_0x9FD0[_$_90b0[764]](_0xA30C)};var _0xA112=_0x6B58[_$_90b0[717]](_0x9EBC,_0x9EEA);_0x6B58[_$_90b0[734]](_0x9E32,_0xA112[_$_90b0[718]][_$_90b0[47]]> 0,false)}})}};this[_$_90b0[674]]= {type:_0xA19C[_$_90b0[65]],sdp:_0xA19C[_$_90b0[657]]};switch(_0xA19C[_$_90b0[65]]){case _$_90b0[744]:this[_$_90b0[766]](_$_90b0[765]);break;case _$_90b0[747]:this[_$_90b0[766]](_$_90b0[677]);break;default:throw  new TypeError(_$_90b0[767]+ _0xA19C[_$_90b0[65]]+ _$_90b0[768])};var _0xA1CA=arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68];if(_0xA1CA){var _0x6BB4=arguments[1];window[_$_90b0[499]](function(){_0x6BB4();if(_0x6B58[_$_90b0[680]]=== _$_90b0[679]){_0x6B58[_$_90b0[680]]= _$_90b0[729]};_0x6B58[_$_90b0[696]]()},0)};var _0x6708=Promise[_$_90b0[620]]();_0x6708[_$_90b0[552]](function(){if(!_0xA1CA){if(_0x6B58[_$_90b0[680]]=== _$_90b0[679]){_0x6B58[_$_90b0[680]]= _$_90b0[729]};window[_$_90b0[499]](_0x6B58[_$_90b0[696]][_$_90b0[422]](_0x6B58),500)}});return _0x6708};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[618]]= function(_0xA19C){var _0x6B58=this;var _0x639E= new MediaStream();var _0xA368=[];var _0x9E04=_0x9CC2[_$_90b0[697]](_0xA19C[_$_90b0[657]]);var _0xA226=_0x9E04[_$_90b0[112]]();var _0xA1F8=_0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[748])[_$_90b0[47]]> 0;this[_$_90b0[687]]= _0x9CC2[_$_90b0[749]](_0xA226,_$_90b0[769])[_$_90b0[47]]> 0;_0x9E04[_$_90b0[23]](function(_0xA282,_0xA088){var _0xA44E=_0x9CC2[_$_90b0[770]](_0xA282);var _0xA4AA=_0xA44E[0][_$_90b0[425]](2)[_$_90b0[110]](_$_90b0[403]);var _0xA420=_0xA4AA[0];var _0xA2DE=_0xA4AA[1]=== _$_90b0[753];var _0xA3C4=_0x9CC2[_$_90b0[771]](_0xA282,_0xA226);var _0xA05A=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[774]);if(_0xA05A[_$_90b0[47]]){_0xA05A= _0xA05A[0][_$_90b0[425]](6)}else {_0xA05A= _0x9CC2[_$_90b0[775]]()};if(_0xA420=== _$_90b0[1149]&& _0xA4AA[2]=== _$_90b0[1271]){_0x6B58[_$_90b0[694]][_0xA088]= {mid:_0xA05A,isDatachannel:true};return};var _0x9E32;var _0x9FFE;var _0xA02C;var _0x9FD0;var _0xA562;var _0xA534;var _0xA590;var _0xA4D8;var _0x9EBC;var _0x94DA;var _0x9EEA=_0x9CC2[_$_90b0[746]](_0xA282);var _0xA33A;var _0xA30C;if(!_0xA2DE){_0xA33A= _0x9CC2[_$_90b0[754]](_0xA282,_0xA226);_0xA30C= _0x9CC2[_$_90b0[759]](_0xA282,_0xA226);_0xA30C[_$_90b0[760]]= _$_90b0[772]};_0xA4D8= _0x9CC2[_$_90b0[773]](_0xA282);var _0xA396;var _0xA506=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[778])[_$_90b0[612]](function(_0xA5BE){return _0x9CC2[_$_90b0[777]](_0xA5BE)})[_$_90b0[641]](function(_0x6A72){return _0x6A72[_$_90b0[776]]=== _$_90b0[743]})[0];if(_0xA506){_0xA396= _0xA506[_$_90b0[295]]};var _0xA3F2=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[779],_0xA226)[_$_90b0[47]]> 0;var _0xA2B0=_0x9CC2[_$_90b0[749]](_0xA282,_$_90b0[757])[_$_90b0[612]](function(_0xA0B6){return _0x9CC2[_$_90b0[756]](_0xA0B6)})[_$_90b0[641]](function(_0xA0B6){return _0xA0B6[_$_90b0[726]]=== _$_90b0[755]});if(_0xA19C[_$_90b0[65]]=== _$_90b0[744]&&  !_0xA2DE){var _0x6D80=_0x6B58[_$_90b0[687]]&& _0xA088> 0?{iceGatherer:_0x6B58[_$_90b0[694]][0][_$_90b0[705]],iceTransport:_0x6B58[_$_90b0[694]][0][_$_90b0[750]],dtlsTransport:_0x6B58[_$_90b0[694]][0][_$_90b0[751]]}:_0x6B58[_$_90b0[722]](_0xA05A,_0xA088);if(_0xA3F2){_0x6D80[_$_90b0[750]][_$_90b0[758]](_0xA2B0)};_0x9EBC= RTCRtpReceiver[_$_90b0[780]](_0xA420);_0x9EBC[_$_90b0[718]]= _0x9EBC[_$_90b0[718]][_$_90b0[641]](function(_0xF8F0){return _0xF8F0[_$_90b0[164]]!== _$_90b0[1341]});_0xA590= [{ssrc:(2* _0xA088+ 2)* 1001}];_0xA534=  new RTCRtpReceiver(_0x6D80[_$_90b0[751]],_0xA420);_0x94DA= _0xA534[_$_90b0[591]];_0xA368[_$_90b0[75]]([_0x94DA,_0xA534]);_0x639E[_$_90b0[781]](_0x94DA);if(_0x6B58[_$_90b0[670]][_$_90b0[47]]> 0&& _0x6B58[_$_90b0[670]][0][_$_90b0[599]]()[_$_90b0[47]]>= _0xA088){var _0x114CA;if(_0xA420=== _$_90b0[8]){_0x114CA= _0x6B58[_$_90b0[670]][0][_$_90b0[795]]()[0]}else {if(_0xA420=== _$_90b0[9]){_0x114CA= _0x6B58[_$_90b0[670]][0][_$_90b0[796]]()[0]}};if(_0x114CA){_0xA562=  new RTCRtpSender(_0x114CA,_0x6D80[_$_90b0[751]])}};_0x6B58[_$_90b0[694]][_0xA088]= {iceGatherer:_0x6D80[_$_90b0[705]],iceTransport:_0x6D80[_$_90b0[750]],dtlsTransport:_0x6D80[_$_90b0[751]],localCapabilities:_0x9EBC,remoteCapabilities:_0x9EEA,rtpSender:_0xA562,rtpReceiver:_0xA534,kind:_0xA420,mid:_0xA05A,cname:_0xA396,sendEncodingParameters:_0xA590,recvEncodingParameters:_0xA4D8};_0x6B58[_$_90b0[734]](_0x6B58[_$_90b0[694]][_0xA088],false,_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783])}else {if(_0xA19C[_$_90b0[65]]=== _$_90b0[747]&&  !_0xA2DE){_0x9E32= _0x6B58[_$_90b0[694]][_0xA088];_0x9FFE= _0x9E32[_$_90b0[705]];_0xA02C= _0x9E32[_$_90b0[750]];_0x9FD0= _0x9E32[_$_90b0[751]];_0xA562= _0x9E32[_$_90b0[714]];_0xA534= _0x9E32[_$_90b0[716]];_0xA590= _0x9E32[_$_90b0[738]];_0x9EBC= _0x9E32[_$_90b0[735]];_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[741]]= _0xA4D8;_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[736]]= _0x9EEA;_0x6B58[_$_90b0[694]][_0xA088][_$_90b0[743]]= _0xA396;if((_0xA1F8|| _0xA3F2)&& _0xA2B0[_$_90b0[47]]){_0xA02C[_$_90b0[758]](_0xA2B0)};if(!_0x6B58[_$_90b0[687]]|| _0xA088=== 0){_0xA02C[_$_90b0[764]](_0x9FFE,_0xA33A,_$_90b0[762]);_0x9FD0[_$_90b0[764]](_0xA30C)};_0x6B58[_$_90b0[734]](_0x9E32,_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[784],_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783]);if(_0xA534&& (_0xA3C4=== _$_90b0[782]|| _0xA3C4=== _$_90b0[783])){_0x94DA= _0xA534[_$_90b0[591]];_0xA368[_$_90b0[75]]([_0x94DA,_0xA534]);_0x639E[_$_90b0[781]](_0x94DA)}else {delete _0x9E32[_$_90b0[716]]}}}});this[_$_90b0[675]]= {type:_0xA19C[_$_90b0[65]],sdp:_0xA19C[_$_90b0[657]]};switch(_0xA19C[_$_90b0[65]]){case _$_90b0[744]:this[_$_90b0[766]](_$_90b0[785]);break;case _$_90b0[747]:this[_$_90b0[766]](_$_90b0[677]);break;default:throw  new TypeError(_$_90b0[767]+ _0xA19C[_$_90b0[65]]+ _$_90b0[768])};if(_0x639E[_$_90b0[599]]()[_$_90b0[47]]){_0x6B58[_$_90b0[671]][_$_90b0[75]](_0x639E);window[_$_90b0[499]](function(){var _0x6AFC= new Event(_$_90b0[592]);_0x6AFC[_$_90b0[597]]= _0x639E;_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[664]]!== null){window[_$_90b0[499]](function(){_0x6B58[_$_90b0[664]](_0x6AFC)},0)};_0xA368[_$_90b0[23]](function(_0x6314){var _0x94DA=_0x6314[0];var _0xA5EC=_0x6314[1];var _0xA61A= new Event(_$_90b0[591]);_0xA61A[_$_90b0[591]]= _0x94DA;_0xA61A[_$_90b0[595]]= _0xA5EC;_0xA61A[_$_90b0[596]]= [_0x639E];_0x6B58[_$_90b0[598]](_0x6AFC);if(_0x6B58[_$_90b0[589]]!== null){window[_$_90b0[499]](function(){_0x6B58[_$_90b0[589]](_0xA61A)},0)}})},0)};if(arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]){window[_$_90b0[499]](arguments[1],0)};return Promise[_$_90b0[620]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[166]]= function(){this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){if(_0x9E32[_$_90b0[750]]){_0x9E32[_$_90b0[750]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[751]]){_0x9E32[_$_90b0[751]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[714]]){_0x9E32[_$_90b0[714]][_$_90b0[786]]()};if(_0x9E32[_$_90b0[716]]){_0x9E32[_$_90b0[716]][_$_90b0[786]]()}});this[_$_90b0[766]](_$_90b0[185])};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[766]]= function(_0xA648){this[_$_90b0[676]]= _0xA648;var _0x6AFC= new Event(_$_90b0[787]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[666]]!== null){this[_$_90b0[666]](_0x6AFC)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[711]]= function(){var _0x6AFC= new Event(_$_90b0[788]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[668]]!== null){this[_$_90b0[668]](_0x6AFC)}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[731]]= function(){var _0x6B58=this;var _0xA648;var _0xA676={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){_0xA676[_0x9E32[_$_90b0[750]][_$_90b0[706]]]++;_0xA676[_0x9E32[_$_90b0[751]][_$_90b0[706]]]++});_0xA676[_$_90b0[789]]+= _0xA676[_$_90b0[707]];_0xA648= _$_90b0[679];if(_0xA676[_$_90b0[733]]> 0){_0xA648= _$_90b0[733]}else {if(_0xA676[_$_90b0[790]]> 0|| _0xA676[_$_90b0[791]]> 0){_0xA648= _$_90b0[790]}else {if(_0xA676[_$_90b0[792]]> 0){_0xA648= _$_90b0[792]}else {if(_0xA676[_$_90b0[679]]> 0){_0xA648= _$_90b0[679]}else {if(_0xA676[_$_90b0[789]]> 0|| _0xA676[_$_90b0[707]]> 0){_0xA648= _$_90b0[789]}}}}};if(_0xA648!== _0x6B58[_$_90b0[678]]){_0x6B58[_$_90b0[678]]= _0xA648;var _0x6AFC= new Event(_$_90b0[793]);this[_$_90b0[598]](_0x6AFC);if(this[_$_90b0[667]]!== null){this[_$_90b0[667]](_0x6AFC)}}};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[614]]= function(){var _0x6B58=this;if(this[_$_90b0[745]]){throw  new Error(_$_90b0[794])};var _0xA700;if(arguments[_$_90b0[47]]=== 1&&  typeof arguments[0]!== _$_90b0[68]){_0xA700= arguments[0]}else {if(arguments[_$_90b0[47]]=== 3){_0xA700= arguments[2]}};var _0xA75C=[];var _0xA6A4=0;var _0xA6D2=0;if(this[_$_90b0[670]][_$_90b0[47]]){_0xA6A4= this[_$_90b0[670]][0][_$_90b0[795]]()[_$_90b0[47]];_0xA6D2= this[_$_90b0[670]][0][_$_90b0[796]]()[_$_90b0[47]]};if(_0xA700){if(_0xA700[_$_90b0[532]]|| _0xA700[_$_90b0[627]]){throw  new TypeError(_$_90b0[797])};if(_0xA700[_$_90b0[798]]!== undefined){_0xA6A4= _0xA700[_$_90b0[798]]};if(_0xA700[_$_90b0[799]]!== undefined){_0xA6D2= _0xA700[_$_90b0[799]]}};if(this[_$_90b0[670]][_$_90b0[47]]){this[_$_90b0[670]][0][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0xA75C[_$_90b0[75]]({kind:_0x94DA[_$_90b0[639]],track:_0x94DA,wantReceive:_0x94DA[_$_90b0[639]]=== _$_90b0[8]?_0xA6A4> 0:_0xA6D2> 0});if(_0x94DA[_$_90b0[639]]=== _$_90b0[8]){_0xA6A4--}else {if(_0x94DA[_$_90b0[639]]=== _$_90b0[9]){_0xA6D2--}}})};while(_0xA6A4> 0|| _0xA6D2> 0){if(_0xA6A4> 0){_0xA75C[_$_90b0[75]]({kind:_$_90b0[8],wantReceive:true});_0xA6A4--};if(_0xA6D2> 0){_0xA75C[_$_90b0[75]]({kind:_$_90b0[9],wantReceive:true});_0xA6D2--}};var _0xA72E=_0x9CC2[_$_90b0[800]]();var _0xA78A=[];_0xA75C[_$_90b0[23]](function(_0xA4AA,_0xA088){var _0x94DA=_0xA4AA[_$_90b0[591]];var _0xA420=_0xA4AA[_$_90b0[639]];var _0xA05A=_0x9CC2[_$_90b0[775]]();var _0x6D80=_0x6B58[_$_90b0[687]]&& _0xA088> 0?{iceGatherer:_0xA78A[0][_$_90b0[705]],iceTransport:_0xA78A[0][_$_90b0[750]],dtlsTransport:_0xA78A[0][_$_90b0[751]]}:_0x6B58[_$_90b0[722]](_0xA05A,_0xA088);var _0x9EBC=RTCRtpSender[_$_90b0[780]](_0xA420);_0x9EBC[_$_90b0[718]]= _0x9EBC[_$_90b0[718]][_$_90b0[641]](function(_0xF8F0){return _0xF8F0[_$_90b0[164]]!== _$_90b0[1341]});_0x9EBC[_$_90b0[718]][_$_90b0[23]](function(_0xF8F0){if(_0xF8F0[_$_90b0[164]]=== _$_90b0[1586]&& _0xF8F0[_$_90b0[1167]][_$_90b0[1587]]=== undefined){_0xF8F0[_$_90b0[1167]][_$_90b0[1587]]= _$_90b0[755]}});var _0xA562;var _0xA534;var _0xA590=[{ssrc:(2* _0xA088+ 1)* 1001}];if(_0x94DA){_0xA562=  new RTCRtpSender(_0x94DA,_0x6D80[_$_90b0[751]])};if(_0xA4AA[_$_90b0[801]]){_0xA534=  new RTCRtpReceiver(_0x6D80[_$_90b0[751]],_0xA420)};_0xA78A[_0xA088]= {iceGatherer:_0x6D80[_$_90b0[705]],iceTransport:_0x6D80[_$_90b0[750]],dtlsTransport:_0x6D80[_$_90b0[751]],localCapabilities:_0x9EBC,remoteCapabilities:null,rtpSender:_0xA562,rtpReceiver:_0xA534,kind:_0xA420,mid:_0xA05A,sendEncodingParameters:_0xA590,recvEncodingParameters:null}});if(this[_$_90b0[687]]){_0xA72E+= _$_90b0[769]+ _0xA78A[_$_90b0[612]](function(_0xA7B8){return _0xA7B8[_$_90b0[802]]})[_$_90b0[483]](_$_90b0[403])+ _$_90b0[704]};_0xA75C[_$_90b0[23]](function(_0xA4AA,_0xA088){var _0x9E32=_0xA78A[_0xA088];_0xA72E+= _0x9CC2[_$_90b0[803]](_0x9E32,_0x9E32[_$_90b0[735]],_$_90b0[744],_0x6B58[_$_90b0[670]][0])});this[_$_90b0[745]]= _0xA78A;var _0x71D0= new RTCSessionDescription({type:_$_90b0[744],sdp:_0xA72E});if(arguments[_$_90b0[47]]&&  typeof arguments[0]=== _$_90b0[68]){window[_$_90b0[499]](arguments[0],0,_0x71D0)};return Promise[_$_90b0[620]](_0x71D0)};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[615]]= function(){var _0x6B58=this;var _0xA72E=_0x9CC2[_$_90b0[800]]();if(this[_$_90b0[687]]){_0xA72E+= _$_90b0[769]+ this[_$_90b0[694]][_$_90b0[612]](function(_0xA7B8){return _0xA7B8[_$_90b0[802]]})[_$_90b0[483]](_$_90b0[403])+ _$_90b0[704]};this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){if(_0x9E32[_$_90b0[1585]]){_0xA72E+= _$_90b0[1588]+ _$_90b0[1315]+ _$_90b0[774]+ _0x9E32[_$_90b0[802]]+ _$_90b0[704];return};var _0x9E8E=_0x6B58[_$_90b0[717]](_0x9E32[_$_90b0[735]],_0x9E32[_$_90b0[736]]);_0xA72E+= _0x9CC2[_$_90b0[803]](_0x9E32,_0x9E8E,_$_90b0[747],_0x6B58[_$_90b0[670]][0])});var _0x71D0= new RTCSessionDescription({type:_$_90b0[747],sdp:_0xA72E});if(arguments[_$_90b0[47]]&&  typeof arguments[0]=== _$_90b0[68]){window[_$_90b0[499]](arguments[0],0,_0x71D0)};return Promise[_$_90b0[620]](_0x71D0)};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[619]]= function(_0xA7E6){if(!_0xA7E6){this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){_0x9E32[_$_90b0[750]][_$_90b0[804]]({})})}else {var _0xA814=_0xA7E6[_$_90b0[702]];if(_0xA7E6[_$_90b0[805]]){for(var _0x6200=0;_0x6200< this[_$_90b0[694]][_$_90b0[47]];_0x6200++){if(this[_$_90b0[694]][_0x6200][_$_90b0[802]]=== _0xA7E6[_$_90b0[805]]){_0xA814= _0x6200;break}}};var _0x9E32=this[_$_90b0[694]][_0xA814];if(_0x9E32){var _0xA0B6=Object[_$_90b0[488]](_0xA7E6[_$_90b0[698]])[_$_90b0[47]]> 0?_0x9CC2[_$_90b0[756]](_0xA7E6[_$_90b0[698]]):{};if(_0xA0B6[_$_90b0[102]]=== _$_90b0[806]&& (_0xA0B6[_$_90b0[105]]=== 0|| _0xA0B6[_$_90b0[105]]=== 9)){return};if(_0xA0B6[_$_90b0[726]]!== _$_90b0[755]){return};if(_0xA0B6[_$_90b0[65]]=== _$_90b0[807]){_0xA0B6= {}};_0x9E32[_$_90b0[750]][_$_90b0[804]](_0xA0B6);var _0x9E04=_0x9CC2[_$_90b0[697]](this[_$_90b0[675]][_$_90b0[657]]);_0x9E04[_0xA814+ 1]+= (_0xA0B6[_$_90b0[65]]?_0xA7E6[_$_90b0[698]][_$_90b0[808]]():_$_90b0[779])+ _$_90b0[704];this[_$_90b0[675]][_$_90b0[657]]= _0x9E04[_$_90b0[483]](_$_90b0[24])}};if(arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]){window[_$_90b0[499]](arguments[1],0)};return Promise[_$_90b0[620]]()};window[_$_90b0[588]][_$_90b0[36]][_$_90b0[609]]= function(){var _0xA842=[];this[_$_90b0[694]][_$_90b0[23]](function(_0x9E32){[_$_90b0[714],_$_90b0[716],_$_90b0[705],_$_90b0[750],_$_90b0[751]][_$_90b0[23]](function(_0x98A0){if(_0x9E32[_0x98A0]){_0xA842[_$_90b0[75]](_0x9E32[_0x98A0][_$_90b0[609]]())}})});var _0x6BB4=arguments[_$_90b0[47]]> 1&&  typeof arguments[1]=== _$_90b0[68]&& arguments[1];return  new Promise(function(_0x9872){var _0x892C= new Map();Promise[_$_90b0[682]](_0xA842)[_$_90b0[552]](function(_0xA870){_0xA870[_$_90b0[23]](function(_0x611A){Object[_$_90b0[488]](_0x611A)[_$_90b0[23]](function(_0x77EC){_0x892C[_$_90b0[64]](_0x77EC,_0x611A[_0x77EC]);_0x892C[_0x77EC]= _0x611A[_0x77EC]})});if(_0x6BB4){window[_$_90b0[499]](_0x6BB4,0,_0x892C)};_0x9872(_0x892C)})})}}};_0x5F4E[_$_90b0[0]]= {shimPeerConnection:_0x93F4[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624])}},{"../utils":98,"./getusermedia":94,"sdp":62}],94:[function(_0x5FD8,_0x5F4E,_0x5F20){arguments[4][34][0][_$_90b0[71]](_0x5F20,arguments)},{"dup":34}],95:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9398=_0x5FD8(_$_90b0[658])[_$_90b0[558]];var _0x9422={shimOnTrack:function(){if( typeof window=== _$_90b0[99]&& window[_$_90b0[588]]&&  !(_$_90b0[589] in  window[_$_90b0[588]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[588]][_$_90b0[36]],_$_90b0[589],{get:function(){return this[_$_90b0[590]]},set:function(_0x5E68){if(this[_$_90b0[590]]){this[_$_90b0[81]](_$_90b0[591],this[_$_90b0[590]]);this[_$_90b0[81]](_$_90b0[592],this[_$_90b0[593]])};this[_$_90b0[73]](_$_90b0[591],this[_$_90b0[590]]= _0x5E68);this[_$_90b0[73]](_$_90b0[592],this[_$_90b0[593]]= function(_0x5EF2){_0x5EF2[_$_90b0[597]][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){var _0x6AFC= new Event(_$_90b0[591]);_0x6AFC[_$_90b0[591]]= _0x94DA;_0x6AFC[_$_90b0[595]]= {track:_0x94DA};_0x6AFC[_$_90b0[596]]= [_0x5EF2[_$_90b0[597]]];this[_$_90b0[598]](_0x6AFC)}[_$_90b0[422]](this))}[_$_90b0[422]](this))}})}},shimSourceObject:function(){if( typeof window=== _$_90b0[99]){if(window[_$_90b0[601]]&&  !(_$_90b0[29] in  window[_$_90b0[601]][_$_90b0[36]])){Object[_$_90b0[600]](window[_$_90b0[601]][_$_90b0[36]],_$_90b0[29],{get:function(){return this[_$_90b0[810]]},set:function(_0x639E){this[_$_90b0[810]]= _0x639E}})}}},shimPeerConnection:function(){if( typeof window!== _$_90b0[99]||  !(window[_$_90b0[588]]|| window[_$_90b0[811]])){return};if(!window[_$_90b0[588]]){window[_$_90b0[588]]= function(_0x9592,_0x95C0){if(_0x9398[_$_90b0[616]]< 38){if(_0x9592&& _0x9592[_$_90b0[690]]){var _0xA8CC=[];for(var _0x6200=0;_0x6200< _0x9592[_$_90b0[690]][_$_90b0[47]];_0x6200++){var _0x9D7A=_0x9592[_$_90b0[690]][_0x6200];if(_0x9D7A[_$_90b0[158]](_$_90b0[691])){for(var _0x725A=0;_0x725A< _0x9D7A[_$_90b0[691]][_$_90b0[47]];_0x725A++){var _0xA8FA={url:_0x9D7A[_$_90b0[691]][_0x725A]};if(_0x9D7A[_$_90b0[691]][_0x725A][_$_90b0[52]](_$_90b0[812])=== 0){_0xA8FA[_$_90b0[813]]= _0x9D7A[_$_90b0[813]];_0xA8FA[_$_90b0[814]]= _0x9D7A[_$_90b0[814]]};_0xA8CC[_$_90b0[75]](_0xA8FA)}}else {_0xA8CC[_$_90b0[75]](_0x9592[_$_90b0[690]][_0x6200])}};_0x9592[_$_90b0[690]]= _0xA8CC}};return  new mozRTCPeerConnection(_0x9592,_0x95C0)};window[_$_90b0[588]][_$_90b0[36]]= mozRTCPeerConnection[_$_90b0[36]];if(mozRTCPeerConnection[_$_90b0[613]]){Object[_$_90b0[600]](window[_$_90b0[588]],_$_90b0[613],{get:function(){return mozRTCPeerConnection[_$_90b0[613]]}})};window[_$_90b0[661]]= mozRTCSessionDescription;window[_$_90b0[660]]= mozRTCIceCandidate};[_$_90b0[617],_$_90b0[618],_$_90b0[619]][_$_90b0[23]](function(_0x98A0){var _0x98CE=RTCPeerConnection[_$_90b0[36]][_0x98A0];RTCPeerConnection[_$_90b0[36]][_0x98A0]= function(){arguments[0]=  new ((_0x98A0=== _$_90b0[619])?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return _0x98CE[_$_90b0[71]](this,arguments)}});var _0x9508=RTCPeerConnection[_$_90b0[36]][_$_90b0[619]];RTCPeerConnection[_$_90b0[36]][_$_90b0[619]]= function(){if(!arguments[0]){if(arguments[1]){arguments[1][_$_90b0[71]](null)};return Promise[_$_90b0[620]]()};return _0x9508[_$_90b0[71]](this,arguments)};if(_0x9398[_$_90b0[616]]< 48){var _0x964A=function(_0x9816){var _0x85C2= new Map();Object[_$_90b0[488]](_0x9816)[_$_90b0[23]](function(_0x6BE2){_0x85C2[_$_90b0[64]](_0x6BE2,_0x9816[_0x6BE2]);_0x85C2[_0x6BE2]= _0x9816[_0x6BE2]});return _0x85C2};var _0xA89E=RTCPeerConnection[_$_90b0[36]][_$_90b0[609]];RTCPeerConnection[_$_90b0[36]][_$_90b0[609]]= function(_0x9678,_0xA956,_0xA928){return _0xA89E[_$_90b0[71]](this,[_0x9678|| null])[_$_90b0[552]](function(_0x9816){return _0x964A(_0x9816)})[_$_90b0[552]](_0xA956,_0xA928)}}}};_0x5F4E[_$_90b0[0]]= {shimOnTrack:_0x9422[_$_90b0[573]],shimSourceObject:_0x9422[_$_90b0[572]],shimPeerConnection:_0x9422[_$_90b0[566]],shimGetUserMedia:_0x5FD8(_$_90b0[624])}},{"../utils":98,"./getusermedia":96}],96:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x9450=_0x5FD8(_$_90b0[658])[_$_90b0[378]];var _0x9398=_0x5FD8(_$_90b0[658])[_$_90b0[558]];_0x5F4E[_$_90b0[0]]= function(){var _0x9A3E=function(_0x5EF2){return {name:{SecurityError:_$_90b0[647],PermissionDeniedError:_$_90b0[647]}[_0x5EF2[_$_90b0[164]]]|| _0x5EF2[_$_90b0[164]],message:{"The operation is insecure.":_$_90b0[815]+ _$_90b0[816]}[_0x5EF2[_$_90b0[207]]]|| _0x5EF2[_$_90b0[207]],constraint:_0x5EF2[_$_90b0[809]],toString:function(){return this[_$_90b0[164]]+ (this[_$_90b0[207]]&& _$_90b0[650])+ this[_$_90b0[207]]}}};var _0x9986=function(_0x9142,_0x9C0A,_0x9BDC){var _0xA9B2=function(_0x7DAC){if( typeof _0x7DAC!== _$_90b0[99]|| _0x7DAC[_$_90b0[628]]){return _0x7DAC};var _0x5FD8=[];Object[_$_90b0[488]](_0x7DAC)[_$_90b0[23]](function(_0x6BE2){if(_0x6BE2=== _$_90b0[628]|| _0x6BE2=== _$_90b0[629]|| _0x6BE2=== _$_90b0[630]){return};var _0x7E36=_0x7DAC[_0x6BE2]= ( typeof _0x7DAC[_0x6BE2]=== _$_90b0[99])?_0x7DAC[_0x6BE2]:{ideal:_0x7DAC[_0x6BE2]};if(_0x7E36[_$_90b0[30]]!== undefined|| _0x7E36[_$_90b0[31]]!== undefined|| _0x7E36[_$_90b0[631]]!== undefined){_0x5FD8[_$_90b0[75]](_0x6BE2)};if(_0x7E36[_$_90b0[631]]!== undefined){if( typeof _0x7E36[_$_90b0[631]]=== _$_90b0[495]){_0x7E36[_$_90b0[30]]= _0x7E36[_$_90b0[31]]= _0x7E36[_$_90b0[631]]}else {_0x7DAC[_0x6BE2]= _0x7E36[_$_90b0[631]]};delete _0x7E36[_$_90b0[631]]};if(_0x7E36[_$_90b0[634]]!== undefined){_0x7DAC[_$_90b0[629]]= _0x7DAC[_$_90b0[629]]|| [];var _0x9A9A={};if( typeof _0x7E36[_$_90b0[634]]=== _$_90b0[495]){_0x9A9A[_0x6BE2]= {min:_0x7E36[_$_90b0[634]],max:_0x7E36[_$_90b0[634]]}}else {_0x9A9A[_0x6BE2]= _0x7E36[_$_90b0[634]]};_0x7DAC[_$_90b0[629]][_$_90b0[75]](_0x9A9A);delete _0x7E36[_$_90b0[634]];if(!Object[_$_90b0[488]](_0x7E36)[_$_90b0[47]]){delete _0x7DAC[_0x6BE2]}}});if(_0x5FD8[_$_90b0[47]]){_0x7DAC[_$_90b0[628]]= _0x5FD8};return _0x7DAC};_0x9142= JSON[_$_90b0[635]](JSON[_$_90b0[399]](_0x9142));if(_0x9398[_$_90b0[616]]< 38){_0x9450(_$_90b0[817]+ JSON[_$_90b0[399]](_0x9142));if(_0x9142[_$_90b0[8]]){_0x9142[_$_90b0[8]]= _0xA9B2(_0x9142[_$_90b0[8]])};if(_0x9142[_$_90b0[9]]){_0x9142[_$_90b0[9]]= _0xA9B2(_0x9142[_$_90b0[9]])};_0x9450(_$_90b0[818]+ JSON[_$_90b0[399]](_0x9142))};return navigator[_$_90b0[819]](_0x9142,_0x9C0A,function(_0x5EF2){_0x9BDC(_0x9A3E(_0x5EF2))})};var _0x99B4=function(_0x9142){return  new Promise(function(_0x9872,_0x9844){_0x9986(_0x9142,_0x9872,_0x9844)})};if(!navigator[_$_90b0[553]]){navigator[_$_90b0[553]]= {getUserMedia:_0x99B4,addEventListener:function(){},removeEventListener:function(){}}};navigator[_$_90b0[553]][_$_90b0[646]]= navigator[_$_90b0[553]][_$_90b0[646]]|| function(){return  new Promise(function(_0x9872){var _0xA9E0=[{kind:_$_90b0[652],deviceId:_$_90b0[820],label:_$_90b0[24],groupId:_$_90b0[24]},{kind:_$_90b0[640],deviceId:_$_90b0[820],label:_$_90b0[24],groupId:_$_90b0[24]}];_0x9872(_0xA9E0)})};if(_0x9398[_$_90b0[616]]< 41){var _0xA984=navigator[_$_90b0[553]][_$_90b0[646]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[646]]= function(){return _0xA984()[_$_90b0[552]](undefined,function(_0x5EF2){if(_0x5EF2[_$_90b0[164]]=== _$_90b0[821]){return []};throw _0x5EF2})}};if(_0x9398[_$_90b0[616]]< 49){var _0x99E2=navigator[_$_90b0[553]][_$_90b0[547]][_$_90b0[422]](navigator[_$_90b0[553]]);navigator[_$_90b0[553]][_$_90b0[547]]= function(_0x7DAC){return _0x99E2(_0x7DAC)[_$_90b0[552]](function(_0x639E){if(_0x7DAC[_$_90b0[8]]&&  !_0x639E[_$_90b0[795]]()[_$_90b0[47]]|| _0x7DAC[_$_90b0[9]]&&  !_0x639E[_$_90b0[796]]()[_$_90b0[47]]){_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[786]]()});throw  new DOMException(_$_90b0[1589],_$_90b0[821])};return _0x639E},function(_0x5EF2){return Promise[_$_90b0[654]](_0x9A3E(_0x5EF2))})}};navigator[_$_90b0[547]]= function(_0x9142,_0x9C0A,_0x9BDC){if(_0x9398[_$_90b0[616]]< 44){return _0x9986(_0x9142,_0x9C0A,_0x9BDC)};console[_$_90b0[824]](_$_90b0[822]+ _$_90b0[823]);navigator[_$_90b0[553]][_$_90b0[547]](_0x9142)[_$_90b0[552]](_0x9C0A,_0x9BDC)}}},{"../utils":98}],97:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0x947E={shimGetUserMedia:function(){navigator[_$_90b0[547]]= navigator[_$_90b0[651]]}};_0x5F4E[_$_90b0[0]]= {shimGetUserMedia:_0x947E[_$_90b0[570]]}},{}],98:[function(_0x5FD8,_0x5F4E,_0x5F20){_$_90b0[45];var _0xAA0E=true;var _0xAA3C={disableLog:function(_0xAA6A){if( typeof _0xAA6A!== _$_90b0[825]){return  new Error(_$_90b0[826]+  typeof _0xAA6A+ _$_90b0[827])};_0xAA0E= _0xAA6A;return (_0xAA6A)?_$_90b0[828]:_$_90b0[829]},log:function(){if( typeof window=== _$_90b0[99]){if(_0xAA0E){return};if( typeof console!== _$_90b0[53]&&  typeof console[_$_90b0[378]]=== _$_90b0[68]){console[_$_90b0[378]][_$_90b0[71]](console,arguments)}}},extractVersion:function(_0xAAF4,_0xAA98,_0xAAC6){var _0x7E08=_0xAAF4[_$_90b0[396]](_0xAA98);return _0x7E08&& _0x7E08[_$_90b0[47]]>= _0xAAC6&& parseInt(_0x7E08[_0xAAC6],10)},detectBrowser:function(){var _0x611A={};_0x611A[_$_90b0[584]]= null;_0x611A[_$_90b0[616]]= null;if( typeof window=== _$_90b0[53]||  !window[_$_90b0[519]]){_0x611A[_$_90b0[584]]= _$_90b0[831];return _0x611A};if(navigator[_$_90b0[819]]){_0x611A[_$_90b0[584]]= _$_90b0[576];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Firefox\/([0-9]+)\./,1)}else {if(navigator[_$_90b0[651]]){if(window[_$_90b0[832]]){_0x611A[_$_90b0[584]]= _$_90b0[521];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Chrom(e|ium)\/([0-9]+)\./,2)}else {if(navigator[_$_90b0[266]][_$_90b0[396]](/Version\/(\d+).(\d+)/)){_0x611A[_$_90b0[584]]= _$_90b0[582];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/AppleWebKit\/([0-9]+)\./,1)}else {_0x611A[_$_90b0[584]]= _$_90b0[833]+ _$_90b0[834];return _0x611A}}}else {if(navigator[_$_90b0[553]]&& navigator[_$_90b0[266]][_$_90b0[396]](/Edge\/(\d+).(\d+)$/)){_0x611A[_$_90b0[584]]= _$_90b0[579];_0x611A[_$_90b0[616]]= this[_$_90b0[559]](navigator[_$_90b0[266]],/Edge\/(\d+).(\d+)$/,2)}else {_0x611A[_$_90b0[584]]= _$_90b0[835];return _0x611A}}};return _0x611A}};_0x5F4E[_$_90b0[0]]= {log:_0xAA3C[_$_90b0[378]],disableLog:_0xAA3C[_$_90b0[560]],browserDetails:_0xAA3C[_$_90b0[840]](),extractVersion:_0xAA3C[_$_90b0[559]]}},{}],99:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x63FA;var _0xE304;if(window[_$_90b0[811]]|| navigator[_$_90b0[819]]){_0x63FA= _$_90b0[25];_0xE304= parseInt(navigator[_$_90b0[266]][_$_90b0[396]](/Firefox\/([0-9]+)\./)[1],10)}else {if(window[_$_90b0[832]]|| navigator[_$_90b0[651]]){_0x63FA= _$_90b0[26];_0xE304= navigator[_$_90b0[266]][_$_90b0[396]](/Chrom(e|ium)/)&& parseInt(navigator[_$_90b0[266]][_$_90b0[396]](/Chrom(e|ium)\/([0-9]+)\./)[2],10)}};var _0xE24C=window[_$_90b0[588]]|| window[_$_90b0[811]]|| window[_$_90b0[832]];var _0xE1F0=window[_$_90b0[1052]]|| window[_$_90b0[660]];var _0xE2A8=window[_$_90b0[1053]]|| window[_$_90b0[661]];var _0xE21E=window[_$_90b0[587]]|| window[_$_90b0[586]];var _0xE27A=window[_$_90b0[107]][_$_90b0[102]]=== _$_90b0[108]&& ((_0x63FA=== _$_90b0[26]&& _0xE304>= 26)|| (_0x63FA=== _$_90b0[25]&& _0xE304>= 33));var _0xE1C2=window[_$_90b0[842]]|| window[_$_90b0[843]];var _0xE332=document[_$_90b0[10]](_$_90b0[9]);var _0xE2D6=_0xE332&& _0xE332[_$_90b0[1054]]&& _0xE332[_$_90b0[1054]](_$_90b0[1055])=== _$_90b0[1056];var _0x90E6=navigator[_$_90b0[547]]|| navigator[_$_90b0[651]]|| navigator[_$_90b0[1057]]|| navigator[_$_90b0[819]];_0x5F4E[_$_90b0[0]]= {prefix:_0x63FA,browserVersion:_0xE304,support:!!_0xE24C&&  !!_0x90E6,supportRTCPeerConnection:!!_0xE24C,supportVp8:_0xE2D6,supportGetUserMedia:!!_0x90E6,supportDataChannel:!!(_0xE24C&& _0xE24C[_$_90b0[36]]&& _0xE24C[_$_90b0[36]][_$_90b0[1058]]),supportWebAudio:!!(_0xE1C2&& _0xE1C2[_$_90b0[36]][_$_90b0[855]]),supportMediaStream:!!(_0xE21E&& _0xE21E[_$_90b0[36]][_$_90b0[1050]]),supportScreenSharing:!!_0xE27A,AudioContext:_0xE1C2,PeerConnection:_0xE24C,SessionDescription:_0xE2A8,IceCandidate:_0xE1F0,MediaStream:_0xE21E,getUserMedia:_0x90E6}},{}],100:[function(_0x5FD8,_0x5F4E,_0x5F20){_0x5F4E[_$_90b0[0]]= _0x8F48;function _0x8F48(){}_0x8F48[_$_90b0[1590]]= function(_0xB560){var _0x114F8=_0xB560[_$_90b0[36]]|| _0xB560;_0x114F8[_$_90b0[1591]]= true;_0x114F8[_$_90b0[72]]= function(_0x6AFC,_0x11526,_0x6A44){this[_$_90b0[1592]]= this[_$_90b0[1592]]|| {};var _0x11554=(arguments[_$_90b0[47]]=== 3),_0xEC2E=_0x11554?arguments[1]:undefined,_0x9B52=_0x11554?arguments[2]:arguments[1];_0x9B52[_$_90b0[1593]]= _0xEC2E;(this[_$_90b0[1592]][_0x6AFC]= this[_$_90b0[1592]][_0x6AFC]|| [])[_$_90b0[75]](_0x9B52);return this};_0x114F8[_$_90b0[76]]= function(_0x6AFC,_0x11526,_0x6A44){var _0x6B58=this,_0x11554=(arguments[_$_90b0[47]]=== 3),_0xEC2E=_0x11554?arguments[1]:undefined,_0x9B52=_0x11554?arguments[2]:arguments[1];function _0x6B2A(){_0x6B58[_$_90b0[77]](_0x6AFC,_0x6B2A);_0x9B52[_$_90b0[71]](this,arguments)}this[_$_90b0[72]](_0x6AFC,_0xEC2E,_0x6B2A);return this};_0x114F8[_$_90b0[1594]]= function(_0x11526){this[_$_90b0[1592]]= this[_$_90b0[1592]]|| {};var _0x6314,_0x6200,_0x65F4,_0x11582;for(_0x6314 in this[_$_90b0[1592]]){_0x11582= this[_$_90b0[1592]][_0x6314];for(_0x6200= 0,_0x65F4= _0x11582[_$_90b0[47]];_0x6200< _0x65F4;_0x6200++){if(_0x11582[_0x6200][_$_90b0[1593]]=== _0x11526){_0x11582[_$_90b0[82]](_0x6200,1);_0x6200--;_0x65F4--}}};return this};_0x114F8[_$_90b0[77]]= function(_0x6AFC,_0x6A44){this[_$_90b0[1592]]= this[_$_90b0[1592]]|| {};var _0x6B86=this[_$_90b0[1592]][_0x6AFC],_0x6200;if(!_0x6B86){return this};if(arguments[_$_90b0[47]]=== 1){delete this[_$_90b0[1592]][_0x6AFC];return this};_0x6200= _0x6B86[_$_90b0[52]](_0x6A44);_0x6B86[_$_90b0[82]](_0x6200,1);if(_0x6B86[_$_90b0[47]]=== 0){delete this[_$_90b0[1592]][_0x6AFC]};return this};_0x114F8[_$_90b0[83]]= function(_0x6AFC){this[_$_90b0[1592]]= this[_$_90b0[1592]]|| {};var _0x6A16=[][_$_90b0[4]][_$_90b0[54]](arguments,1),_0x6B86=this[_$_90b0[1592]][_0x6AFC],_0x115DE=this[_$_90b0[1595]](_0x6AFC),_0x6200,_0x65F4,_0x6314,_0x115B0;if(_0x6B86){_0x115B0= _0x6B86[_$_90b0[4]]();for(_0x6200= 0,_0x65F4= _0x115B0[_$_90b0[47]];_0x6200< _0x65F4;++_0x6200){if(!_0x115B0[_0x6200]){break};_0x115B0[_0x6200][_$_90b0[71]](this,_0x6A16)}};if(_0x115DE){_0x65F4= _0x115DE[_$_90b0[47]];_0x115B0= _0x115DE[_$_90b0[4]]();for(_0x6200= 0,_0x65F4= _0x115B0[_$_90b0[47]];_0x6200< _0x65F4;++_0x6200){if(!_0x115B0[_0x6200]){break};_0x115B0[_0x6200][_$_90b0[71]](this,[_0x6AFC][_$_90b0[70]](_0x6A16))}};return this};_0x114F8[_$_90b0[1595]]= function(_0x1160C){this[_$_90b0[1592]]= this[_$_90b0[1592]]|| {};var _0x6314,_0x8116,_0x611A=[];for(_0x6314 in this[_$_90b0[1592]]){_0x8116= _0x6314[_$_90b0[110]](_$_90b0[1103]);if(_0x6314=== _$_90b0[1103]|| (_0x8116[_$_90b0[47]]=== 2&& _0x1160C[_$_90b0[4]](0,_0x8116[0][_$_90b0[47]])=== _0x8116[0])){_0x611A= _0x611A[_$_90b0[70]](this[_$_90b0[1592]][_0x6314])}};return _0x611A}};_0x8F48[_$_90b0[1590]](_0x8F48)},{}],101:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x684A=(function(){return this})();var _0x7AFA=_0x684A[_$_90b0[1596]]|| _0x684A[_$_90b0[1597]];_0x5F4E[_$_90b0[0]]= _0x7AFA?_0x1163A:null;function _0x1163A(_0x7312,_0x7B56,_0x6370){var _0x11668;if(_0x7B56){_0x11668=  new _0x7AFA(_0x7312,_0x7B56)}else {_0x11668=  new _0x7AFA(_0x7312)};return _0x11668}if(_0x7AFA){_0x1163A[_$_90b0[36]]= _0x7AFA[_$_90b0[36]]}},{}],102:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F1A=_0x5FD8(_$_90b0[490]);var _0xBD48=_0x5FD8(_$_90b0[939]);var _0xE868=_0x5FD8(_$_90b0[1598]);var _0x8F48=_0x5FD8(_$_90b0[489]);var _0x11696=_0x5FD8(_$_90b0[1599]);var _0x116C4=_$_90b0[1600];function _0xBCBE(_0x639E){var _0xBCBE=true;_0x639E[_$_90b0[599]]()[_$_90b0[23]](function(_0xA7B8){_0xBCBE= _0xA7B8[_$_90b0[133]]=== _$_90b0[943]&& _0xBCBE});return _0xBCBE}function _0x116F2(_0x6342){var _0x6B58=this;_0x8F48[_$_90b0[54]](this);this[_$_90b0[156]]= _0x6342[_$_90b0[156]];this[_$_90b0[1601]]= _0x6342[_$_90b0[1601]];this[_$_90b0[65]]= _0x6342[_$_90b0[65]]|| _$_90b0[9];this[_$_90b0[1602]]= _0x6342[_$_90b0[1602]]|| false;this[_$_90b0[1603]]= _0x6342[_$_90b0[1603]]|| false;this[_$_90b0[1604]]= _0x6342[_$_90b0[964]];this[_$_90b0[597]]= _0x6342[_$_90b0[597]];this[_$_90b0[1605]]= _0x6342[_$_90b0[1605]]=== undefined?this[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1605]]:_0x6342[_$_90b0[1605]];this[_$_90b0[1606]]= _0x6342[_$_90b0[1606]]|| this[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1606]];this[_$_90b0[1203]]= {};this[_$_90b0[157]]= _0x6342[_$_90b0[157]]|| Date[_$_90b0[1109]]()[_$_90b0[485]]();this[_$_90b0[1102]]=  new _0xE868(this[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1607]],this[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1608]]);this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1174],this[_$_90b0[1609]][_$_90b0[422]](this));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[807],function(_0x6AFC){_0x6B58[_$_90b0[179]](_$_90b0[807],_0x6AFC)});this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[744],function(_0xE97C){if(_0x6B58[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1610]]){_0xE97C[_$_90b0[1610]]= _0x6B58[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1610]]};_0x6B58[_$_90b0[179]](_$_90b0[744],_0xE97C)});this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[747],function(_0xEAEC){if(_0x6B58[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1610]]){_0xEAEC[_$_90b0[1610]]= _0x6B58[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1610]]};_0x6B58[_$_90b0[179]](_$_90b0[747],_0xEAEC)});this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[709],this[_$_90b0[1611]][_$_90b0[422]](this));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1175],this[_$_90b0[1612]][_$_90b0[422]](this));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[712],this[_$_90b0[1613]][_$_90b0[422]](this));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1104],this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1104]));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1105],this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1105]));this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1105],function(){switch(_0x6B58[_$_90b0[1102]][_$_90b0[678]]){case _$_90b0[733]:if(_0x6B58[_$_90b0[1102]][_$_90b0[1102]][_$_90b0[1477]][_$_90b0[674]][_$_90b0[65]]=== _$_90b0[744]){_0x6B58[_$_90b0[1601]][_$_90b0[83]](_$_90b0[1614],_0x6B58);_0x6B58[_$_90b0[179]](_$_90b0[1615])};break}});this[_$_90b0[1102]][_$_90b0[72]](_$_90b0[1106],this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1106]));this[_$_90b0[944]]= this[_$_90b0[1601]][_$_90b0[944]];if(_0x6342[_$_90b0[65]]=== _$_90b0[524]){if(this[_$_90b0[1601]][_$_90b0[970]]&& this[_$_90b0[1603]]){this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1616]);this[_$_90b0[1102]][_$_90b0[709]](this[_$_90b0[1601]][_$_90b0[970]]);this[_$_90b0[1617]]= _0x6342[_$_90b0[1617]]}}else {this[_$_90b0[1601]][_$_90b0[670]][_$_90b0[23]](function(_0x639E){_0x6B58[_$_90b0[1102]][_$_90b0[709]](_0x639E)})};this[_$_90b0[72]](_$_90b0[1618],function(_0x8F76){if(_0x8F76[_$_90b0[102]]=== _0x116C4){_0x8F76[_$_90b0[370]]= function(_0x6AFC){var _0x908A=JSON[_$_90b0[635]](_0x6AFC[_$_90b0[181]]);var _0xA5EC= new _0x11696[_$_90b0[513]]();_0xA5EC[_$_90b0[507]](_0x908A,_0x8F76);_0x6B58[_$_90b0[83]](_$_90b0[1619],_0x908A,_0xA5EC);_0xA5EC[_$_90b0[72]](_$_90b0[508],function(_0x8FA4,_0x908A){_0xA5EC[_$_90b0[492]][_$_90b0[166]]()})}}});this[_$_90b0[72]](_$_90b0[1103],function(){_0x6B58[_$_90b0[1601]][_$_90b0[83]][_$_90b0[71]](_0x6B58[_$_90b0[1601]],arguments)})}_0x8F1A[_$_90b0[493]](_0x116F2,_0x8F48);_0x116F2[_$_90b0[36]][_$_90b0[1620]]= function(_0x878E){var _0x6B58=this;this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1621],_0x878E[_$_90b0[65]],_0x878E);if(_0x878E[_$_90b0[964]]){this[_$_90b0[1604]]= _0x878E[_$_90b0[964]]};if(_0x878E[_$_90b0[65]]=== _$_90b0[744]){if(!this[_$_90b0[1610]]){this[_$_90b0[1610]]= _0x878E[_$_90b0[1622]][_$_90b0[1610]]};delete _0x878E[_$_90b0[1622]][_$_90b0[1610]];this[_$_90b0[1102]][_$_90b0[1147]](_0x878E[_$_90b0[1622]],function(_0x60EC){if(_0x60EC){return};_0x6B58[_$_90b0[1102]][_$_90b0[747]](function(_0x60EC,_0x1174E){})})}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[747]){if(!this[_$_90b0[1610]]){this[_$_90b0[1610]]= _0x878E[_$_90b0[1622]][_$_90b0[1610]]};delete _0x878E[_$_90b0[1622]][_$_90b0[1610]];this[_$_90b0[1102]][_$_90b0[1161]](_0x878E[_$_90b0[1622]])}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[698]){this[_$_90b0[1102]][_$_90b0[1130]](_0x878E[_$_90b0[1622]])}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[1615]){this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[1615],_0x6B58)}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[971]){this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[971],{id:_0x878E[_$_90b0[1623]],name:_0x878E[_$_90b0[1622]][_$_90b0[164]]})}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[975]){this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[975],{id:_0x878E[_$_90b0[1623]],name:_0x878E[_$_90b0[1622]][_$_90b0[164]]})}else {if(_0x878E[_$_90b0[65]]=== _$_90b0[807]){var _0x11720=this[_$_90b0[1102]][_$_90b0[1102]][_$_90b0[1477]][_$_90b0[694]]|| [];_0x11720[_$_90b0[23]](function(_0x1177C){if(_0x1177C[_$_90b0[750]]){_0x1177C[_$_90b0[750]][_$_90b0[804]]({})}})}}}}}}}};_0x116F2[_$_90b0[36]][_$_90b0[179]]= function(_0x117AA,_0xF4A0){var _0x878E={to:this[_$_90b0[156]],sid:this[_$_90b0[157]],broadcaster:this[_$_90b0[1617]],roomType:this[_$_90b0[65]],type:_0x117AA,payload:_0xF4A0,prefix:_0xBD48[_$_90b0[964]]};this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1624],_0x117AA,_0x878E);this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[207],_0x878E)};_0x116F2[_$_90b0[36]][_$_90b0[1625]]= function(_0x8F76,_0x117AA,_0xF4A0){var _0x878E={type:_0x117AA,payload:_0xF4A0};this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1626],_0x8F76,_0x117AA,_0x878E);var _0x117D8=this[_$_90b0[1627]](_0x8F76);if(_0x117D8[_$_90b0[133]]!= _$_90b0[147]){return false};_0x117D8[_$_90b0[179]](JSON[_$_90b0[399]](_0x878E));return true};_0x116F2[_$_90b0[36]][_$_90b0[1628]]= function(_0x8F76){var _0x6B58=this;_0x8F76[_$_90b0[369]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1629],_0x8F76);_0x8F76[_$_90b0[254]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1630],_0x8F76);_0x8F76[_$_90b0[370]]= function(_0x6AFC){_0x6B58[_$_90b0[83]](_$_90b0[1631],_0x6B58,_0x8F76[_$_90b0[643]],JSON[_$_90b0[635]](_0x6AFC[_$_90b0[181]]),_0x8F76,_0x6AFC)};_0x8F76[_$_90b0[368]]= this[_$_90b0[83]][_$_90b0[422]](this,_$_90b0[1618],_0x8F76)};_0x116F2[_$_90b0[36]][_$_90b0[1627]]= function(_0x6DAE,_0x6370){if(!_0xBD48[_$_90b0[1632]]){return this[_$_90b0[83]](_$_90b0[159], new Error(_$_90b0[1633]))};var _0x8F76=this[_$_90b0[1203]][_0x6DAE];_0x6370|| (_0x6370= {});if(_0x8F76){return _0x8F76};_0x8F76= this[_$_90b0[1203]][_0x6DAE]= this[_$_90b0[1102]][_$_90b0[1058]](_0x6DAE,_0x6370);this[_$_90b0[1628]](_0x8F76);return _0x8F76};_0x116F2[_$_90b0[36]][_$_90b0[1609]]= function(_0xA7E6){if(this[_$_90b0[185]]){return};if(_0xA7E6){var _0x9592=this[_$_90b0[1601]][_$_90b0[491]][_$_90b0[1607]];if(_0xBD48[_$_90b0[964]]=== _$_90b0[25]&& _0x9592&& _0x9592[_$_90b0[608]]&& _0xA7E6[_$_90b0[698]]&& _0xA7E6[_$_90b0[698]][_$_90b0[698]]&& _0xA7E6[_$_90b0[698]][_$_90b0[698]][_$_90b0[52]](_0x9592[_$_90b0[608]])< 0){this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1634],_0x9592[_$_90b0[608]])}else {this[_$_90b0[179]](_$_90b0[698],_0xA7E6)}}else {this[_$_90b0[944]][_$_90b0[378]](_$_90b0[1635])}};_0x116F2[_$_90b0[36]][_$_90b0[764]]= function(){var _0x6B58=this;if(this[_$_90b0[1605]]){this[_$_90b0[1627]](_$_90b0[1636])};this[_$_90b0[1102]][_$_90b0[744]](this[_$_90b0[1606]],function(_0x60EC,_0x1174E){})};_0x116F2[_$_90b0[36]][_$_90b0[1637]]= function(){var _0x9142=this[_$_90b0[1606]];_0x9142[_$_90b0[532]][_$_90b0[1638]]= true;this[_$_90b0[1102]][_$_90b0[744]](_0x9142,function(_0x60EC,_0x11806){})};_0x116F2[_$_90b0[36]][_$_90b0[1639]]= function(){if(this[_$_90b0[185]]){return};this[_$_90b0[1102]][_$_90b0[166]]();this[_$_90b0[1613]]()};_0x116F2[_$_90b0[36]][_$_90b0[1611]]= function(_0x6AFC){var _0x6B58=this;if(this[_$_90b0[597]]){this[_$_90b0[944]][_$_90b0[824]](_$_90b0[1640])}else {this[_$_90b0[597]]= _0x6AFC[_$_90b0[597]];this[_$_90b0[597]][_$_90b0[599]]()[_$_90b0[23]](function(_0x94DA){_0x94DA[_$_90b0[73]](_$_90b0[943],function(){if(_0xBCBE(_0x6B58[_$_90b0[597]])){_0x6B58[_$_90b0[1639]]()}})});this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[1641],this)}};_0x116F2[_$_90b0[36]][_$_90b0[1613]]= function(){var _0x11834=this[_$_90b0[1601]][_$_90b0[1642]][_$_90b0[52]](this);if(_0x11834>  -1){this[_$_90b0[1601]][_$_90b0[1642]][_$_90b0[82]](_0x11834,1);this[_$_90b0[185]]= true;this[_$_90b0[1601]][_$_90b0[83]](_$_90b0[1643],this)}};_0x116F2[_$_90b0[36]][_$_90b0[1612]]= function(_0x8F76){this[_$_90b0[1203]][_0x8F76[_$_90b0[643]]]= _0x8F76;this[_$_90b0[1628]](_0x8F76)};_0x116F2[_$_90b0[36]][_$_90b0[1644]]= function(_0x8FA4){var _0x11862= new _0x11696[_$_90b0[512]]();var _0x117D8=this[_$_90b0[1627]](_$_90b0[1599]+ ( new Date())[_$_90b0[1645]](),{protocol:_0x116C4});_0x117D8[_$_90b0[368]]= function(){_0x117D8[_$_90b0[179]](JSON[_$_90b0[399]]({size:_0x8FA4[_$_90b0[60]],name:_0x8FA4[_$_90b0[164]]}));_0x11862[_$_90b0[179]](_0x8FA4,_0x117D8)};_0x117D8[_$_90b0[369]]= function(){console[_$_90b0[378]](_$_90b0[1646]);_0x11862[_$_90b0[83]](_$_90b0[300])};return _0x11862};_0x5F4E[_$_90b0[0]]= _0x116F2},{"filetransfer":26,"rtcpeerconnection":56,"util":89,"webrtcsupport":99,"wildemitter":100}],103:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x1191A=_0x5FD8(_$_90b0[1647]);var _0x8F48=_0x5FD8(_$_90b0[489]);var _0xBD48=_0x5FD8(_$_90b0[939]);var _0x11890=_0x5FD8(_$_90b0[1648]);var _0xBD1A=_0x5FD8(_$_90b0[942]);var _0x118EC=_0x5FD8(_$_90b0[1649]);function _0x118BE(_0x6370){var _0x6B58=this;var _0x6342=_0x6370|| {};var _0x9D1E=this[_$_90b0[491]]= {url:_$_90b0[1650],socketio:{forceNew:true},connection:null,debug:false,localVideoEl:_$_90b0[24],remoteVideosEl:_$_90b0[24],enableDataChannels:true,autoRequestMedia:false,autoRemoveVideos:true,adjustPeerVolume:false,peerVolumeWhenSpeaking:0.25,media:{video:true,audio:true},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},localVideo:{autoplay:true,mirror:true,muted:true}};var _0x6314,_0x11A5C;this[_$_90b0[944]]= function(){if(_0x6370[_$_90b0[94]]){return _0x6370[_$_90b0[944]]|| console}else {return _0x6370[_$_90b0[944]]|| _0xBD1A}}();for(_0x6314 in _0x6342){if(_0x6342[_$_90b0[158]](_0x6314)){this[_$_90b0[491]][_0x6314]= _0x6342[_0x6314]}};this[_$_90b0[1651]]= _0xBD48;_0x8F48[_$_90b0[54]](this);if(this[_$_90b0[491]][_$_90b0[1652]]=== null){_0x11A5C= this[_$_90b0[1652]]=  new _0x118EC(this[_$_90b0[491]])}else {_0x11A5C= this[_$_90b0[1652]]= this[_$_90b0[491]][_$_90b0[1652]]};_0x11A5C[_$_90b0[72]](_$_90b0[856],function(){_0x6B58[_$_90b0[83]](_$_90b0[1653],_0x11A5C[_$_90b0[1654]]());_0x6B58[_$_90b0[1655]]= true;_0x6B58[_$_90b0[1656]]()});_0x11A5C[_$_90b0[72]](_$_90b0[207],function(_0x878E){var _0x11A8A=_0x6B58[_$_90b0[1659]][_$_90b0[1658]](_0x878E[_$_90b0[1623]],_0x878E[_$_90b0[1657]]);var _0x11976;if(_0x878E[_$_90b0[65]]=== _$_90b0[744]){if(_0x11A8A[_$_90b0[47]]){_0x11A8A[_$_90b0[23]](function(_0x6708){if(_0x6708[_$_90b0[157]]== _0x878E[_$_90b0[157]]){_0x11976= _0x6708}})};if(!_0x11976){_0x11976= _0x6B58[_$_90b0[1659]][_$_90b0[1660]]({id:_0x878E[_$_90b0[1623]],sid:_0x878E[_$_90b0[157]],type:_0x878E[_$_90b0[1657]],enableDataChannels:_0x6B58[_$_90b0[491]][_$_90b0[1605]]&& _0x878E[_$_90b0[1657]]!== _$_90b0[524],sharemyscreen:_0x878E[_$_90b0[1657]]=== _$_90b0[524]&&  !_0x878E[_$_90b0[1617]],broadcaster:_0x878E[_$_90b0[1657]]=== _$_90b0[524]&&  !_0x878E[_$_90b0[1617]]?_0x6B58[_$_90b0[1652]][_$_90b0[1654]]():null});_0x6B58[_$_90b0[83]](_$_90b0[1661],_0x11976)};_0x11976[_$_90b0[1620]](_0x878E)}else {if(_0x11A8A[_$_90b0[47]]){_0x11A8A[_$_90b0[23]](function(_0x11976){if(_0x878E[_$_90b0[157]]){if(_0x11976[_$_90b0[157]]=== _0x878E[_$_90b0[157]]){_0x11976[_$_90b0[1620]](_0x878E)}}else {_0x11976[_$_90b0[1620]](_0x878E)}})}}});_0x11A5C[_$_90b0[72]](_$_90b0[1662],function(_0x11AB8){if(_0x11AB8[_$_90b0[156]]!== _0x6B58[_$_90b0[1652]][_$_90b0[1654]]()){_0x6B58[_$_90b0[1659]][_$_90b0[1663]](_0x11AB8[_$_90b0[156]],_0x11AB8[_$_90b0[65]])}});_0x6370[_$_90b0[944]]= this[_$_90b0[944]];_0x6370[_$_90b0[94]]= false;this[_$_90b0[1659]]=  new _0x1191A(_0x6370);[_$_90b0[971],_$_90b0[975],_$_90b0[981],_$_90b0[984],_$_90b0[188],_$_90b0[986],_$_90b0[1664],_$_90b0[1665],_$_90b0[1658]][_$_90b0[23]](function(_0x98A0){_0x6B58[_0x98A0]= _0x6B58[_$_90b0[1659]][_0x98A0][_$_90b0[422]](_0x6B58[_$_90b0[1659]])});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1103],function(){_0x6B58[_$_90b0[83]][_$_90b0[71]](_0x6B58,arguments)});if(_0x9D1E[_$_90b0[94]]){this[_$_90b0[72]](_$_90b0[1103],this[_$_90b0[944]][_$_90b0[378]][_$_90b0[422]](this[_$_90b0[944]],_$_90b0[1666]))};this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[961],function(){_0x6B58[_$_90b0[1656]]()});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[207],function(_0xF4A0){_0x6B58[_$_90b0[1652]][_$_90b0[83]](_$_90b0[207],_0xF4A0)});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1641],this[_$_90b0[1667]][_$_90b0[422]](this));this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1643],this[_$_90b0[1668]][_$_90b0[422]](this));if(this[_$_90b0[491]][_$_90b0[1669]]){this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[858],this[_$_90b0[1671]][_$_90b0[422]](this,this[_$_90b0[491]][_$_90b0[1670]]));this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[978],this[_$_90b0[1671]][_$_90b0[422]](this,1))};_0x11A5C[_$_90b0[72]](_$_90b0[1672],function(_0x6A16){_0x6B58[_$_90b0[1659]][_$_90b0[491]][_$_90b0[1607]][_$_90b0[690]]= _0x6A16;_0x6B58[_$_90b0[83]](_$_90b0[1672],_0x6A16)});_0x11A5C[_$_90b0[72]](_$_90b0[1673],function(_0x6A16){_0x6B58[_$_90b0[1659]][_$_90b0[491]][_$_90b0[1607]][_$_90b0[690]]= _0x6B58[_$_90b0[1659]][_$_90b0[491]][_$_90b0[1607]][_$_90b0[690]][_$_90b0[70]](_0x6A16);_0x6B58[_$_90b0[83]](_$_90b0[1673],_0x6A16)});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1614],function(_0x11976){});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1615],function(_0x11976){});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[976],function(){_0x6B58[_$_90b0[1659]][_$_90b0[1664]](_$_90b0[975],{name:_$_90b0[8]})});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[974],function(){_0x6B58[_$_90b0[1659]][_$_90b0[1664]](_$_90b0[971],{name:_$_90b0[8]})});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[985],function(){_0x6B58[_$_90b0[1659]][_$_90b0[1664]](_$_90b0[975],{name:_$_90b0[9]})});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[983],function(){_0x6B58[_$_90b0[1659]][_$_90b0[1664]](_$_90b0[971],{name:_$_90b0[9]})});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[970],function(_0x639E){var _0x6314,_0x62B8=document[_$_90b0[10]](_$_90b0[9]),_0x11948=_0x6B58[_$_90b0[1674]]();_0x62B8[_$_90b0[14]]= function(){return false};_0x62B8[_$_90b0[156]]= _$_90b0[970];_0x11890(_0x639E,_0x62B8);if(_0x11948){_0x11948[_$_90b0[268]](_0x62B8)};_0x6B58[_$_90b0[83]](_$_90b0[1675],_0x62B8);_0x6B58[_$_90b0[1652]][_$_90b0[83]](_$_90b0[1676]);_0x6B58[_$_90b0[1659]][_$_90b0[1642]][_$_90b0[23]](function(_0x11AE6){var _0x11976;if(_0x11AE6[_$_90b0[65]]=== _$_90b0[9]){_0x11976= _0x6B58[_$_90b0[1659]][_$_90b0[1660]]({id:_0x11AE6[_$_90b0[156]],type:_$_90b0[524],sharemyscreen:true,enableDataChannels:false,receiveMedia:{offerToReceiveAudio:0,offerToReceiveVideo:0},broadcaster:_0x6B58[_$_90b0[1652]][_$_90b0[1654]]()});_0x6B58[_$_90b0[83]](_$_90b0[1661],_0x11976);_0x11976[_$_90b0[764]]()}})});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[965],function(_0x639E){if(_0x6B58[_$_90b0[1677]]()){_0x6B58[_$_90b0[967]]()}});this[_$_90b0[1659]][_$_90b0[72]](_$_90b0[1631],function(_0x11976,_0x1060E,_0x70BC){if(_0x70BC[_$_90b0[65]]== _$_90b0[1678]){_0x6B58[_$_90b0[83]](_$_90b0[1679],_0x11976,_0x70BC[_$_90b0[1678]])}});if(this[_$_90b0[491]][_$_90b0[1680]]){this[_$_90b0[1681]]()}}_0x118BE[_$_90b0[36]]= Object[_$_90b0[315]](_0x8F48[_$_90b0[36]],{constructor:{value:_0x118BE}});_0x118BE[_$_90b0[36]][_$_90b0[1682]]= function(){if(this[_$_90b0[1683]]){this[_$_90b0[1652]][_$_90b0[83]](_$_90b0[1684]);while(this[_$_90b0[1659]][_$_90b0[1642]][_$_90b0[47]]){this[_$_90b0[1659]][_$_90b0[1642]][0][_$_90b0[1639]]()};if(this[_$_90b0[1677]]()){this[_$_90b0[967]]()};this[_$_90b0[83]](_$_90b0[1685],this[_$_90b0[1683]]);this[_$_90b0[1683]]= undefined}};_0x118BE[_$_90b0[36]][_$_90b0[862]]= function(){this[_$_90b0[1652]][_$_90b0[862]]();delete this[_$_90b0[1652]]};_0x118BE[_$_90b0[36]][_$_90b0[1667]]= function(_0x11976){var _0x6B58=this;var _0x11948=this[_$_90b0[1674]]();var _0x119A4=_0x11890(_0x11976[_$_90b0[597]]);_0x11976[_$_90b0[1686]]= _0x119A4;_0x119A4[_$_90b0[156]]= this[_$_90b0[1687]](_0x11976);if(_0x11948){_0x11948[_$_90b0[268]](_0x119A4)};this[_$_90b0[83]](_$_90b0[1688],_0x119A4,_0x11976);window[_$_90b0[499]](function(){if(!_0x6B58[_$_90b0[1659]][_$_90b0[987]]()){_0x11976[_$_90b0[179]](_$_90b0[971],{name:_$_90b0[8]})};if(!_0x6B58[_$_90b0[1659]][_$_90b0[988]]()){_0x11976[_$_90b0[179]](_$_90b0[971],{name:_$_90b0[9]})}},250)};_0x118BE[_$_90b0[36]][_$_90b0[1668]]= function(_0x11976){var _0x11948=this[_$_90b0[1674]]();var _0xE332=_0x11976[_$_90b0[1686]];if(this[_$_90b0[491]][_$_90b0[1689]]&& _0x11948&& _0xE332){_0x11948[_$_90b0[255]](_0xE332)};if(_0xE332){this[_$_90b0[83]](_$_90b0[1690],_0xE332,_0x11976)}};_0x118BE[_$_90b0[36]][_$_90b0[1687]]= function(_0x11976){return [_0x11976[_$_90b0[156]],_0x11976[_$_90b0[65]],_0x11976[_$_90b0[1617]]?_$_90b0[1692]:_$_90b0[1139]][_$_90b0[483]](_$_90b0[1691])};_0x118BE[_$_90b0[36]][_$_90b0[1671]]= function(_0xBE8A){this[_$_90b0[1659]][_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1686]]){_0x11976[_$_90b0[1686]][_$_90b0[1678]]= _0xBE8A}})};_0x118BE[_$_90b0[36]][_$_90b0[1693]]= function(_0x6DAE,_0x6BB4){var _0x6B58=this;this[_$_90b0[1683]]= _0x6DAE;this[_$_90b0[1652]][_$_90b0[83]](_$_90b0[483],_0x6DAE,function(_0x60EC,_0x11A00){console[_$_90b0[378]](_$_90b0[1694],_0x60EC,_0x11A00);if(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[159],_0x60EC)}else {var _0x77EC,_0x119D2,_0x7118,_0x11976;for(_0x77EC in _0x11A00[_$_90b0[1695]]){_0x119D2= _0x11A00[_$_90b0[1695]][_0x77EC];for(_0x7118 in _0x119D2){if(_0x119D2[_0x7118]){_0x11976= _0x6B58[_$_90b0[1659]][_$_90b0[1660]]({id:_0x77EC,type:_0x7118,enableDataChannels:_0x6B58[_$_90b0[491]][_$_90b0[1605]]&& _0x7118!== _$_90b0[524],receiveMedia:{offerToReceiveAudio:_0x7118!== _$_90b0[524]&& _0x6B58[_$_90b0[491]][_$_90b0[1606]][_$_90b0[798]]?1:0,offerToReceiveVideo:_0x6B58[_$_90b0[491]][_$_90b0[1606]][_$_90b0[799]]}});_0x6B58[_$_90b0[83]](_$_90b0[1661],_0x11976);_0x11976[_$_90b0[764]]()}}}};if(_0x6BB4){_0x6BB4(_0x60EC,_0x11A00)};_0x6B58[_$_90b0[83]](_$_90b0[1696],_0x6DAE)})};_0x118BE[_$_90b0[36]][_$_90b0[1697]]= function(_0x11A2E){if( typeof _0x11A2E=== _$_90b0[67]){return document[_$_90b0[1698]](_0x11A2E)}else {return _0x11A2E}};_0x118BE[_$_90b0[36]][_$_90b0[1681]]= function(){var _0x6B58=this;this[_$_90b0[1659]][_$_90b0[989]](this[_$_90b0[491]][_$_90b0[953]],function(_0x60EC,_0x639E){if(_0x60EC){_0x6B58[_$_90b0[83]](_$_90b0[1699],_0x60EC)}else {_0x11890(_0x639E,_0x6B58[_$_90b0[1700]](),_0x6B58[_$_90b0[491]][_$_90b0[1701]])}})};_0x118BE[_$_90b0[36]][_$_90b0[1702]]= function(){this[_$_90b0[1659]][_$_90b0[990]]()};_0x118BE[_$_90b0[36]][_$_90b0[1700]]= function(){var _0x62B8=this[_$_90b0[1697]](this[_$_90b0[491]][_$_90b0[1703]]);if(_0x62B8&& _0x62B8[_$_90b0[12]]=== _$_90b0[1704]){_0x62B8[_$_90b0[14]]= function(){return false};return _0x62B8}else {if(_0x62B8){var _0x119A4=document[_$_90b0[10]](_$_90b0[9]);_0x119A4[_$_90b0[14]]= function(){return false};_0x62B8[_$_90b0[268]](_0x119A4);return _0x119A4}else {return}}};_0x118BE[_$_90b0[36]][_$_90b0[1674]]= function(){return this[_$_90b0[1697]](this[_$_90b0[491]][_$_90b0[1705]])};_0x118BE[_$_90b0[36]][_$_90b0[1676]]= function(_0x6BB4){this[_$_90b0[1659]][_$_90b0[969]](_0x6BB4)};_0x118BE[_$_90b0[36]][_$_90b0[1677]]= function(){return this[_$_90b0[1659]][_$_90b0[970]]};_0x118BE[_$_90b0[36]][_$_90b0[967]]= function(){this[_$_90b0[1652]][_$_90b0[83]](_$_90b0[1706]);var _0xE332=document[_$_90b0[1698]](_$_90b0[970]);var _0x11948=this[_$_90b0[1674]]();if(this[_$_90b0[491]][_$_90b0[1689]]&& _0x11948&& _0xE332){_0x11948[_$_90b0[255]](_0xE332)};if(_0xE332){this[_$_90b0[83]](_$_90b0[1690],_0xE332)};if(this[_$_90b0[1677]]()){this[_$_90b0[1659]][_$_90b0[967]]()};this[_$_90b0[1659]][_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1617]]){_0x11976[_$_90b0[1639]]()}})};_0x118BE[_$_90b0[36]][_$_90b0[1656]]= function(){var _0x6B58=this;if(this[_$_90b0[1655]]){if(this[_$_90b0[1707]]!= true){_0x6B58[_$_90b0[83]](_$_90b0[1708]);this[_$_90b0[1707]]= true}}};_0x118BE[_$_90b0[36]][_$_90b0[1709]]= function(_0x6DAE,_0x6BB4){this[_$_90b0[1683]]= _0x6DAE;if(arguments[_$_90b0[47]]=== 2){this[_$_90b0[1652]][_$_90b0[83]](_$_90b0[315],_0x6DAE,_0x6BB4)}else {this[_$_90b0[1652]][_$_90b0[83]](_$_90b0[315],_0x6DAE)}};_0x118BE[_$_90b0[36]][_$_90b0[1644]]= function(){if(!_0xBD48[_$_90b0[1710]]){return this[_$_90b0[83]](_$_90b0[159], new Error(_$_90b0[1711]))}};_0x5F4E[_$_90b0[0]]= _0x118BE},{"./socketioconnection":104,"./webrtc":105,"attachmediastream":3,"mockconsole":50,"webrtcsupport":99,"wildemitter":100}],104:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0xFCB6=_0x5FD8(_$_90b0[1347]);function _0x118EC(_0x9D1E){this[_$_90b0[1652]]= _0xFCB6[_$_90b0[856]](_0x9D1E[_$_90b0[1712]],_0x9D1E[_$_90b0[275]])}_0x118EC[_$_90b0[36]][_$_90b0[72]]= function(_0x7B84,_0x6A44){this[_$_90b0[1652]][_$_90b0[72]](_0x7B84,_0x6A44)};_0x118EC[_$_90b0[36]][_$_90b0[83]]= function(){this[_$_90b0[1652]][_$_90b0[83]][_$_90b0[71]](this[_$_90b0[1652]],arguments)};_0x118EC[_$_90b0[36]][_$_90b0[1654]]= function(){return this[_$_90b0[1652]][_$_90b0[156]]};_0x118EC[_$_90b0[36]][_$_90b0[862]]= function(){return this[_$_90b0[1652]][_$_90b0[862]]()};_0x5F4E[_$_90b0[0]]= _0x118EC},{"socket.io-client":63}],105:[function(_0x5FD8,_0x5F4E,_0x5F20){var _0x8F1A=_0x5FD8(_$_90b0[490]);var _0xBD48=_0x5FD8(_$_90b0[939]);var _0xBD1A=_0x5FD8(_$_90b0[942]);var _0x11B14=_0x5FD8(_$_90b0[1713]);var _0x116F2=_0x5FD8(_$_90b0[1714]);function _0x1191A(_0x6370){var _0x6B58=this;var _0x6342=_0x6370|| {};var _0x9D1E=this[_$_90b0[491]]= {debug:false,peerConnectionConfig:{iceServers:[{"urls":_$_90b0[1715]}]},peerConnectionConstraints:{optional:[]},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},enableDataChannels:true};var _0x6314;this[_$_90b0[944]]= function(){if(_0x6370[_$_90b0[94]]){return _0x6370[_$_90b0[944]]|| console}else {return _0x6370[_$_90b0[944]]|| _0xBD1A}}();for(_0x6314 in _0x6342){if(_0x6342[_$_90b0[158]](_0x6314)){this[_$_90b0[491]][_0x6314]= _0x6342[_0x6314]}};if(!_0xBD48[_$_90b0[510]]){this[_$_90b0[944]][_$_90b0[159]](_$_90b0[1716])};this[_$_90b0[1642]]= [];_0x11B14[_$_90b0[54]](this,this[_$_90b0[491]]);this[_$_90b0[72]](_$_90b0[858],function(){if(!_0x6B58[_$_90b0[973]]){_0x6B58[_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1605]]){var _0x117D8=_0x11976[_$_90b0[1627]](_$_90b0[938]);if(_0x117D8[_$_90b0[133]]!= _$_90b0[147]){return};_0x117D8[_$_90b0[179]](JSON[_$_90b0[399]]({type:_$_90b0[858]}))}})}});this[_$_90b0[72]](_$_90b0[978],function(){if(!_0x6B58[_$_90b0[973]]){_0x6B58[_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1605]]){var _0x117D8=_0x11976[_$_90b0[1627]](_$_90b0[938]);if(_0x117D8[_$_90b0[133]]!= _$_90b0[147]){return};_0x117D8[_$_90b0[179]](JSON[_$_90b0[399]]({type:_$_90b0[978]}))}})}});this[_$_90b0[72]](_$_90b0[979],function(_0xBE8A,_0xBE5C){if(!_0x6B58[_$_90b0[973]]){_0x6B58[_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1605]]){var _0x117D8=_0x11976[_$_90b0[1627]](_$_90b0[938]);if(_0x117D8[_$_90b0[133]]!= _$_90b0[147]){return};_0x117D8[_$_90b0[179]](JSON[_$_90b0[399]]({type:_$_90b0[1678],volume:_0xBE8A}))}})}});if(this[_$_90b0[491]][_$_90b0[94]]){this[_$_90b0[72]](_$_90b0[1103],function(_0x6AFC,_0x11B70,_0x11B9E){var _0xED9E;if(_0x6B58[_$_90b0[491]][_$_90b0[944]]=== _0xBD1A){_0xED9E= console}else {_0xED9E= _0x6B58[_$_90b0[944]]};_0xED9E[_$_90b0[378]](_$_90b0[1717],_0x6AFC,_0x11B70,_0x11B9E)})}}_0x8F1A[_$_90b0[493]](_0x1191A,_0x11B14);_0x1191A[_$_90b0[36]][_$_90b0[1660]]= function(_0x6370){var _0x11976;_0x6370[_$_90b0[1601]]= this;_0x11976=  new _0x116F2(_0x6370);this[_$_90b0[1642]][_$_90b0[75]](_0x11976);return _0x11976};_0x1191A[_$_90b0[36]][_$_90b0[1663]]= function(_0x77EC,_0x7118){this[_$_90b0[1658]](_0x77EC,_0x7118)[_$_90b0[23]](function(_0x11976){_0x11976[_$_90b0[1639]]()})};_0x1191A[_$_90b0[36]][_$_90b0[1658]]= function(_0x11B42,_0x7118){return this[_$_90b0[1642]][_$_90b0[641]](function(_0x11976){return (!_0x11B42|| _0x11976[_$_90b0[156]]=== _0x11B42) && (!_0x7118|| _0x11976[_$_90b0[65]]=== _0x7118)})};_0x1191A[_$_90b0[36]][_$_90b0[1664]]= function(_0x878E,_0xF4A0){this[_$_90b0[1642]][_$_90b0[23]](function(_0x11976){_0x11976[_$_90b0[179]](_0x878E,_0xF4A0)})};_0x1191A[_$_90b0[36]][_$_90b0[1665]]= function(_0x8F76,_0x878E,_0xF4A0){this[_$_90b0[1642]][_$_90b0[23]](function(_0x11976){if(_0x11976[_$_90b0[1605]]){_0x11976[_$_90b0[1625]](_0x8F76,_0x878E,_0xF4A0)}})};_0x5F4E[_$_90b0[0]]= _0x1191A},{"./peer":102,"localmedia":46,"mockconsole":50,"util":89,"webrtcsupport":99}]},{},[103])(103)})/*!
 * verishowplatform.js <https://mths.be/verishowplatform>
 * Copyright 2014-2016 Benjamin Tan <https://d10.github.io/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */
;(function() {
  'use strict';

  /** Used to determine if values are of the language type `Object`. */
  var objectTypes = {
    'function': true,
    'object': true
  };

  /** Used as a reference to the global object. */
  var root = (objectTypes[typeof window] && window) || this;

  /** Backup possible global object. */
  var oldRoot = root;

  /** Detect free variable `exports`. */
  var freeExports = objectTypes[typeof exports] && exports;

  /** Detect free variable `module`. */
  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;

  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */
  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;
  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {
    root = freeGlobal;
  }

  /**
   * Used as the maximum length of an array-like object.
   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)
   * for more details.
   */
  var maxSafeInteger = Math.pow(2, 53) - 1;

  /** Regular expression to detect Opera. */
  var reOpera = /\bOpera/;

  /** Possible global object. */
  var thisBinding = this;

  /** Used for native method references. */
  var objectProto = Object.prototype;

  /** Used to check for own properties of an object. */
  var hasOwnProperty = objectProto.hasOwnProperty;

  /** Used to resolve the internal `[[Class]]` of values. */
  var toString = objectProto.toString;

  /*--------------------------------------------------------------------------*/

  /**
   * Capitalizes a string value.
   *
   * @private
   * @param {string} string The string to capitalize.
   * @returns {string} The capitalized string.
   */
  function capitalize(string) {
    string = String(string);
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  /**
   * A utility function to clean up the OS name.
   *
   * @private
   * @param {string} os The OS name to clean up.
   * @param {string} [pattern] A `RegExp` pattern matching the OS name.
   * @param {string} [label] A label for the OS.
   */
  function cleanupOS(os, pattern, label) {
    // verishowplatform tokens are defined at:
    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx
    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx
    var data = {
      '10.0': '10',
      '6.4':  '10 Technical Preview',
      '6.3':  '8.1',
      '6.2':  '8',
      '6.1':  '7 / Server 2008 R2',
      '6.0':  'Vista / Server 2008',
      '5.2':  'XP 64-bit / Server 2003',
      '5.1':  'XP',
      '5.01': '2000 SP1',
      '5.0':  '2000',
      '4.0':  'NT',
      '4.90': 'ME'
    };
    // Detect Windows version from verishowplatform tokens.
    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&
        (data = data[/[\d.]+$/.exec(os)])) {
      os = 'Windows ' + data;
    }
    // Correct character case and cleanup string.
    os = String(os);

    if (pattern && label) {
      os = os.replace(RegExp(pattern, 'i'), label);
    }

    os = format(
      os.replace(/ ce$/i, ' CE')
        .replace(/\bhpw/i, 'web')
        .replace(/\bMacintosh\b/, 'Mac OS')
        .replace(/_PowerPC\b/i, ' OS')
        .replace(/\b(OS X) [^ \d]+/i, '$1')
        .replace(/\bMac (OS X)\b/, '$1')
        .replace(/\/(\d)/, ' $1')
        .replace(/_/g, '.')
        .replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, '')
        .replace(/\bx86\.64\b/gi, 'x86_64')
        .replace(/\b(Windows Phone) OS\b/, '$1')
        .replace(/\b(Chrome OS \w+) [\d.]+\b/, '$1')
        .split(' on ')[0]
    );

    return os;
  }

  /**
   * An iteration utility for arrays and objects.
   *
   * @private
   * @param {Array|Object} object The object to iterate over.
   * @param {Function} callback The function called per iteration.
   */
  function each(object, callback) {
    var index = -1,
        length = object ? object.length : 0;

    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {
      while (++index < length) {
        callback(object[index], index, object);
      }
    } else {
      forOwn(object, callback);
    }
  }

  /**
   * Trim and conditionally capitalize string values.
   *
   * @private
   * @param {string} string The string to format.
   * @returns {string} The formatted string.
   */
  function format(string) {
    string = trim(string);
    return /^(?:webOS|i(?:OS|P))/.test(string)
      ? string
      : capitalize(string);
  }

  /**
   * Iterates over an object's own properties, executing the `callback` for each.
   *
   * @private
   * @param {Object} object The object to iterate over.
   * @param {Function} callback The function executed per own property.
   */
  function forOwn(object, callback) {
    for (var key in object) {
      if (hasOwnProperty.call(object, key)) {
        callback(object[key], key, object);
      }
    }
  }

  /**
   * Gets the internal `[[Class]]` of a value.
   *
   * @private
   * @param {*} value The value.
   * @returns {string} The `[[Class]]`.
   */
  function getClassOf(value) {
    return value == null
      ? capitalize(value)
      : toString.call(value).slice(8, -1);
  }

  /**
   * Host objects can return type values that are different from their actual
   * data type. The objects we are concerned with usually return non-primitive
   * types of "object", "function", or "unknown".
   *
   * @private
   * @param {*} object The owner of the property.
   * @param {string} property The property to check.
   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.
   */
  function isHostType(object, property) {
    var type = object != null ? typeof object[property] : 'number';
    return !/^(?:boolean|number|string|undefined)$/.test(type) &&
      (type == 'object' ? !!object[property] : true);
  }

  /**
   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.
   *
   * @private
   * @param {string} string The string to qualify.
   * @returns {string} The qualified string.
   */
  function qualify(string) {
    return String(string).replace(/([ -])(?!$)/g, '$1?');
  }

  /**
   * A bare-bones `Array#reduce` like utility function.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} callback The function called per iteration.
   * @returns {*} The accumulated result.
   */
  function reduce(array, callback) {
    var accumulator = null;
    each(array, function(value, index) {
      accumulator = callback(accumulator, value, index, array);
    });
    return accumulator;
  }

  /**
   * Removes leading and trailing whitespace from a string.
   *
   * @private
   * @param {string} string The string to trim.
   * @returns {string} The trimmed string.
   */
  function trim(string) {
    return String(string).replace(/^ +| +$/g, '');
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Creates a new verishowplatform object.
   *
   * @memberOf verishowplatform
   * @param {Object|string} [ua=navigator.userAgent] The user agent string or
   *  context object.
   * @returns {Object} A verishowplatform object.
   */
  function parse(ua) {

    /** The environment context object. */
    var context = root;

    /** Used to flag when a custom context is provided. */
    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';

    // Juggle arguments.
    if (isCustomContext) {
      context = ua;
      ua = null;
    }

    /** Browser navigator object. */
    var nav = context.navigator || {};

    /** Browser user agent string. */
    var userAgent = nav.userAgent || '';

    ua || (ua = userAgent);

    /** Used to flag when `thisBinding` is the [ModuleScope]. */
    var isModuleScope = isCustomContext || thisBinding == oldRoot;

    /** Used to detect if browser is like Chrome. */
    var likeChrome = isCustomContext
      ? !!nav.likeChrome
      : /\bChrome\b/.test(ua) && !/internal|\n/i.test(toString.toString());

    /** Internal `[[Class]]` value shortcuts. */
    var objectClass = 'Object',
        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',
        enviroClass = isCustomContext ? objectClass : 'Environment',
        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),
        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';

    /** Detect Java environments. */
    var java = /\bJava/.test(javaClass) && context.java;

    /** Detect Rhino. */
    var rhino = java && getClassOf(context.environment) == enviroClass;

    /** A character to represent alpha. */
    var alpha = java ? 'a' : '\u03b1';

    /** A character to represent beta. */
    var beta = java ? 'b' : '\u03b2';

    /** Browser document object. */
    var doc = context.document || {};

    /**
     * Detect Opera browser (Presto-based).
     * http://www.howtocreate.co.uk/operaStuff/operaObject.html
     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini
     */
    var opera = context.operamini || context.opera;

    /** Opera `[[Class]]`. */
    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))
      ? operaClass
      : (opera = null);

    /*------------------------------------------------------------------------*/

    /** Temporary variable used over the script's lifetime. */
    var data;

    /** The CPU architecture. */
    var arch = ua;

    /** verishowplatform description array. */
    var description = [];

    /** verishowplatform alpha/beta indicator. */
    var prerelease = null;

    /** A flag to indicate that environment features should be used to resolve the verishowplatform. */
    var useFeatures = ua == userAgent;

    /** The browser/environment version. */
    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();

    /** A flag to indicate if the OS begins with "Name Version /". */
    var isSpecialCasedOS;

    /* Detectable layout engines (order is important). */
    var layout = getLayout([
      { 'label': 'EdgeHTML', 'pattern': 'Edge' },
      'Trident',
      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },
      'iCab',
      'Presto',
      'NetFront',
      'Tasman',
      'KHTML',
      'Gecko'
    ]);

    /* Detectable browser names (order is important). */
    var name = getName([
      'Adobe AIR',
      'Arora',
      'Avant Browser',
      'Breach',
      'Camino',
      'Epiphany',
      'Fennec',
      'Flock',
      'Galeon',
      'GreenBrowser',
      'iCab',
      'Iceweasel',
      'K-Meleon',
      'Konqueror',
      'Lunascape',
      'Maxthon',
      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },
      'Midori',
      'Nook Browser',
      'PaleMoon',
      'PhantomJS',
      'Raven',
      'Rekonq',
      'RockMelt',
      'SeaMonkey',
      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },
      'Sleipnir',
      'SlimBrowser',
      { 'label': 'SRWare Iron', 'pattern': 'Iron' },
      'Sunrise',
      'Swiftfox',
      'WebPositive',
      'Opera Mini',
      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },
      'Opera',
      { 'label': 'Opera', 'pattern': 'OPR' },
      'Chrome',
      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },
      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },
      { 'label': 'Firefox Mobile', 'pattern': 'FxiOS' },
      { 'label': 'IE', 'pattern': 'IEMobile' },
      { 'label': 'IE', 'pattern': 'MSIE' },
      'Safari'
    ]);

    /* Detectable products (order is important). */
    var product = getProduct([
      { 'label': 'BlackBerry', 'pattern': 'BB10' },
      'BlackBerry',
      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },
      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },
      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },
      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },
      'Google TV',
      'Lumia',
      'iPad',
      'iPod',
      'iPhone',
      'Kindle',
      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },
      'Nexus',
      'Nook',
      'PlayBook',
      'PlayStation 3',
      'PlayStation 4',
      'PlayStation Vita',
      'TouchPad',
      'Transformer',
      { 'label': 'Wii U', 'pattern': 'WiiU' },
      'Wii',
      'Xbox One',
      { 'label': 'Xbox 360', 'pattern': 'Xbox' },
      'Xoom'
    ]);

    /* Detectable manufacturers. */
    var manufacturer = getManufacturer({
      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },
      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },
      'Asus': { 'Transformer': 1 },
      'Barnes & Noble': { 'Nook': 1 },
      'BlackBerry': { 'PlayBook': 1 },
      'Google': { 'Google TV': 1, 'Nexus': 1 },
      'HP': { 'TouchPad': 1 },
      'HTC': {},
      'LG': {},
      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },
      'Motorola': { 'Xoom': 1 },
      'Nintendo': { 'Wii U': 1,  'Wii': 1 },
      'Nokia': { 'Lumia': 1 },
      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },
      'Sony': { 'PlayStation 4': 1, 'PlayStation 3': 1, 'PlayStation Vita': 1 }
    });

    /* Detectable operating systems (order is important). */
    var os = getOS([
      'Windows Phone ',
      'Android',
      'CentOS',
      { 'label': 'Chrome OS', 'pattern': 'CrOS' },
      'Debian',
      'Fedora',
      'FreeBSD',
      'Gentoo',
      'Haiku',
      'Kubuntu',
      'Linux Mint',
      'OpenBSD',
      'Red Hat',
      'SuSE',
      'Ubuntu',
      'Xubuntu',
      'Cygwin',
      'Symbian OS',
      'hpwOS',
      'webOS ',
      'webOS',
      'Tablet OS',
      'Linux',
      'Mac OS X',
      'Macintosh',
      'Mac',
      'Windows 98;',
      'Windows '
    ]);

    /*------------------------------------------------------------------------*/

    /**
     * Picks the layout engine from an array of guesses.
     *
     * @private
     * @param {Array} guesses An array of guesses.
     * @returns {null|string} The detected layout engine.
     */
    function getLayout(guesses) {
      return reduce(guesses, function(result, guess) {
        return result || RegExp('\\b' + (
          guess.pattern || qualify(guess)
        ) + '\\b', 'i').exec(ua) && (guess.label || guess);
      });
    }

    /**
     * Picks the manufacturer from an array of guesses.
     *
     * @private
     * @param {Array} guesses An object of guesses.
     * @returns {null|string} The detected manufacturer.
     */
    function getManufacturer(guesses) {
      return reduce(guesses, function(result, value, key) {
        // Lookup the manufacturer by product or scan the UA for the manufacturer.
        return result || (
          value[product] ||
          value[/^[a-z]+(?: +[a-z]+\b)*/i.exec(product)] ||
          RegExp('\\b' + qualify(key) + '(?:\\b|\\w*\\d)', 'i').exec(ua)
        ) && key;
      });
    }

    /**
     * Picks the browser name from an array of guesses.
     *
     * @private
     * @param {Array} guesses An array of guesses.
     * @returns {null|string} The detected browser name.
     */
    function getName(guesses) {
      return reduce(guesses, function(result, guess) {
        return result || RegExp('\\b' + (
          guess.pattern || qualify(guess)
        ) + '\\b', 'i').exec(ua) && (guess.label || guess);
      });
    }

    /**
     * Picks the OS name from an array of guesses.
     *
     * @private
     * @param {Array} guesses An array of guesses.
     * @returns {null|string} The detected OS name.
     */
    function getOS(guesses) {
      return reduce(guesses, function(result, guess) {
        var pattern = guess.pattern || qualify(guess);
        if (!result && (result =
              RegExp('\\b' + pattern + '(?:/[\\d.]+|[ \\w.]*)', 'i').exec(ua)
            )) {
          result = cleanupOS(result, pattern, guess.label || guess);
        }
        return result;
      });
    }

    /**
     * Picks the product name from an array of guesses.
     *
     * @private
     * @param {Array} guesses An array of guesses.
     * @returns {null|string} The detected product name.
     */
    function getProduct(guesses) {
      return reduce(guesses, function(result, guess) {
        var pattern = guess.pattern || qualify(guess);
        if (!result && (result =
              RegExp('\\b' + pattern + ' *\\d+[.\\w_]*', 'i').exec(ua) ||
              RegExp('\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)', 'i').exec(ua)
            )) {
          // Split by forward slash and append product version if needed.
          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\d.]+/.test(result[0])) {
            result[0] += ' ' + result[1];
          }
          // Correct character case and cleanup string.
          guess = guess.label || guess;
          result = format(result[0]
            .replace(RegExp(pattern, 'i'), guess)
            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')
            .replace(RegExp('(' + guess + ')[-_.]?(\\w)', 'i'), '$1 $2'));
        }
        return result;
      });
    }

    /**
     * Resolves the version using an array of UA patterns.
     *
     * @private
     * @param {Array} patterns An array of UA patterns.
     * @returns {null|string} The detected version.
     */
    function getVersion(patterns) {
      return reduce(patterns, function(result, pattern) {
        return result || (RegExp(pattern +
          '(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;
      });
    }

    /**
     * Returns `verishowplatform.description` when the verishowplatform object is coerced to a string.
     *
     * @name toString
     * @memberOf verishowplatform
     * @returns {string} Returns `verishowplatform.description` if available, else an empty string.
     */
    function toStringverishowplatform() {
      return this.description || '';
    }

    /*------------------------------------------------------------------------*/

    // Convert layout to an array so we can add extra details.
    layout && (layout = [layout]);

    // Detect product names that contain their manufacturer's name.
    if (manufacturer && !product) {
      product = getProduct([manufacturer]);
    }
    // Clean up Google TV.
    if ((data = /\bGoogle TV\b/.exec(product))) {
      product = data[0];
    }
    // Detect simulators.
    if (/\bSimulator\b/i.test(ua)) {
      product = (product ? product + ' ' : '') + 'Simulator';
    }
    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.
    if (name == 'Opera Mini' && /\bOPiOS\b/.test(ua)) {
      description.push('running in Turbo/Uncompressed mode');
    }
    // Detect iOS.
    if (/^iP/.test(product)) {
      name || (name = 'Safari');
      os = 'iOS' + ((data = / OS ([\d_]+)/i.exec(ua))
        ? ' ' + data[1].replace(/_/g, '.')
        : '');
    }
    // Detect Kubuntu.
    else if (name == 'Konqueror' && !/buntu/i.test(os)) {
      os = 'Kubuntu';
    }
    // Detect Android browsers.
    else if (manufacturer && manufacturer != 'Google' &&
        ((/Chrome/.test(name) && !/\bMobile Safari\b/i.test(ua)) || /\bVita\b/.test(product))) {
      name = 'Android Browser';
      os = /\bAndroid\b/.test(os) ? os : 'Android';
    }
    // Detect Silk desktop/accelerated modes.
    else if (name == 'Silk') {
      if (!/\bMobi/i.test(ua)) {
        os = 'Android';
        description.unshift('desktop mode');
      }
      if (/Accelerated *= *true/i.test(ua)) {
        description.unshift('accelerated');
      }
    }
    // Detect PaleMoon identifying as Firefox.
    else if (name == 'PaleMoon' && (data = /\bFirefox\/([\d.]+)\b/.exec(ua))) {
      description.push('identifying as Firefox ' + data[1]);
    }
    // Detect Firefox OS and products running Firefox.
    else if (name == 'Firefox' && (data = /\b(Mobile|Tablet|TV)\b/i.exec(ua))) {
      os || (os = 'Firefox OS');
      product || (product = data[1]);
    }
    // Detect false positives for Firefox/Safari.
    else if (!name || (data = !/\bMinefield\b/i.test(ua) && /\b(?:Firefox|Safari)\b/.exec(name))) {
      // Escape the `/` for Firefox 1.
      if (name && !product && /[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {
        // Clear name of false positives.
        name = null;
      }
      // Reassign a generic name.
      if ((data = product || manufacturer || os) &&
          (product || manufacturer || /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(os))) {
        name = /[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(os) ? os : data) + ' Browser';
      }
    }
    // Detect non-Opera (Presto-based) versions (order is important).
    if (!version) {
      version = getVersion([
        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))',
        'Version',
        qualify(name),
        '(?:Firefox|Minefield|NetFront)'
      ]);
    }
    // Detect stubborn layout engines.
    if ((data =
          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||
          /\bOpera\b/.test(name) && (/\bOPR\b/.test(ua) ? 'Blink' : 'Presto') ||
          /\b(?:Midori|Nook|Safari)\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||
          !layout && /\bMSIE\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||
          layout == 'WebKit' && /\bPlayStation\b(?! Vita\b)/i.test(name) && 'NetFront'
        )) {
      layout = [data];
    }
    // Detect Windows Phone 7 desktop mode.
    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua) || 0)[1])) {
      name += ' Mobile';
      os = 'Windows Phone ' + (/\+$/.test(data) ? data : data + '.x');
      description.unshift('desktop mode');
    }
    // Detect Windows Phone 8.x desktop mode.
    else if (/\bWPDesktop\b/i.test(ua)) {
      name = 'IE Mobile';
      os = 'Windows Phone 8.x';
      description.unshift('desktop mode');
      version || (version = (/\brv:([\d.]+)/.exec(ua) || 0)[1]);
    }
    // Detect IE 11.
    else if (name != 'IE' && layout == 'Trident' && (data = /\brv:([\d.]+)/.exec(ua))) {
      if (name) {
        description.push('identifying as ' + name + (version ? ' ' + version : ''));
      }
      name = 'IE';
      version = data[1];
    }
    // Leverage environment features.
    if (useFeatures) {
      // Detect server-side environments.
      // Rhino has a global function while others have a global object.
      if (isHostType(context, 'global')) {
        if (java) {
          data = java.lang.System;
          arch = data.getProperty('os.arch');
          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');
        }
        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {
          os || (os = data[0].os || null);
          try {
            data[1] = context.require('ringo/engine').version;
            version = data[1].join('.');
            name = 'RingoJS';
          } catch(e) {
            if (data[0].global.system == context.system) {
              name = 'Narwhal';
            }
          }
        }
        else if (typeof context.process == 'object' && (data = context.process)) {
          name = 'Node.js';
          arch = data.arch;
          os = data.verishowplatform;
          version = /[\d.]+/.exec(data.version)[0];
        }
        else if (rhino) {
          name = 'Rhino';
        }
      }
      // Detect Adobe AIR.
      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {
        name = 'Adobe AIR';
        os = data.flash.system.Capabilities.os;
      }
      // Detect PhantomJS.
      else if (getClassOf((data = context.phantom)) == phantomClass) {
        name = 'PhantomJS';
        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);
      }
      // Detect IE compatibility modes.
      else if (typeof doc.documentMode == 'number' && (data = /\bTrident\/(\d+)/i.exec(ua))) {
        // We're in compatibility mode when the Trident version + 4 doesn't
        // equal the document mode.
        version = [version, doc.documentMode];
        if ((data = +data[1] + 4) != version[1]) {
          description.push('IE ' + version[1] + ' mode');
          layout && (layout[1] = '');
          version[1] = data;
        }
        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];
      }
      os = os && format(os);
    }
    // Detect prerelease phases.
    if (version && (data =
          /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version) ||
          /(?:alpha|beta)(?: ?\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||
          /\bMinefield\b/i.test(ua) && 'a'
        )) {
      prerelease = /b/i.test(data) ? 'beta' : 'alpha';
      version = version.replace(RegExp(data + '\\+?$'), '') +
        (prerelease == 'beta' ? beta : alpha) + (/\d+\+?/.exec(data) || '');
    }
    // Detect Firefox Mobile.
    if (name == 'Fennec' || name == 'Firefox' && /\b(?:Android|Firefox OS)\b/.test(os)) {
      name = 'Firefox Mobile';
    }
    // Obscure Maxthon's unreliable version.
    else if (name == 'Maxthon' && version) {
      version = version.replace(/\.[\d.]+/, '.x');
    }
    // Detect Xbox 360 and Xbox One.
    else if (/\bXbox\b/i.test(product)) {
      os = null;
      if (product == 'Xbox 360' && /\bIEMobile\b/.test(ua)) {
        description.unshift('mobile mode');
      }
    }
    // Add mobile postfix.
    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&
        (os == 'Windows CE' || /Mobi/i.test(ua))) {
      name += ' Mobile';
    }
    // Detect IE verishowplatform preview.
    else if (name == 'IE' && useFeatures && context.external === null) {
      description.unshift('verishowplatform preview');
    }
    // Detect BlackBerry OS version.
    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp
    else if ((/\bBlackBerry\b/.test(product) || /\bBB10\b/.test(ua)) && (data =
          (RegExp(product.replace(/ +/g, ' *') + '/([.\\d]+)', 'i').exec(ua) || 0)[1] ||
          version
        )) {
      data = [data, /BB10/.test(ua)];
      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];
      version = null;
    }
    // Detect Opera identifying/masking itself as another browser.
    // http://www.opera.com/support/kb/view/843/
    else if (this != forOwn && product != 'Wii' && (
          (useFeatures && opera) ||
          (/Opera/.test(name) && /\b(?:MSIE|Firefox)\b/i.test(ua)) ||
          (name == 'Firefox' && /\bOS X (?:\d+\.){2,}/.test(os)) ||
          (name == 'IE' && (
            (os && !/^Win/.test(os) && version > 5.5) ||
            /\bWindows XP\b/.test(os) && version > 8 ||
            version == 8 && !/\bTrident\b/.test(ua)
          ))
        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {
      // When "identifying", the UA contains both Opera and the other browser's name.
      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');
      if (reOpera.test(name)) {
        if (/\bIE\b/.test(data) && os == 'Mac OS') {
          os = null;
        }
        data = 'identify' + data;
      }
      // When "masking", the UA contains only the other browser's name.
      else {
        data = 'mask' + data;
        if (operaClass) {
          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));
        } else {
          name = 'Opera';
        }
        if (/\bIE\b/.test(data)) {
          os = null;
        }
        if (!useFeatures) {
          version = null;
        }
      }
      layout = ['Presto'];
      description.push(data);
    }
    // Detect WebKit Nightly and approximate Chrome/Safari versions.
    if ((data = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua) || 0)[1])) {
      // Correct build number for numeric comparison.
      // (e.g. "532.5" becomes "532.05")
      data = [parseFloat(data.replace(/\.(\d)$/, '.0$1')), data];
      // Nightly builds are postfixed with a "+".
      if (name == 'Safari' && data[1].slice(-1) == '+') {
        name = 'WebKit Nightly';
        prerelease = 'alpha';
        version = data[1].slice(0, -1);
      }
      // Clear incorrect browser versions.
      else if (version == data[1] ||
          version == (data[2] = (/\bSafari\/([\d.]+\+?)/i.exec(ua) || 0)[1])) {
        version = null;
      }
      // Use the full Chrome version when available.
      data[1] = (/\bChrome\/([\d.]+)/i.exec(ua) || 0)[1];
      // Detect Blink layout engine.
      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {
        layout = ['Blink'];
      }
      // Detect JavaScriptCore.
      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi
      if (!useFeatures || (!likeChrome && !data[1])) {
        layout && (layout[1] = 'like Safari');
        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');
      } else {
        layout && (layout[1] = 'like Chrome');
        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');
      }
      // Add the postfix of ".x" or "+" for approximate versions.
      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));
      // Obscure version for some Safari 1-2 releases.
      if (name == 'Safari' && (!version || parseInt(version) > 45)) {
        version = data;
      }
    }
    // Detect Opera desktop modes.
    if (name == 'Opera' &&  (data = /\bzbov|zvav$/.exec(os))) {
      name += ' ';
      description.unshift('desktop mode');
      if (data == 'zvav') {
        name += 'Mini';
        version = null;
      } else {
        name += 'Mobile';
      }
      os = os.replace(RegExp(' *' + data + '$'), '');
    }
    // Detect Chrome desktop mode.
    else if (name == 'Safari' && /\bChrome\b/.exec(layout && layout[1])) {
      description.unshift('desktop mode');
      name = 'Chrome Mobile';
      version = null;

      if (/\bOS X\b/.test(os)) {
        manufacturer = 'Apple';
        os = 'iOS 4.3+';
      } else {
        os = null;
      }
    }
    // Strip incorrect OS versions.
    if (version && version.indexOf((data = /[\d.]+$/.exec(os))) == 0 &&
        ua.indexOf('/' + data + '-') > -1) {
      os = trim(os.replace(data, ''));
    }
    // Add layout engine.
    if (layout && !/\b(?:Avant|Nook)\b/.test(name) && (
        /Browser|Lunascape|Maxthon/.test(name) ||
        name != 'Safari' && /^iOS/.test(os) && /\bSafari\b/.test(layout[1]) ||
        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name) && layout[1])) {
      // Don't add layout details to description if they are falsey.
      (data = layout[layout.length - 1]) && description.push(data);
    }
    // Combine contextual information.
    if (description.length) {
      description = ['(' + description.join('; ') + ')'];
    }
    // Append manufacturer to description.
    if (manufacturer && product && product.indexOf(manufacturer) < 0) {
      description.push('on ' + manufacturer);
    }
    // Append product to description.
    if (product) {
      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);
    }
    // Parse the OS into an object.
    if (os) {
      data =
        / ([\d.+]+)$/.exec(os) ||
        (isSpecialCasedOS = /^[a-z]+ ([\d.+]+) \//i.exec(os));
      os = {
        'architecture': 32,
        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,
        'version': data ? data[1] : null,
        'toString': function() {
          var version = this.version;
          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');
        }
      };
    }
    // Add browser/OS architecture.
    if ((data = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch)) && !/\bi686\b/i.test(arch)) {
      if (os) {
        os.architecture = 64;
        os.family = os.family.replace(RegExp(' *' + data), '');
      }
      if (
          name && (/\bWOW64\b/i.test(ua) ||
          (useFeatures && /\w(?:86|32)$/.test(nav.cpuClass || nav.verishowplatform) && !/\bWin64; x64\b/i.test(ua)))
      ) {
        description.unshift('32-bit');
      }
    }

    ua || (ua = null);

    /*------------------------------------------------------------------------*/

    /**
     * The verishowplatform object.
     *
     * @name verishowplatform
     * @type Object
     */
    var verishowplatform = {};

    /**
     * The verishowplatform description.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.description = ua;

    /**
     * The name of the browser's layout engine.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.layout = layout && layout[0];

    /**
     * The name of the product's manufacturer.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.manufacturer = manufacturer;

    /**
     * The name of the browser/environment.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.name = name;

    /**
     * The alpha/beta release indicator.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.prerelease = prerelease;

    /**
     * The name of the product hosting the browser.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.product = product;

    /**
     * The browser's user agent string.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.ua = ua;

    /**
     * The browser/environment version.
     *
     * @memberOf verishowplatform
     * @type string|null
     */
    verishowplatform.version = name && version;

    /**
     * The name of the operating system.
     *
     * @memberOf verishowplatform
     * @type Object
     */
    verishowplatform.os = os || {

      /**
       * The CPU architecture the OS is built for.
       *
       * @memberOf verishowplatform.os
       * @type number|null
       */
      'architecture': null,

      /**
       * The family of the OS.
       *
       * Common values include:
       * "Windows", "Windows 7 / Server 2008 R2", "Windows Vista / Server 2008",
       * "Windows XP", "OS X", "Ubuntu", "Debian", "Fedora", "Red Hat", "SuSE",
       * "Android", "iOS" and "Windows Phone"
       *
       * @memberOf verishowplatform.os
       * @type string|null
       */
      'family': null,

      /**
       * The version of the OS.
       *
       * @memberOf verishowplatform.os
       * @type string|null
       */
      'version': null,

      /**
       * Returns the OS string.
       *
       * @memberOf verishowplatform.os
       * @returns {string} The OS string.
       */
      'toString': function() { return 'null'; }
    };

    verishowplatform.parse = parse;
    verishowplatform.toString = toStringverishowplatform;

    if (verishowplatform.version) {
      description.unshift(version);
    }
    if (verishowplatform.name) {
      description.unshift(name);
    }
    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {
      description.push(product ? '(' + os + ')' : 'on ' + os);
    }
    if (description.length) {
      verishowplatform.description = description.join(' ');
    }
    return verishowplatform;
  }

  /*--------------------------------------------------------------------------*/

  // Export verishowplatform.
  // Some AMD build optimizers, like r.js, check for condition patterns like the following:
  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
    // Define as an anonymous module so verishowplatform can be aliased through path mapping.
    define(function() {
      return parse();
    });
  }
  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.
  else if (freeExports && freeModule) {
    // Export for CommonJS support.
    forOwn(parse(), function(value, key) {
      freeExports[key] = value;
    });
  }
  else {
    // Export to the global object.
    root.verishowplatform = parse();
  }
}.call(this));
if (typeof (verishow) == "undefined"){
	verishow = {
			utils : {}
	};
}
verishow.should_load_cobrowsing_vars = false;


if (verishow.cobrowsing_vars == null || typeof (verishow.cobrowsing_vars) == "undefined"){
	verishow.should_load_cobrowsing_vars = true;
}else{
	if(verishow.cobrowsing_vars.cobrowsing == false){
		verishow.should_load_cobrowsing_vars = true;
	}
}

if(verishow.should_load_cobrowsing_vars == true){
	verishow.cobrowsing_vars = {
			cobrowsing: 'false',
			mbCoBrowserUrl: 'https://mb1.verishow.comfiles/htmlVersion/',
			applicationPath: 'https://platform4.verishow.com/files/htmlVersion/102en/',
			applicationPathHttps: 'https://platform4.verishow.com/files/htmlVersion/102en/',
			coBrowserConfig: {"passList":{"byProperty":[]},"removeDuplicates":false,"isIgnorSetEmptyBox":false,"unsuportedPageTimeOut":4000,"bodyChange":{"byProperty":[]},"version":"0.1","urlConfig":[],"gVersion":"0.1","ignorList":{"byProperty":[],"ids":[]},"viewerMode":false,"bufferTime":500,"iframeList":{"byProperty":[]}},
			initAsInteractive: false,
			coBrowsingLiteJs: 'https://platform4.verishow.com/client?get=cobrowsing&aac=1436946103593',
			agentImg: 'https://platform4.verishow.com/resources/embed_images/agent1.jpg',
			cobrowsingPageTimeout: '15000',
				
			
			coBrowserConfigFunction: function (){
				
			},
			
			coBrowserCustomerFunction: function (){
				
			}
	};
}


verishow.utils.loadjscssfile = function(filename, filetype) {
	try{
		if (filetype == "js") {
		var fileref = document.createElement('script');
		fileref.setAttribute("type", "text/javascript");
		fileref.setAttribute("src", filename);
		document.getElementsByTagName("head")[0].appendChild(fileref);
	} else if (filetype == "css") {
		var fileref = document.createElement("link");
		fileref.setAttribute("rel", "stylesheet");
		fileref.setAttribute("type", "text/css");
		fileref.setAttribute("href", filename);
		document.getElementsByTagName("head")[0].appendChild(fileref);
	} else if (filetype == "body_js") {
		var fileref = document.createElement('script');
		fileref.setAttribute("type", "text/javascript");
		fileref.setAttribute("src", filename);
		document.getElementsByTagName("body")[0].appendChild(fileref);
	}
	}catch(e){}

};verishow.session = {
		visit_id :"",
		isSideBySide:"true",
		isHtmlChat: "true",
		isKioskMode: "false",
		skipDetails: "false",
		startWithContent: "false",
		isTest: "false",
		redirectIphoneUserToNativeApp: "false",
		iphoneItunesAppUrl: "",
		iphoneItunesAppName: "",
		
	init : function() {
		try {
			verishow.deviceDetect.setDeviceTypes();
			
			var visitIdFromTracking = "";
			if(verishow.utils.exists(verishow.tracking)){
				visitIdFromTracking = verishow.tracking.visit_id;
			}
			var visitId = (verishow.utils.exists(verishow.utils.getCookie(verishow.utils.cookie_visit_id))) ? verishow.utils.getCookie(verishow.utils.cookie_visit_id) : visitIdFromTracking;
			
	
			var visitIdFromMetro="";
			verishow.session.visit_id = (visitIdFromMetro == "") ? visitId : visitIdFromMetro;
			if(verishow.session.visit_id == "undefined"){
				verishow.session.visit_id="";
			}
			
		} catch (e) {
			verishow.utils.log.error("openChatWindow init: " + e);
		}
	},
		
//	openChatWindow : function() {
//		try {
//			var url = "https://platform4.verishow.com/client/details.jsf?clr=1&";
//			if(isMobile || isTablet){
//				url = "https://platform4.verishow.com/client/details_mobile.jsf?clr=1&";
//			}
//			url += verishow.vars.callTargetIdParam;
//			
//			verishow.session.openDetailsWindow(url);
//		} catch (e) {
//			verishow.utils.log.error("openChatWindow openChat: " + e);
//		}
//	},

	/*openChatWindowFormLink
	 * callTargetParam - call target parameter: ac=123 || aac = 123 || aid = 123 || gid = 123
	 * alignment - the place chat window will be placed at. Can receive the following values:
	 * 				verishow.utils.alignment_center
	 * 				verishow.utils.alignment_bottom_left
	 * 				verishow.utils.alignment_bottom_right
	 * 				verishow.utils.alignment_left
	 * 				verishow.utils.alignment_right
	 * wtitle - window title 
	 * additionalCustomerInfo - additional customer information.E.g 'additionalInfo={printToChat:{firstName:%27John%27,lastName:%27Smith%27}}'
	 * additionalSessionParameters - any additional session parameters listed in advanced embedding page. E.g. transtate_to, web2phone_direct. E.g. 'transtate_to=ru&web2phone_direct=true'
	 */
	openChatWindowFormLink : function(callTargetParam,alignment,wtitle,additionalCustomerInfo,additionalSessionParameters) {
		callTargetParam = callTargetParam + "&" + additionalSessionParameters;
		
		verishow.session.openChatWindowForCallTargetParam(callTargetParam,additionalCustomerInfo,alignment,'',wtitle);
	},
	
	openChatWindowForCallTargetParamForceFlashVersion : function(callTargetParam,additionalCustomerInfoParam,optionalParam) {
		verishow.session.isHtmlChat=false;
		verishow.session.openChatWindowForCallTargetParam(callTargetParam,additionalCustomerInfoParam,"",optionalParam);
	},
	
	openChatWindowForCallTargetParam : function(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam,wtitle) {
		verishow.session.openChatWindowForCallTargetParamAndIsFromInvite(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam,false,wtitle);
	},
	openChatWindowForCallTargetParamAndIsFromInvite : function(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam, fromInvite,wtitle) {
		try {			
			verishow.session.openChatWindow(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam, fromInvite,wtitle,null,false);
		} catch (e) {
			verishow.utils.log.error("openChatWindow openChat: " + e);
		}
	},
	openChatWindowForCallTargetParamFromPush : function(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam, fromInvite,wtitle) {
		try {			
			verishow.session.openChatWindow(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam, fromInvite,wtitle,null,true);
		} catch (e) {
			verishow.utils.log.error("openChatWindow openChat: " + e);
		}
	},
	openChatWindowFromCallButton: function(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam,wtitle,callbutton) {
		verishow.session.openChatWindow(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam,false,wtitle,callbutton,false);
	},
	openChatWindow : function(callTargetParam,additionalCustomerInfoParam,alignment,optionalParam, fromInvite,wtitle, callbutton, fromPush) {
		try {			
			if(verishow.utils.shouldRedirectToIponeNativeAppLink(verishow.session.redirectIphoneUserToNativeApp)){
				verishow.utils.redirectToIponeNativeAppLink(verishow.session.iphoneItunesAppUrl,verishow.session.iphoneItunesAppName,callTargetParam);
				return;
			}
						
			var url = "https://platform4.verishow.com/client/details.jsf?clr=1&";
			var isWeb2PhoneDirect = false;
			if(verishow.utils.exists(callbutton)){
				isWeb2PhoneDirect = callbutton.web2phoneDirect;
			}
			
			
			if(isWeb2PhoneDirect == true){
				url = callbutton.getAfterHoursUrl();
			}else if(verishow.session.isHtmlChat == "true"){
				url = "https://platform4.verishow.com/client/lw/details_sbs_lw.jsf?clr=1&";
				url += callTargetParam;
			}else if(verishow.session.isSideBySide == "true"){
				url = "https://platform4.verishow.com/client/details_sbs.jsf?clr=1&";
				url += callTargetParam;
			}else if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet){
				url = "https://platform4.verishow.com/client/details_mobile.jsf?clr=1&";
				url += callTargetParam;
			}
			
			if(verishow.utils.exists(additionalCustomerInfoParam) && additionalCustomerInfoParam != ""){
				url += "&" + additionalCustomerInfoParam;
			}
			verishow.session.openDetailsWindow(url,optionalParam,fromInvite,alignment,wtitle,callbutton,fromPush,callTargetParam);
			
		} catch (e) {
			verishow.utils.log.error("openChatWindow openChat: " + e);
		}
	},
	hideFloatingButton : function(){
		try{
			verishow.utils.query("#hbrlink_div").hide( "slow", function() {});
		}catch(e){
			console.log("EXCEPTION: session.js:hideFloatingButton " + e);
		}
	},
	showFloatingButton : function(){
		try{
			verishow.utils.query("#hbrlink_div").show( "slow", function() {});
		}catch(e){
			console.log("EXCEPTION: session.js:showFloatingButton " + e);
		}
	},
	disableCallButtons : function(){
		try{
			verishow.session.hideFloatingButton();
			var keys = Object.keys(verishow.proactive.callButtons);
			if(verishow.utils.exists(keys)){
				for(var i=0; i< keys.length;i++){
					verishow.proactive.callButtons[keys[i]].disableBuiltInButtonClick();
				}
			}else{
				for (var id in verishow.proactive.callButtons) {
					verishow.proactive.callButtons[id].disableBuiltInButtonClick();
				}
			}
		}catch(e){console.log("EXCEPTION: session.js:disableCallButtons " + e);}
	},
	enableCallButtons : function(){
		try{
			verishow.session.showFloatingButton();
			var keys = Object.keys(verishow.proactive.callButtons);
			if(verishow.utils.exists(keys)){
				for(var i=0; i< keys.length;i++){
					verishow.proactive.callButtons[keys[i]].enableBuiltInButtonClick();
				}
			}else{
				for (var id in verishow.proactive.callButtons) {
					verishow.proactive.callButtons[id].enableBuiltInButtonClick();
				}
			}
		}catch(e){console.log("EXCEPTION: session.js:disableCallButtons " + e);}
	},

	getDetailsWindowWidth: function(fromPush){
		try{
			var width = verishow.utils.details_window_width;
			
			if(verishow.session.isHtmlChat == "true"){
				if(verishow.session.skipDetails == "true" &&  (verishow.session.startWithContent == "true" || verishow.utils.isCustomerInvitationMode == true || fromPush == true)){
					width = -1;//full size
					//width = verishow.utils.html_chat_window_width;//???
				}else if(verishow.session.isSideBySide == "true"){
					width = verishow.utils.html_chat_window_width;
				}else{
					width = verishow.utils.min_html_chat_window_width;
				}
				
			}else if(verishow.session.isSideBySide == "true"){
				width = verishow.utils.side_by_side_chat_window_width;
			}
			
			if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet){
				width = verishow.utils.details_mobile_window_width;
			}
			return width;
		}catch(e){}
	},
	getDetailsWindowHeight: function(fromPush){
		try{
			var height = verishow.utils.details_window_height;
			
			if(verishow.session.isHtmlChat == "true"){
				if(verishow.session.skipDetails == "true" && (verishow.session.startWithContent == "true" || verishow.utils.isCustomerInvitationMode == true || fromPush == true)){
					height = -1;//full size
					//height = verishow.utils.html_chat_window_height;
				}else if(verishow.session.isSideBySide == "true"){
					height = verishow.utils.html_chat_window_height;
				}else{
					height = verishow.utils.min_html_chat_window_height;
				}
				
			}else if(verishow.session.isSideBySide == "true"){
				height = verishow.utils.side_by_side_chat_window_height;
			}
			
			if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet){
				height = "false" == "true" ? verishow.utils.details_mobile_topic_window_height : verishow.utils.details_mobile_window_height;
			}
			return height;
		}catch(e){}
	},
	
	openDetailsWindow : function(detailsWinUrl,optionalParam, fromInvite,alignment,wtitle,callbutton,fromPush,callTargetParam) {
		try {
			console.log("openDetailsWindow");
			verishow.session.hideFloatingButton();
			
			verishow.utils.setCookie(verishow.utils.cookie_disable_auto_invite,true,null);
			
			var fp= verishow.utils.getFlashVersion();
			
			var hasRequiredFlashVersion = verishow.utils.hasRequiredFlashVersion();
		
			var originUrlFromMetro="";
			var originHostFromMetro ="";
			var originalUrl="";
			var originHost ="";
			var openSessionInNewWindow = false;
			
			if(originUrlFromMetro != ""){
				originalUrl = originUrlFromMetro;
				originHost=originHostFromMetro;
			}else{
				try{
					originHost = window.location.protocol + "//" + window.location.host;
					originalUrl = originHost + window.location.pathname;
					
					var query = location.search.substring(1);	
					if(verishow.utils.exists(query)){
						query=query.replace(/&/g,"_and_");
					}
					originalUrl += "?" + query;
					
				}catch(e){}
			}
						
			var visitIdFromTracking = "";
			if(verishow.utils.exists(verishow.tracking)){
				visitIdFromTracking = verishow.tracking.visit_id;
			}
			var visitId = (verishow.utils.exists(verishow.utils.getCookie(verishow.utils.cookie_visit_id))) ? verishow.utils.getCookie(verishow.utils.cookie_visit_id) : visitIdFromTracking;
			
	
			var visitIdFromMetro="";
			verishow.session.visit_id = (visitIdFromMetro == "") ? visitId : visitIdFromMetro;
			if(verishow.session.visit_id == "undefined"){
				verishow.session.visit_id="";
			}
			
			
			var disableSavingBigData = false
			if((optionalParam=="disableSavingBigData") || (callbutton != null && callbutton.disableSavingBigData)){
				disableSavingBigData = true;
			}
			if (!disableSavingBigData) {
				verishow.session.sendButtonClickedWithCallTarget(callTargetParam);
			}
			
			var cb = "false";
			var agentImg = "";
			if (verishow.cobrowsing_vars != null && typeof (verishow.cobrowsing_vars) != "undefined") {
				cb = verishow.cobrowsing_vars.cobrowsing;
				agentImg = verishow.cobrowsing_vars.agentImg;
			}
			
	
			var url = detailsWinUrl + "&fp=" + fp;			
			url+="&isMobile="+verishow.deviceDetect.isMobile;
			url+="&isTablet="+verishow.deviceDetect.isTablet;
			url+="&cb="+cb;
			url+="";
			url+="&vid=" + verishow.session.visit_id;
			url+="&isFromMetro=" + verishow.utils.isIEMetro();
			url+="&agentImg=" + agentImg;
			url+="&title=Live Help";
			url+="&fromInvite=" + fromInvite;
			if(callbutton != null){
				if(verishow.utils.exists(callbutton.sessionId) && callbutton.sessionId != ""){
					//url+="&reload_for_sessionId=" + callbutton.sessionId;
					url+="&s=" + callbutton.sessionId;
					url+="&ringOnType=false";
					url+="&isCustomerInvitationMode=true";
					url+="&ac=" + verishow.proactive.invitation_ac;
				}
				
				openSessionInNewWindow=callbutton.openSessionInNewWindow;
			}
			
			var translateTo = "";
			if(verishow.utils.exists(verishow.proactive)){	
				translateTo = verishow.proactive.inviteTranslateTo;
				if(translateTo == "init"){
					translateTo="";
				}
				
				if(callbutton != null){
					translateTo = callbutton.translateTo;
				}
			}
			if(url.indexOf("translate_to") > -1){
				//do not replace existing url parameter
				url = url.replace("translate_to", "translateTo");
			}else{
				url+="&translateTo=" + translateTo;
			}
			
			url+="&ts=" + new Date().getTime();

			url+="&originHost=" + originHost;
			url+="&original_url=" + originalUrl;
			
			console.log("openDetailsWindow : url=" + url);
			
			var left = screen.availWidth / 2 - verishow.utils.details_window_width / 2;
			var top = screen.availHeight / 2 - verishow.utils.details_window_height / 2;
			var width = verishow.session.getDetailsWindowWidth(fromPush);
			var height = verishow.session.getDetailsWindowHeight(fromPush);
			
			if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet){
				top=0;
				left=0;
			}
			
			if(verishow.session.isHtmlChat == "true"){
				if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet || openSessionInNewWindow){
					verishow.utils.openMobileWindow(url,fromInvite);
				}else{
					verishow.utils.openHtmlChatWindow(url,width,height, top, left,fromInvite,alignment,wtitle);
				}
			}else if(verishow.deviceDetect.isMobile || verishow.deviceDetect.isTablet || (cb == "true" && hasRequiredFlashVersion == false)){
				verishow.utils.openCoBrowsingWindow(url,width,height, top, left,"false");		
			} else{
				if(false){
					verishow.utils.openWixWindow(url,"", width,height, top, left,verishow.session.updateVisitStatusOnClose);
				}else{
					verishow.utils.openNewWindow(url,"", width,height, top, left);
				}
				
			}
		
			verishow.utils.trackCallButton();
		} catch (e) {
			verishow.utils.log.error("openChatWindow openDetailsWindow: " + e);
		}
	},
	
	sendButtonClickedWithCallTarget : function(callTarget){
		try{
			console.log("sending big data - button clicked");
			var request = "https://platform4.verishow.com/bigdata?action=setVisitStatus&vid=" +  verishow.session.visit_id + "&aac=1436946103593" + "&status=14" + "&" + callTarget + "&ts=" + new Date().getTime();
			verishow.utils.loadjscssfile(request, "js");
		}catch(e){
			verishow.utils.log.error("openChatWindow sendButtonClicked: " + e);
		}
	},
	
	sendButtonClicked : function(){
		try{
			console.log("sending big data - button clicked");
			var request = "https://platform4.verishow.com/bigdata?action=setVisitStatus&vid=" +  verishow.session.visit_id + "&aac=1436946103593" + "&status=14" + "&ts=" + new Date().getTime();
			verishow.utils.loadjscssfile(request, "js");
		}catch(e){
			verishow.utils.log.error("openChatWindow sendButtonClicked: " + e);
		}
	},
	
	swfWinOpen : function(url) {
		try{
			document.body.style.overflow = 'scroll';
			window.open(url, "_self");
		}catch(e){
			verishow.utils.log.error("openChatWindow swfWinOpen: " + e);
		}
	},
	
	closeChat : function(){
		try {
			var flash = document.getElementById("myDynamicContent");
			if (flash != null && typeof (flash) != "undefined") {
				flash.terminateSessionFromWindow();
			}
		} catch (e) {
			verishow.utils.log.error("session.closeChat: " + e);
			try{
				window.close();
			}catch(e){}
		}
	},
	

	
	onFloatingIframeSessionClose : function(){
		try{
			//var p = verishow.utils.floatingIframe.initWindowParams;
			//verishow.utils.initHtmlChatWindow(p.url,p.width,p.height,p.top,p.left);
			verishow.utils.cancelRestoreFloatingIframeSession();
			
			
			verishow.utils.floatingIframe.showFillDiv(false);
			verishow.utils.floatingIframe.openURL("about:blank");
			verishow.session.updateVisitStatusOnClose();
			
			verishow.utils.floatingIframe.normal();
			verishow.utils.floatingIframe.close();	
			
			//sessionStorage.removeItem("vsSessionStarted");
			
			verishow.utils.onFloatingIframeClose();
		}catch(e){
			verishow.utils.log.error("session.js.onFloatingIframeClose: " + e);
		}
	},

	preload : function(){
		try{
			var details_iframe_url = "https://platform4.verishow.com/client/lw/details_sbs_lw_preloader.jsf?clr=1&aac=1436946103593";
			verishow.session.preload_url("vs_details_preloader",details_iframe_url);
			
			var caf_iframe_url = "https://platform4.verishow.com/client/lw/caf_sbs_lw_preloader.jsf?clr=1&aac=1436946103593";
			verishow.session.preload_url("vs_caf_preloader",caf_iframe_url);
		}catch(e){
			alert("preload: " + e);
		}
	},
	
	preload_url : function(name,url){
		try{
			var iframe_video_elem = document.createElement("iframe");
			iframe_video_elem.setAttribute("id",name);
			iframe_video_elem.setAttribute("src",url);
			iframe_video_elem.setAttribute("style","border: none; width: 0px; height: 0px;");
			
			document.getElementsByTagName("body")[0].appendChild(iframe_video_elem);
		}catch(e){
			alert("preload_url:" + e);
		}
	},
	
	updateVisitStatusOnClose : function(){
		try{
			verishow.session.setStatus("1");
		}catch(e){
			verishow.utils.log.error("session.js.updateVisitStatusOnClose: " + e);
		}
	},
	
	updateVisitStatusOnCloseTab : function(){
		try{
			var r = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" + verishow.session.visit_id + "&aac=1436946103593" + "&status=" + "1" + "&ts=" + new Date().getTime();

			verishow.utils.sendRequest(r);
		}catch(e){
			verishow.utils.log.error("session.js.updateVisitStatusOnClose: " + e);
		}
	},

	setVisitStatusDetails : function(){
		try{
			verishow.session.setStatus("7");
		}catch(e){
			verishow.utils.log.error("session.js.updateVisitStatusOnClose: " + e);
		}
	},
	setVisitStatusLeaveAMessage : function(){
		try{
			verishow.session.setStatus("10");
		}catch(e){
			verishow.utils.log.error("session.js.updateVisitStatusOnClose: " + e);
		}
	},
	setVisitStatusInSession : function(){
		try{
			verishow.session.setStatus("3");
		}catch(e){
			verishow.utils.log.error("session.js.setVisitStatusInSession: " + e);
		}
	},

	
	setStatus: function(status){
		try{
			var r = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" + verishow.session.visit_id + "&aac=1436946103593" + "&status=" + status + "&ts=" + new Date().getTime();

			//verishow.utils.sendRequest(r);
			verishow.utils.loadjscssfile(r, "js");
		}catch(e){
			
		}
	}
	
	
};


verishow.session.init();

if (verishow.tracking == null || typeof (verishow.tracking) == "undefined"){
	verishow.tracking ={};

	verishow.tracking.visit_id = "";
	verishow.tracking.isHtmlChat = "true";
	verishow.tracking.reported = false;
	verishow.tracking.additionalInfoParamGlobalElements = "";
	
	verishow.tracking.initVisitId = function(){
		try{
			var visit_id = verishow.utils.getCookie(verishow.utils.cookie_visit_id);
			if (!verishow.utils.exists(visit_id)) {
				visit_id=verishow.utils.generateGUID();
				verishow.utils.setCookie(verishow.utils.cookie_visit_id,visit_id,365*5);
			}
			verishow.tracking.visit_id = visit_id;
		}catch(e){
			verishow.utils.log.error("tracking initVisitId: " + e);
		}
	};
	
	verishow.tracking.storeVisit = function(){
		try{
			verishow.tracking.initVisitId();
				
			var used_vs_before = verishow.utils.getCookie(verishow.utils.cookie_used_vs_before);
			if (!verishow.utils.exists(used_vs_before)) {
				verishow.utils.setCookie(verishow.utils.cookie_used_vs_before,false,365*5);
			}
			
			var is_first_time = verishow.utils.getCookie(verishow.utils.cookie_is_first_time);
			if (!verishow.utils.exists(is_first_time)) {
				verishow.utils.setCookie(verishow.utils.cookie_is_first_time,true,365*5);
			}else{
				verishow.utils.setCookie(verishow.utils.cookie_is_first_time,false,365*5);
			}

			
			var number_of_visits_in_site = verishow.utils.getCookie(verishow.utils.cookie_number_of_visits_in_site);
			var new_http_session = verishow.utils.getCookie(verishow.utils.cookie_new_http_session);
			
			if (!verishow.utils.exists(number_of_visits_in_site)) {
				number_of_visits_in_site=1;
				verishow.utils.setCookie(verishow.utils.cookie_number_of_visits_in_site,number_of_visits_in_site,365*5);
			}else{
				number_of_visits_in_site = Number(number_of_visits_in_site) + 1;
			}
			
			if (!verishow.utils.exists(new_http_session)) {
				verishow.utils.setCookie(verishow.utils.cookie_number_of_visits_in_site,number_of_visits_in_site,365*5);
				verishow.utils.setCookie(verishow.utils.cookie_new_http_session,false,null);
			}
			
		}catch(e){
			verishow.utils.log.error("tracking storeVisit: " + e);
		}
	};

	verishow.tracking.reportVisit = function(){
		try{
			//alert("report visit");
			var request = "https://platform4.verishow.com/tracking?action=reportVisit";
		
			request += "&aac=1436946103593";
			request += "&vid=" + verishow.tracking.visit_id;
			
			request += "&browser=" + verishow.tracking.getBrowser();
			request += "&browserVersion=" + verishow.utils.getBrowserVersion();
			
			request += "&os=" + verishow.tracking.getOS();
			request += "&osVersion=" + verishow.utils.getOSVersion();

			request += "&device=" + verishow.utils.getDevice();
			request += "&resolution=" + verishow.utils.getScreenResolution();

			request += "&fp=" + verishow.utils.getFlashVersion();
			
			var java_version="TBD";//TODO
			request += "&jv=" + java_version;

			var isFirstVisit = verishow.utils.getCookie(verishow.utils.cookie_is_first_time);
			request += "&is_first_visit=" + verishow.utils.exists(isFirstVisit) ? isFirstVisit : true;
			
			var usedVsBefore = verishow.utils.getCookie(verishow.utils.cookie_used_vs_before);
			request += "&used_vs_before=" + verishow.utils.exists(usedVsBefore) ? usedVsBefore : false;
			
			var number_of_visits_in_site = verishow.utils.getCookie(verishow.utils.cookie_number_of_visits_in_site);
			if (!verishow.utils.exists(number_of_visits_in_site)) {
				number_of_visits_in_site=1;
			}
			request += "&visits_in_site=" + number_of_visits_in_site;

			request += "&target=" + JSON.stringify(verishow.proactive.getStatusFor);
			request += "&isHtmlChat=" + verishow.tracking.isHtmlChat;
			
			request += "&ts=" + new Date().getTime();
			
			request += "&host=" + window.location.host;
			request += "&protocol=" + window.location.protocol;
			request += "&pathname=" + window.location.pathname;
			request += "&pageTitle=" + document.title;
			
			request +="&blocked=" +  verishow.utils.getCookie(verishow.utils.cookie_blocked);
			
			request += "&rtc=" + verishow.tracking.isBrowserWebRTCSupported();
			
			if (verishow.tracking.additionalInfoParamGlobalElements != ""){
				request += "&" + verishow.tracking.additionalInfoParamGlobalElements;
			}
			
			var referrer = document.referrer;
			referrer=referrer.replace(/&/g,"_");
			request += "&referrer=" + referrer;
			
			var query = location.search.substring(1);	
			if(verishow.utils.exists(query)){
				query=query.replace(/&/g,"_");
			}
			request += "&queryString=" + query;
			
			request += "&user_agent=" + navigator.userAgent;
			
			verishow.utils.loadjscssfile(request, "js");
			
			
			console.log("visit reported request=" + request);
		}catch(e){
			//alert(e);
			verishow.utils.log.error("tracking reportVisit: " + e);
		}
	};

	verishow.tracking.isBrowserWebRTCSupported = function(){
		try{
			  var isfirefoxSupported=false;
			  var browser=navigator.userAgent;
			  if(browser.indexOf("Firefox")>-1 && browser.indexOf("33.0")>-1)
				  isfirefoxSupported=true;
			  var func = (navigator.webkitGetUserMedia);
			  var isSecured = (document.location.protocol.indexOf("https") > -1);
			  
			  if( (func && isSecured) || isfirefoxSupported==true)
			   return true;
			  else
			   return false;
	  }catch(err){
	   return false;
	  }
     };
    
	verishow.tracking.checkMAC_OSversion=function(){
		try{
			 if (/Mac OS X 10_[1-5]/.test(navigator.userAgent)){ //}(/OS [1-4](.*) like Mac OS X/i.test(navigator.userAgent)) {
				 alert("10.1 - 10.5 MAC OS version");
			 } else {
				 alert("10.6+ MAC OS version");
			 }
		}catch(e){
			verishow.utils.log.error("tracking checkMAC_OSversion: " + e);
		}
	};

	verishow.tracking.getOS=function(){
		try{
			  var ua = navigator.userAgent.toLowerCase();
			  if(ua.match(/android/)){
				  return "Android";
			  }
			  if(ua.match(/blackberry/)){
				  return "BlackBerry";
			  }
			  if(ua.match(/iphone/)){
				  return "iPhone";
			  }
			  if(ua.match(/ipod/)){
				  return "iPod";
			  }
			  if(ua.match(/ipad/)){
				  return "iPad";
			  }
		
			  var up = navigator.platform.toLowerCase();
			  if(up.match(/win/)){
				  return "Windows";
			  }
			  if(up.match(/mac/)){
				  return "Mac";
			  }
			  if(up.match(/linux/)){
				  return "Linux";
			  }
		}catch(e){
			verishow.utils.log.error("tracking.getDevice: "+e);
		}
	};

	verishow.tracking.getBrowser=function(){
		try{
			var browser="";
			if(verishow.utils.isChrome()){
				return "Chrome";
			}
			if(verishow.utils.isSafari()){
				return "Safari";
			}
			var rv = verishow.utils.getInternetExplorerVersion();
			if(rv > -1){
				return "msie " + rv;
			}
			
			if(verishow.utils.isIEEdge()){
				return "msie edge";
			}
			
			
			verishow.utils.query.each(verishow.utils.query.browser, function(i, val) {
				if( browser == ""){
					browser = i;
				}else{
					browser += " " + val;
				}
			    });
			return browser;
		}catch(e){
			verishow.utils.log.error("tracking.getBrowser: "+e);
		}
	};

	verishow.tracking.load_jquery_limit = 600;

	verishow.tracking.init = function() {
		try {
			verishow.utils.query(document).ready(function() {
				var cookieEnabled=(navigator.cookieEnabled)? true : false;
				if(cookieEnabled == true){
					verishow.tracking.storeVisit();
					verishow.tracking.reportVisit();
				}
				
				if(verishow.utils.isCobrowsingMode==false && verishow.tracking.isHtmlChat=="true"){
					verishow.tracking.sendToBigDataStatusPageVisit();
				}
				
				
			});
		} catch (e) {
			if (verishow.tracking.load_jquery_limit > 0) {
				verishow.tracking.load_jquery_limit = verishow.tracking.load_jquery_limit - 1;
				setTimeout("verishow.tracking.init()", 100);
			}
		}
	};
	
	verishow.tracking.setVisitStatusInsite = function() {
		try {
			verishow.tracking.setVisitStatus("1");
		} catch (e) {
			verishow.utils.log.error("verishow.tracking.setVisitStatusInsite: "+e);
		}
	};
	
	verishow.tracking.sendToBigDataStatusPageVisit = function() {
		try {
			var setStatusRequest = "https://platform4.verishow.com/bigdata?action=setVisitStatus&vid=" + verishow.tracking.visit_id + "&aac=" + verishow.proactive.aac + "&status=17" + "&ts=" + new Date().getTime();
			//verishow.utils.sendRequest(setStatusRequest);
			verishow.utils.loadjscssfile(setStatusRequest, "js");
		} catch (e) {
			verishow.utils.log.error("verishow.tracking.sendToBigDataStatusPageVisit: "+e);
		}
	};
	
	verishow.tracking.setVisitStatus = function(status) {
		try {
			var setStatusRequest = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" + verishow.tracking.visit_id + "&aac=" + verishow.proactive.aac + "&status=" + status + "&ts=" + new Date().getTime();

			//verishow.utils.sendRequest(setStatusRequest);
			verishow.utils.loadjscssfile(setStatusRequest, "js");
		} catch (e) {
			verishow.utils.log.error("verishow.tracking.setVisitStatus: "+e);
		}
	};

	verishow.tracking.loaded = true;

	verishow.tracking.init();
}

if (verishow.proactive == null || typeof (verishow.proactive) == "undefined"){
	verishow.proactive = {
			wait_miliseconds : 20000,
			auto_invite : false,
			get_isavailable_retries : 20,
			get_invite_retries : 20,
			load_jquery_limit  : 600,
			load_colorbox_limit  : 600,
			invited_returned : false,
			first_invited_returned : false,
			is_invited: false,
			invitation_ac: -1,
			aac: 1436946103593,
			accountKey: "d8d3b131-880f-42b3-af6a-37f4548d03ae",
			remove_visit_timer: null,
			timeout_before_removing_visit:  Number(30*60000),
			disable_monitoring_keep_alive: false,
			send_get_invited: !false,
			check_invited_interval: 2000,
			visit_status: 1,
			inInviteWindow: false,
			is_available:false,
			initial_is_available: true,
			isFirstUpdateCallButton: true,
			callTargetIdParam: "aac=1436946103593",
			getStatusFor : JSON.parse("{\"callButtons\":[], \"tracking\": []}"),
			callButtons : [],
			callButtonCount: 0,
			push: false,
			visit_blocked: false,
			inviteTranslateTo : "init",
			customOnlineLink : "",
			autoStartChat : false,
			dummyWrapper : "https://platform4.verishow.com/files/htmlVersion/102en/wrapper/wrapper.html?isExpert=true&key=d8d3b131-880f-42b3-af6a-37f4548d03ae&t=1532747358589&defualtConfigFile=&debugServer=https://platform4.verishow.com&isDummy=true",
			server_shortVisitId: "not_set",
			current_shortVisitId: "not_set",
			autoAcceptInvitation: false,
			autoInviteButtonId: "-1",
			disablePreloadSession: false,
			
			registerCallButton : function(callButton){
				try{
					verishow.proactive.callButtons[callButton.id] = callButton;
					verishow.proactive.callButtonCount+=1;
					 
					var statusJson = JSON.parse("{\"id\" : \"" + callButton.id +"\", \"target\": \"" + callButton.callTargetIdParam + "\"}");
					verishow.proactive.getStatusFor.callButtons.push(statusJson);
					
					if(verishow.proactive.inviteTranslateTo == "init"){
						verishow.proactive.inviteTranslateTo = callButton.translateTo;//first button
					}else if(verishow.proactive.inviteTranslateTo != callButton.translateTo){
						verishow.proactive.inviteTranslateTo = ""; //at least 2 button with 2 different translate_tu values -> should not translate in invite
					}
					
				}catch(e){
					verishow.utils.log.error("proactive registerCallButton: " + e);
				}
			},

			registerStandAloneTracking : function(target){
				try{
					var statusJson = JSON.parse("{\"target\": \"" + target + "\"}");
					verishow.proactive.getStatusFor.tracking.push(statusJson);
				}catch(e){
					verishow.utils.log.error("proactive registerCallButton: " + e);
				}
			},
			
			invite : function() {
				try {
					var invited = false;
					
					if(verishow.session.isHtmlChat == "true"){
						//if(isMobile == false && isTablet==false){//invite in mobile
							var url = "https://platform4.verishow.com/client/lw/invite_lw.jsf";
							url+="?floatingIframeName=" + verishow.utils.defaultIframeName;
							url+="&aac=" + verishow.proactive.aac;
							sessionStorage.setItem(verishow.utils.vsCurrentFloatingIframeNameParam,verishow.utils.defaultIframeName);
							
							var left = screen.availWidth / 2 - verishow.utils.details_window_width / 2;
							var top = screen.availHeight / 2 - verishow.utils.details_window_height / 2;
							var width = verishow.session.getDetailsWindowWidth();
							var height = verishow.session.getDetailsWindowHeight();
							
							invited=true;
							
							verishow.utils.openHtmlChatWindow(url,width,height, top, left,false,verishow.utils.alignment_default);
						//}
					}else{
						invited=true;
						(function($){
							
							$.colorbox(verishow.proactive.config);
						}(verishow.utils.query));
					}
					
					if(invited==true){
						verishow.proactive.inInviteWindow = true;
						
						var request = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" +  verishow.tracking.visit_id + "&aac=" + verishow.proactive.aac + "&status=5" + "&ts=" + new Date().getTime();
						verishow.utils.loadjscssfile(request, "js");
					}

				} catch (e) {
					verishow.utils.log.error("proactive invite: " + e);
				}
			},
			
			pushInteraction: function(){
				try {
					verishow.proactive.inInviteWindow = true;
					//var agentTarget = "{\"callButtons\":[], \"tracking\": [{\"target\": \"ac=" + verishow.proactive.invitation_ac + "\"}]}"; 
					//agentTarget = agentTarget.replace(/\"/g,"_dq_");
						
					//verishow.session.openChatWindowForCallTargetParamAndIsFromInvite("ac=" + verishow.proactive.invitation_ac + "&calltarget=" + agentTarget + "&reload_for_sessionId=" + verishow.proactive.sessionId + "&push=true","","","disableSavingBigData",false);

					verishow.session.openChatWindowForCallTargetParamFromPush("ac=" + verishow.proactive.invitation_ac + "&reload_for_sessionId=" + verishow.proactive.sessionId + "&push=true","","","disableSavingBigData",false);

					/*
					if(verishow.proactive.invitation_ac != -1){
						var agentTarget = "{\"callButtons\":[], \"tracking\": [{\"target\": \"ac=" + verishow.proactive.invitation_ac + "\"}]}"; 
						agentTarget = agentTarget.replace(/\"/g,"_dq_");
						
						verishow.session.openChatWindowForCallTargetParamAndIsFromInvite("ac=" + verishow.proactive.invitation_ac + "&calltarget=" + agentTarget,"","","disableSavingBigData",false);
					}else{
						var targets = JSON.stringify(verishow.proactive.getStatusFor);
						targets = targets.replace(/\"/g,"_dq_");
						
						verishow.session.openChatWindowForCallTargetParamAndIsFromInvite("aac=" + verishow.proactive.aac + "&calltarget=" + targets,"","","disableSavingBigData",false);
					}
					*/
				} catch (e) {
					verishow.utils.log.error("proactive closeInviteWindow: " + e);
				}
			},
			
			acceptInvitation: function(){
				try {
					try{
						(function($){
							$.colorbox.close();
						}(verishow.utils.query));
					}catch(e){}

					var setVisitStatusRequest = "https://platform4.verishow.com/tracking?action=setVisitStatus&vid=" +  verishow.tracking.visit_id + "&aac=" + verishow.proactive.aac + "&status=13" + "&ts=" + new Date().getTime();
					verishow.utils.loadjscssfile(setVisitStatusRequest, "js");
					
					var fromInvite = true;
					if(verishow.proactive.autoStartChat){
						fromInvite=false;
					}
				
					if(verishow.proactive.invitation_ac != -1){
						var agentTarget = "{\"callButtons\":[], \"tracking\": [{\"target\": \"ac=" + verishow.proactive.invitation_ac + "\"}]}"; 
						agentTarget = agentTarget.replace(/\"/g,"_dq_");
						
						verishow.session.openChatWindowForCallTargetParamAndIsFromInvite("ac=" + verishow.proactive.invitation_ac + "&calltarget=" + agentTarget,"","","disableSavingBigData",fromInvite);
					}else{
						var targets = JSON.stringify(verishow.proactive.getStatusFor);
						targets = targets.replace(/\"/g,"_dq_");
						
						verishow.session.openChatWindowForCallTargetParamAndIsFromInvite("aac=" + verishow.proactive.aac + "&calltarget=" + targets,"","","disableSavingBigData",fromInvite);
					}
					
				} catch (e) {
					verishow.utils.log.error("proactive closeInviteWindow: " + e);
				}
			},
			denyInvitation: function(){
				try {
					(function($){
						$.colorbox.close();
					}(verishow.utils.query));
					verishow.proactive.inInviteWindow = false;

					var request = "https://platform4.verishow.com/tracking?action=ignoreInvitation&aac=" + verishow.proactive.aac + "&vid=" + verishow.tracking.visit_id + "&ts=" +  new Date().getTime();
					verishow.utils.loadjscssfile(request, "js");
					
					verishow.utils.setCookie(verishow.utils.cookie_disable_auto_invite,true,null);
				} catch (e) {
					verishow.utils.log.error("proactive denyInvitation: " + e);
				}
			},
			disableAutoInvite: function(){
				try{
					verishow.utils.setCookie(verishow.utils.cookie_disable_auto_invite,true,null);
				}catch(e){
					verishow.utils.log.error("proactive disableAutoInvite: " + e);
				}				
			},
			run : function(){
				try{	
//					var cookie = verishow.utils.getCookie("show_vs_inv");
//					if (cookie != null && cookie != "") {
//						//alert("cookie!");
//						return;
//					}else{
//						//alert("no cookie! -> load");
						verishow.proactive.loadColorBoxCss();
						verishow.proactive.init();
//					}
				}catch(e) {
					verishow.utils.log.error("proactive run: " + e);
				}
			},

			updateUsedVs : function(status){
				try{
					//chatting
					if(status == 3){
						var used_vs_before = verishow.utils.getCookie(verishow.utils.cookie_used_vs_before);
						if (used_vs_before == "false") {
							//alert("before set cookie " + verishow.utils.getCookie(verishow.utils.cookie_used_vs_before));
							verishow.utils.setCookie(verishow.utils.cookie_used_vs_before,true,365*5);
							//alert("after set cookie " + verishow.utils.getCookie(verishow.utils.cookie_used_vs_before));
						}	
					}else{
						//removed
						if(status == 8){
							//alert("visit removed");
							verishow.tracking.reportVisit();
						}
					}
				}catch(e){
					verishow.utils.log.error("proactive updateUsedVs: " + e);
				}
			},
			updateCallButtons : function(inSession){
				try{
					//console.log("updateCallButtons: verishow.utils.buttonClickedLately=" + verishow.utils.buttonClickedLately);
					if(verishow.utils.buttonClickedLately == false){
						if(inSession || verishow.proactive.visit_blocked==true){
							console.log("updateCallButtons: disabling callbuttons inSession=" + inSession);
							for (var id in verishow.proactive.callButtons) {
								verishow.proactive.callButtons[id].removeFloatingCallButton();
								verishow.proactive.callButtons[id].disableBuiltInButtonClick();
								//test
								verishow.proactive.updateCallButton(verishow.proactive.callButtons[id],inSession);
							}

						}else{
							//console.log("updateCallButtons: enabling callbuttons inSession=" + inSession);
							for (var id in verishow.proactive.callButtons) {
								verishow.proactive.callButtons[id].enableBuiltInButtonClick();
								verishow.proactive.callButtons[id].restoreFloatingCallButton();
								verishow.proactive.updateCallButton(verishow.proactive.callButtons[id],inSession);
							}
						}
					}
				}catch(e){
					//verishow.utils.log.error("proactive updateCallButton: " + e);
				}
			},
			
			updateCallButton : function(callButton, inSession){
				try{	
					if(verishow.proactive.visit_status != 9){
						if(callButton.isAvailable == true && verishow.utils.isCobrowsingMode == true){
							//do not restore call button in cb mode
							return;
						}
						
						if(verishow.session.isKioskMode == "true" && inSession){
							callButton.visible(false);
						}else{
							if(callButton.isDynamic == true){
								callButton.visible(callButton.isAvailable);
							}else{
								callButton.visible(true);
							}
						}
					}
				}catch(e){
					verishow.utils.log.error("proactive updateCallButton: " + e);
				}
			},
			getIsInvited : function(){
				try{	
					//console.log("in getIsInvited : " + verishow.proactive.send_get_invited);
					if(verishow.proactive.send_get_invited == true){	
						verishow.proactive.invited_returned=false;
						verishow.proactive.get_invite_retries=20;

						var getStatusFor = JSON.stringify(verishow.proactive.getStatusFor);
						
						var request = "https://platform4.verishow.com/tracking?action=getInvited&aac_=" + verishow.proactive.aac + "&vid=" + verishow.tracking.visit_id + "&getStatusFor=" + getStatusFor + "&ts=" + new Date().getTime();
						//verishow.utils.loadjscssfile(request, "js");
						
						//verishow.proactive.waitForGetInviteReturn();
						//alert("verishow.proactive.getIsInvited: before send");
						
						verishow.utils.remoteController.send(request,"","application/javascript", 3000, this.getInvaitedSuccess.bind(this), this.getInvaitedError.bind(this));

					}		
				}catch(e){
					verishow.utils.log.error("proactive getIsInvited: " + e);
				}
			},
			
			getInvaitedSuccess : function(data){
				try{
					//console.log("in getInvaitedSuccess : ");
					//debugger;
					eval(data);
					verishow.proactive.updateDataWidthGetInvitedResponse();
					setTimeout("verishow.proactive.getIsInvited()",verishow.proactive.check_invited_interval);
				}catch(e){
					console.log("in getInvaitedSuccess ERROR: e=" + e);
					//alert("getInvaitedSuccess error " + e);
				}				
			},

			getInvaitedError : function(statusText,errorThrown){
				try{
				//	console.log("verishow.proactive.getInvaitedError statusText=" + statusText + " errorThrown=" + errorThrown);
					setTimeout("verishow.proactive.getIsInvited()",verishow.proactive.check_invited_interval);
				}catch(e){
					//alert("getInvaitedSuccess error " + e);
				}	
			},
			
			updateDataWidthGetInvitedResponse : function() {
				try {
					verishow.proactive.first_invited_returned = true;
					
					verishow.proactive.updateUsedVs(verishow.proactive.visit_status);
					verishow.proactive.updateVisitorCode();
					
					var inSession = verishow.proactive.visit_status == 7 || verishow.proactive.visit_status == 2 || 
						verishow.proactive.visit_status == 3 || verishow.proactive.visit_status == 10;

					verishow.utils.setCookie(verishow.utils.cookie_blocked,verishow.proactive.visit_blocked,365*5);
					
					 
					if(verishow.proactive.callButtonCount > 0){
						verishow.proactive.updateCallButtons(inSession || verishow.proactive.inInviteWindow);
					}

					var declined_invitation = verishow.proactive.visit_status == 6;
					if(inSession || declined_invitation){
						verishow.proactive.inInviteWindow = false;
					}
					
					if(verishow.proactive.is_invited==true || verishow.proactive.is_pushed==true){
						if(!inSession && !verishow.proactive.inInviteWindow && !verishow.proactive.autoStartChat){ 
							if(verishow.proactive.is_pushed){ //if(verishow.proactive.push){
								verishow.proactive.pushInteraction();
							}else{
								verishow.proactive.invite();
							}
						}
					}
				} catch (e) {
					verishow.utils.log.error("proactive waitForGetInviteReturn: " + e);
				}
			},
			
			waitForGetInviteReturn : function() {
				try {
					if (verishow.proactive.invited_returned == true) {
						verishow.proactive.first_invited_returned = true;
						
						verishow.proactive.updateUsedVs(verishow.proactive.visit_status);
						verishow.proactive.updateVisitorCode();
						
						var inSession = verishow.proactive.visit_status == 7 || verishow.proactive.visit_status == 2 || 
							verishow.proactive.visit_status == 3 || verishow.proactive.visit_status == 10;

						verishow.utils.setCookie(verishow.utils.cookie_blocked,verishow.proactive.visit_blocked,365*5);
						
						 
						if(verishow.proactive.callButtonCount > 0){
							verishow.proactive.updateCallButtons(inSession || verishow.proactive.inInviteWindow);
						}

						var declined_invitation = verishow.proactive.visit_status == 6;
						if(inSession || declined_invitation){
							verishow.proactive.inInviteWindow = false;
						}
						
						if(verishow.proactive.is_invited==true || verishow.proactive.is_pushed==true){
							if(!inSession && !verishow.proactive.inInviteWindow && !verishow.proactive.autoStartChat){ 
								if(verishow.proactive.is_pushed){ //if(verishow.proactive.push){
									verishow.proactive.pushInteraction();
								}else{
									verishow.proactive.invite();
								}
							}
						}
						setTimeout("verishow.proactive.getIsInvited()",verishow.proactive.check_invited_interval);
					} else {
						if (verishow.proactive.get_invite_retries > 0) {
							setTimeout("verishow.proactive.waitForGetInviteReturn()", 200);
							verishow.proactive.get_invite_retries -= 1;
						}else{
							setTimeout("verishow.proactive.getIsInvited()",verishow.proactive.check_invited_interval);
						}
					}
				} catch (e) {
					verishow.utils.log.error("proactive waitForGetInviteReturn: " + e);
				}
			},
			
			updateVisitorCode : function(){
				try{
					if(verishow.proactive.server_shortVisitId != "not_set" && verishow.proactive.server_shortVisitId != verishow.proactive.current_shortVisitId){
						//update visitor code box
						console.log("proactive.updateVisitorCode: to " + verishow.proactive.server_shortVisitId + " vid=" + verishow.tracking.visit_id);
						verishow.proactive.current_shortVisitId=verishow.proactive.server_shortVisitId;
						verishow.utils.query(".vs_visitor_code_value_div_class").text(verishow.proactive.current_shortVisitId);
					}
				}catch(e){
					console.log("proactive.updateVisitorCode:" + e);
				}
			},
			
			stopGetInvited : function(){
				//alert("proactive.stopGetInvited: verishow.proactive.timeout_before_removing_visit=" + verishow.proactive.timeout_before_removing_visit);
				//console.log("stopGetInvited");
				verishow.proactive.send_get_invited = false;
			},
			onMouseMove: function(e){
				try{
					if(verishow.proactive.send_get_invited == false){
						//get invited thread was stopped due to not active user timeout on site, the visit was removed
						verishow.tracking.reportVisit();
						verishow.proactive.send_get_invited = true;
						verishow.proactive.getIsInvited();
					}
					
					if(verishow.session.isKioskMode != "true"){
						if(verishow.utils.exists(verishow.proactive.remove_visit_timer)){
							window.clearTimeout(verishow.proactive.remove_visit_timer);
						}
						verishow.proactive.remove_visit_timer = setTimeout("verishow.proactive.stopGetInvited()", verishow.proactive.timeout_before_removing_visit);
					}
				}catch(e){
					verishow.utils.log.error("proactive onMouseMove: " + e);
				}
			},
			init : function(){
				try{
					verishow.utils.query(document).ready(function(){
						verishow.proactive.initInviteWindow();
						
						if(verishow.session.isKioskMode != "true" && verishow.proactive.disablePreloadSession == false){
							verishow.proactive.preloadContent();
						}
						
						verishow.proactive.loadColorBoxIncludes();
						
						if(verishow.proactive.auto_invite==true){
							verishow.proactive.autoinvite();
						}
						if(verishow.proactive.disable_monitoring_keep_alive == false){
							verishow.utils.query(document).mousemove(function(e){
							     verishow.proactive.onMouseMove(e);
							   }); 
							verishow.proactive.send_get_invited=true;
							verishow.proactive.getIsInvited();
						}else{
							if(verishow.proactive.isCallButtonIncluded()){
								for (var id in verishow.proactive.callButtons) {
									verishow.proactive.callButtons[id].visible(verishow.proactive.initial_is_available);
								}
							}	
						}

					});
				}catch(e){
					if(verishow.proactive.load_jquery_limit > 0){
						verishow.proactive.load_jquery_limit = verishow.proactive.load_jquery_limit - 1;
						setTimeout("verishow.proactive.init()",100);
					}
				}
			},
			isCallButtonIncluded : function(){
				for (var id in verishow.proactive.callButtons) {
					if(verishow.proactive.callButtons[id].hasOwnProperty('created')){
						return true;
					}
				}
				return false;
			},
			
			autoinvite : function() {
				try {
					setTimeout("verishow.proactive.getIsAvailable()", verishow.proactive.wait_miliseconds);
				} catch (e) {
					verishow.utils.log.error("proactive autoinvite: " + e);
				}
			},
			getIsAvailable : function() {
				try {
					var disableAutoChat_cookie = verishow.utils.getCookie(verishow.utils.cookie_disable_auto_invite);
					
					if (!verishow.utils.exists(disableAutoChat_cookie) || disableAutoChat_cookie == false){
						var getStatusFor = JSON.stringify(verishow.proactive.getStatusFor);
						verishow.proactive.is_available = "not_ready";
						var request = "https://platform4.verishow.com/client?get=isAvailable&getStatusFor=" + getStatusFor +"&aac=" + verishow.proactive.aac + "&ts=" + new Date().getTime();
						verishow.utils.loadjscssfile(request, "js");
						verishow.proactive.waitForIsAvailableReady();
					}else{
						verishow.utils.log.debug("proactive: user started a chat himself -> skip proactive");
					}
				} catch (e) {
					verishow.utils.log.error("proactive getIsAvailable: " + e);
				}
			},
			initInviteWindow : function() {
				try {
					var request = "https://platform4.verishow.com/client?get=inviteWindow&aac=" + verishow.proactive.aac + "&ts=" + new Date().getTime();
					verishow.utils.loadjscssfile(request, "body_js");
				} catch (e) {
					verishow.utils.log.error("proactive initInviteWindow: " + e);
				}
			},
			preloadContent : function(){
				try{
					//debugger;
					var dummy_wrapper_cookie = verishow.utils.getCookie(verishow.utils.cookie_dummy_wrapper_loaded);
					
					if (!verishow.utils.exists(dummy_wrapper_cookie) || dummy_wrapper_cookie == false){
						console.log("verishow.proactive.preloadContent: load content");
						verishow.proactive.loadDummyWrapper();
						verishow.proactive.preloadStaticContent();
						
						verishow.utils.setCookie(verishow.utils.cookie_dummy_wrapper_loaded,true,null);
					}else{
						console.log("verishow.proactive.preloadContent: WILL NOT load content since it was already loaded for this http session");
					}
				
				}catch(e){
					verishow.utils.log.error("proactive loadDummyWrapper: " + e);
				}
			},
			
			preloadStaticContent : function(){
				try{
					var url = "https://platform4.verishow.com/resource_loader.jsp?aac=" + verishow.proactive.aac;
					console.log("verishow.proactive.preloadStaticContent: load content url=" + url);
					var dummy_wrapper_elem = document.createElement("iframe");
					dummy_wrapper_elem.setAttribute("id","vsresourceloader");
					dummy_wrapper_elem.setAttribute("src",url);
					//dummy_wrapper_elem.setAttribute("style","border: green 2px solid;width: 300px;height: 300px;");
					dummy_wrapper_elem.setAttribute("style","border: none;width: 0px;height: 0px;");
			
					document.getElementsByTagName("body")[0].appendChild(dummy_wrapper_elem);
					
				}catch(e){
					verishow.utils.log.error("proactive preloadStaticContent: " + e);
				}
			},
			loadDummyWrapper : function(){
				try{
					console.log("verishow.proactive.loadDummyWrapper: load dummy wrapper url=" + verishow.proactive.dummyWrapper);
					var dummy_wrapper_elem = document.createElement("iframe");
					dummy_wrapper_elem.setAttribute("id","vsdummyWrapper");
					dummy_wrapper_elem.setAttribute("src",verishow.proactive.dummyWrapper);
					//dummy_wrapper_elem.setAttribute("style","border: red 2px solid;width: 300px;height: 300px;");
					dummy_wrapper_elem.setAttribute("style","border: none;width: 0px;height: 0px;");
					
					document.getElementsByTagName("body")[0].appendChild(dummy_wrapper_elem);
				}catch(e){
					verishow.utils.log.error("proactive loadDummyWrapper: " + e);
				}
			},
			addInviteDomElement : function(invite_html){
				try{
					var docObject = document;
					var body = document.getElementsByTagName("body")[0];
				
					var container= docObject.createElement( "div" );
					container.setAttribute("id","vs_container");
					container.innerHTML=invite_html;
					body.appendChild(container);
				}catch(e){
					verishow.utils.log.error("proactive addInviteDomElement: " + e);
				}
			},
			setClass  : function(element,className){
				try{			
					document.getElementById(element).className = "btn "+className;
				}catch(e) {
					verishow.utils.log.error("proactive setClass: " + e);
				}
			},		
			loadColorBoxCss : function(){
				try{			
					//var request = "https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js";
					//verishow.utils.loadjscssfile(request, "js");
					
					var request = "https://platform4.verishow.com/resources/colorbox/colorbox.css";
					verishow.utils.loadjscssfile(request, "css");
				}catch(e) {
					verishow.utils.log.error("proactive loadColorBoxCss: " + e);
				}
			},
			loadColorBoxIncludes : function(){
				try{	
					if (typeof (document.getElementById("vs_invite_div")) != "undefined" && verishow.utils.exists(verishow.utils.query)) {
						var request = "https://platform4.verishow.com/resources/colorbox/jquery.colorbox.js";
						//verishow.utils.loadjscssfile(request, "js");
						verishow.utils.loadjscssfile(request, "body_js");
						
			

					}else{
						if(verishow.proactive.load_colorbox_limit > 0){
							verishow.proactive.load_colorbox_limit = verishow.proactive.load_colorbox_limit - 1;
							setTimeout("verishow.proactive.loadColorBoxIncludes()",100);
						}
					}
				}catch(e) {
					verishow.utils.log.error("proactive loadColorBoxIncludes: " + e);
				}
			},
			waitForIsAvailableReady : function() {
				try {
					
					if (verishow.proactive.is_available != "not_ready") {
						if (verishow.proactive.is_available == true) {
							verishow.utils.log
									.debug("proactive waitForIsAvailableReady: available -> show autoinvite window");
							if(verishow.proactive.autoAcceptInvitation == true && verishow.proactive.autoInviteButtonId != "-1"){
								var disableSavingBigData = verishow.proactive.callButtons[verishow.proactive.autoInviteButtonId].disableSavingBigData;
								verishow.proactive.callButtons[verishow.proactive.autoInviteButtonId].disableSavingBigData = true;
								verishow.proactive.callButtons[verishow.proactive.autoInviteButtonId].callButtonOnClick();
								verishow.proactive.callButtons[verishow.proactive.autoInviteButtonId].disableSavingBigData = disableSavingBigData;
							}else{
								verishow.proactive.invite();	
							}
							
						} else {
							verishow.utils.log
									.debug("proactive waitForIsAvailableReady: not available -> autoinvite will not be shown");
						}
					} else {
						if (verishow.proactive.get_isavailable_retries > 0) {
							setTimeout("verishow.proactive.waitForIsAvailableReady()",
									200);
							verishow.proactive.get_isavailable_retries -= 1;
						}
					}
				} catch (e) {
					verishow.utils.log.error("proactive waitForIsAvailableReady: " + e);
				}
			}
		};

		//verishow.proactive.config = {width:500,height:284,initialWidth:10,initialHeight:10,innerHeight:255,scrolling:false, inline:true, href:"#vs_cb_div",overlayClose:false,opacity:0.8};
		verishow.proactive.config = {width:500,height:300,initialWidth:10,initialHeight:10,innerHeight:255, scrolling:false, inline:true, href:"#vs_cb_div",overlayClose:false,opacity:0.8};



		//var cookieEnabled=(navigator.cookieEnabled)? true : false;
		//if(cookieEnabled == true){
			verishow.proactive.run();
		//}
}


function verishowProactiveInit(){
	try{
		if(verishow.proactive.customOnlineLink != "" && verishow.deviceDetect.isMobile == false){
			verishow.utils.floatingIframe.callFunction("setCustomOnlineLink",verishow.proactive.customOnlineLink);
		}
	}catch(e){}
}
function verishowProactiveAcceptInvitation(){
	try{
		verishow.proactive.acceptInvitation();	
	}catch(e){}
}

function verishowProactiveDenyInvitation(){
	try{
		verishow.proactive.denyInvitation();
	}catch(e){}
}
verishow.proactive.registerStandAloneTracking("aac=1436946103593");if(isCoBrowserInit == null){
var isCoBrowserInit = true;
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")
},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});

$hbr = $.noConflict(true);
"WeakMap" in this || (function (context) {

  // (C) WebReflection - Mit Style License

  // WeakMap(void):WeakMap
  function WeakMap() {

    // private references holders
    var
      keys = [],
      values = []
    ;

    // WeakMap#delete(key:void*):void
    function del(key) {
      if (has(key)) {
        keys.splice(i, 1);
        values.splice(i, 1);
      }
      return -1 < i;
    }

    // WeakMap#get(key:void*[, d3fault:void*]):void*
    function get(key, d3fault) {
      return has(key) ? values[i] : d3fault;
    }

    // WeakMap#has(key:void*):boolean
    function has(key) {
      if (key !== Object(key))
        throw new TypeError("not a non-null object")
      ;
      i = indexOf.call(keys, key);
      return -1 < i;
    }

    // WeakMap#has(key:void*, value:void*):void
    function set(key, value) {
      has(key) ?
        values[i] = value
        :
        values[keys.push(key) - 1] = value
      ;
    }

    // returns freshly new created
    // instanceof WeakMap in any case
    return create(WeakMapPrototype, {
      "delete": {value: del},
      get:      {value: get},
      has:      {value: has},
      set:      {value: set}
    });

  }

  // need for an empty constructor ...
  function WeakMapInstance(){}  // GC'ed if !!Object.create
  // ... so that new WeakMapInstance and new WeakMap
  // produces both an instanceof WeakMap

  var
    // shortcuts and ...
    Object = context.Object,
    WeakMapPrototype = WeakMap.prototype,

    // partial polyfill for this aim only
    create = Object.create || function create(proto, descriptor) {
      // partial ad-hoc Object.create shim if not available
      var object = new WeakMapInstance;
      object["delete"] = descriptor["delete"].value;
      object.get = descriptor.get.value;
      object.has = descriptor.has.value;
      object.set = descriptor.set.value;
      return object;
    },

    indexOf = [].indexOf || function indexOf(value) {
      // partial fast Array#indexOf polyfill if not available
      for (i = this.length; i-- && this[i] !== value;);
      return i;
    },

    i // recycle ALL the variables !
  ;

  // used to follow FF behavior where WeakMap.prototype is a WeakMap itself
  WeakMap.prototype = WeakMapInstance.prototype = WeakMapPrototype = WeakMap();

  // assign it to the global context
  "defineProperty" in Object ?
    Object.defineProperty(context, "WeakMap", {value: WeakMap})
    :
    context.WeakMap = WeakMap
  ;

  // that's pretty much it in less than 400bytes minzipped

}(this));
/*
 * Copyright 2012 The Polymer Authors. All rights reserved.
 * Use of this source code is goverened by a BSD-style
 * license that can be found in the LICENSE file.
 */

(function(global) {

  var registrationsTable = new WeakMap();

  // We use setImmediate or postMessage for our future callback.
  var setImmediate = window.msSetImmediate;

  // Use post message to emulate setImmediate.

  if (!setImmediate) {
    var setImmediateQueue = [];
    var sentinel = String(Math.random());
    window.addEventListener('message', function(e) {
      if (e.data === sentinel) {
        var queue = setImmediateQueue;
        setImmediateQueue = [];
        queue.forEach(function(func) {
          func();
        });
      }
    });
    setImmediate = function(func) {
      setImmediateQueue.push(func);
      window.postMessage(sentinel, '*');
    };
  }

  // This is used to ensure that we never schedule 2 callas to setImmediate
  var isScheduled = false;

  // Keep track of observers that needs to be notified next time.
  var scheduledObservers = [];

  /**
   * Schedules |dispatchCallback| to be called in the future.
   * @param {MutationObserver} observer
   */
  function scheduleCallback(observer) {
    scheduledObservers.push(observer);
    if (!isScheduled) {
      isScheduled = true;
      setImmediate(dispatchCallbacks);
    }
  }

  function wrapIfNeeded(node) {
    return window.ShadowDOMPolyfill &&
        window.ShadowDOMPolyfill.wrapIfNeeded(node) ||
        node;
  }

  function dispatchCallbacks() {
    // http://dom.spec.whatwg.org/#mutation-observers

    isScheduled = false; // Used to allow a new setImmediate call above.

    var observers = scheduledObservers;
    scheduledObservers = [];
    // Sort observers based on their creation UID (incremental).
    observers.sort(function(o1, o2) {
      return o1.uid_ - o2.uid_;
    });

    var anyNonEmpty = false;
    observers.forEach(function(observer) {

      // 2.1, 2.2
      var queue = observer.takeRecords();
      // 2.3. Remove all transient registered observers whose observer is mo.
      removeTransientObserversFor(observer);

      // 2.4
      if (queue.length) {
        observer.callback_(queue, observer);
        anyNonEmpty = true;
      }
    });

    // 3.
    if (anyNonEmpty)
      dispatchCallbacks();
  }

  function removeTransientObserversFor(observer) {
    observer.nodes_.forEach(function(node) {
      var registrations = registrationsTable.get(node);
      if (!registrations)
        return;
      registrations.forEach(function(registration) {
        if (registration.observer === observer)
          registration.removeTransientObservers();
      });
    });
  }

  /**
   * This function is used for the "For each registered observer observer (with
   * observer's options as options) in target's list of registered observers,
   * run these substeps:" and the "For each ancestor ancestor of target, and for
   * each registered observer observer (with options options) in ancestor's list
   * of registered observers, run these substeps:" part of the algorithms. The
   * |options.subtree| is checked to ensure that the callback is called
   * correctly.
   *
   * @param {Node} target
   * @param {function(MutationObserverInit):MutationRecord} callback
   */
  function forEachAncestorAndObserverEnqueueRecord(target, callback) {
    for (var node = target; node; node = node.parentNode) {
      var registrations = registrationsTable.get(node);

      if (registrations) {
        for (var j = 0; j < registrations.length; j++) {
          var registration = registrations[j];
          var options = registration.options;

          // Only target ignores subtree.
          if (node !== target && !options.subtree)
            continue;

          var record = callback(options);
          if (record)
            registration.enqueue(record);
        }
      }
    }
  }

  var uidCounter = 0;

  /**
   * The class that maps to the DOM MutationObserver interface.
   * @param {Function} callback.
   * @constructor
   */
  function JsMutationObserver(callback) {
    this.callback_ = callback;
    this.nodes_ = [];
    this.records_ = [];
    this.uid_ = ++uidCounter;
  }

  JsMutationObserver.prototype = {
    observe: function(target, options) {
      target = wrapIfNeeded(target);

      // 1.1
      if (!options.childList && !options.attributes && !options.characterData ||

          // 1.2
          options.attributeOldValue && !options.attributes ||

          // 1.3
          options.attributeFilter && options.attributeFilter.length &&
              !options.attributes ||

          // 1.4
          options.characterDataOldValue && !options.characterData) {

        throw new SyntaxError();
      }

      var registrations = registrationsTable.get(target);
      if (!registrations)
        registrationsTable.set(target, registrations = []);

      // 2
      // If target's list of registered observers already includes a registered
      // observer associated with the context object, replace that registered
      // observer's options with options.
      var registration;
      for (var i = 0; i < registrations.length; i++) {
        if (registrations[i].observer === this) {
          registration = registrations[i];
          registration.removeListeners();
          registration.options = options;
          break;
        }
      }

      // 3.
      // Otherwise, add a new registered observer to target's list of registered
      // observers with the context object as the observer and options as the
      // options, and add target to context object's list of nodes on which it
      // is registered.
      if (!registration) {
        registration = new Registration(this, target, options);
        registrations.push(registration);
        this.nodes_.push(target);
      }

      registration.addListeners();
    },

    disconnect: function() {
      this.nodes_.forEach(function(node) {
        var registrations = registrationsTable.get(node);
        for (var i = 0; i < registrations.length; i++) {
          var registration = registrations[i];
          if (registration.observer === this) {
            registration.removeListeners();
            registrations.splice(i, 1);
            // Each node can only have one registered observer associated with
            // this observer.
            break;
          }
        }
      }, this);
      this.records_ = [];
    },

    takeRecords: function() {
      var copyOfRecords = this.records_;
      this.records_ = [];
      return copyOfRecords;
    }
  };

  /**
   * @param {string} type
   * @param {Node} target
   * @constructor
   */
  function MutationRecord(type, target) {
    this.type = type;
    this.target = target;
    this.addedNodes = [];
    this.removedNodes = [];
    this.previousSibling = null;
    this.nextSibling = null;
    this.attributeName = null;
    this.attributeNamespace = null;
    this.oldValue = null;
  }

  function copyMutationRecord(original) {
    var record = new MutationRecord(original.type, original.target);
    record.addedNodes = original.addedNodes.slice();
    record.removedNodes = original.removedNodes.slice();
    record.previousSibling = original.previousSibling;
    record.nextSibling = original.nextSibling;
    record.attributeName = original.attributeName;
    record.attributeNamespace = original.attributeNamespace;
    record.oldValue = original.oldValue;
    return record;
  };

  // We keep track of the two (possibly one) records used in a single mutation.
  var currentRecord, recordWithOldValue;

  /**
   * Creates a record without |oldValue| and caches it as |currentRecord| for
   * later use.
   * @param {string} oldValue
   * @return {MutationRecord}
   */
  function getRecord(type, target) {
    return currentRecord = new MutationRecord(type, target);
  }

  /**
   * Gets or creates a record with |oldValue| based in the |currentRecord|
   * @param {string} oldValue
   * @return {MutationRecord}
   */
  function getRecordWithOldValue(oldValue) {
    if (recordWithOldValue)
      return recordWithOldValue;
    recordWithOldValue = copyMutationRecord(currentRecord);
    recordWithOldValue.oldValue = oldValue;
    return recordWithOldValue;
  }

  function clearRecords() {
    currentRecord = recordWithOldValue = undefined;
  }

  /**
   * @param {MutationRecord} record
   * @return {boolean} Whether the record represents a record from the current
   * mutation event.
   */
  function recordRepresentsCurrentMutation(record) {
    return record === recordWithOldValue || record === currentRecord;
  }

  /**
   * Selects which record, if any, to replace the last record in the queue.
   * This returns |null| if no record should be replaced.
   *
   * @param {MutationRecord} lastRecord
   * @param {MutationRecord} newRecord
   * @param {MutationRecord}
   */
  function selectRecord(lastRecord, newRecord) {
    if (lastRecord === newRecord)
      return lastRecord;

    // Check if the the record we are adding represents the same record. If
    // so, we keep the one with the oldValue in it.
    if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord))
      return recordWithOldValue;

    return null;
  }

  /**
   * Class used to represent a registered observer.
   * @param {MutationObserver} observer
   * @param {Node} target
   * @param {MutationObserverInit} options
   * @constructor
   */
  function Registration(observer, target, options) {
    this.observer = observer;
    this.target = target;
    this.options = options;
    this.transientObservedNodes = [];
  }

  Registration.prototype = {
    enqueue: function(record) {
      var records = this.observer.records_;
      var length = records.length;

      // There are cases where we replace the last record with the new record.
      // For example if the record represents the same mutation we need to use
      // the one with the oldValue. If we get same record (this can happen as we
      // walk up the tree) we ignore the new record.
      if (records.length > 0) {
        var lastRecord = records[length - 1];
        var recordToReplaceLast = selectRecord(lastRecord, record);
        if (recordToReplaceLast) {
          records[length - 1] = recordToReplaceLast;
          return;
        }
      } else {
        scheduleCallback(this.observer);
      }

      records[length] = record;
    },

    addListeners: function() {
      this.addListeners_(this.target);
    },

    addListeners_: function(node) {
      var options = this.options;
      if (options.attributes)
        node.addEventListener('DOMAttrModified', this, true);

      if (options.characterData)
        node.addEventListener('DOMCharacterDataModified', this, true);

      if (options.childList)
        node.addEventListener('DOMNodeInserted', this, true);

      if (options.childList || options.subtree)
        node.addEventListener('DOMNodeRemoved', this, true);
    },

    removeListeners: function() {
      this.removeListeners_(this.target);
    },

    removeListeners_: function(node) {
      var options = this.options;
      if (options.attributes)
        node.removeEventListener('DOMAttrModified', this, true);

      if (options.characterData)
        node.removeEventListener('DOMCharacterDataModified', this, true);

      if (options.childList)
        node.removeEventListener('DOMNodeInserted', this, true);

      if (options.childList || options.subtree)
        node.removeEventListener('DOMNodeRemoved', this, true);
    },

    /**
     * Adds a transient observer on node. The transient observer gets removed
     * next time we deliver the change records.
     * @param {Node} node
     */
    addTransientObserver: function(node) {
      // Don't add transient observers on the target itself. We already have all
      // the required listeners set up on the target.
      if (node === this.target)
        return;

      this.addListeners_(node);
      this.transientObservedNodes.push(node);
      var registrations = registrationsTable.get(node);
      if (!registrations)
        registrationsTable.set(node, registrations = []);

      // We know that registrations does not contain this because we already
      // checked if node === this.target.
      registrations.push(this);
    },

    removeTransientObservers: function() {
      var transientObservedNodes = this.transientObservedNodes;
      this.transientObservedNodes = [];

      transientObservedNodes.forEach(function(node) {
        // Transient observers are never added to the target.
        this.removeListeners_(node);

        var registrations = registrationsTable.get(node);
        for (var i = 0; i < registrations.length; i++) {
          if (registrations[i] === this) {
            registrations.splice(i, 1);
            // Each node can only have one registered observer associated with
            // this observer.
            break;
          }
        }
      }, this);
    },

    handleEvent: function(e) {
      // Stop propagation since we are managing the propagation manually.
      // This means that other mutation events on the page will not work
      // correctly but that is by design.
      e.stopImmediatePropagation();

      switch (e.type) {
        case 'DOMAttrModified':
          // http://dom.spec.whatwg.org/#concept-mo-queue-attributes

          var name = e.attrName;
          var namespace = e.relatedNode.namespaceURI;
          var target = e.target;

          // 1.
          var record = new getRecord('attributes', target);
          record.attributeName = name;
          record.attributeNamespace = namespace;

          // 2.
          var oldValue =
              e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;

          forEachAncestorAndObserverEnqueueRecord(target, function(options) {
            // 3.1, 4.2
            if (!options.attributes)
              return;

            // 3.2, 4.3
            if (options.attributeFilter && options.attributeFilter.length &&
                options.attributeFilter.indexOf(name) === -1 &&
                options.attributeFilter.indexOf(namespace) === -1) {
              return;
            }
            // 3.3, 4.4
            if (options.attributeOldValue)
              return getRecordWithOldValue(oldValue);

            // 3.4, 4.5
            return record;
          });

          break;

        case 'DOMCharacterDataModified':
          // http://dom.spec.whatwg.org/#concept-mo-queue-characterdata
          var target = e.target;

          // 1.
          var record = getRecord('characterData', target);

          // 2.
          var oldValue = e.prevValue;


          forEachAncestorAndObserverEnqueueRecord(target, function(options) {
            // 3.1, 4.2
            if (!options.characterData)
              return;

            // 3.2, 4.3
            if (options.characterDataOldValue)
              return getRecordWithOldValue(oldValue);

            // 3.3, 4.4
            return record;
          });

          break;

        case 'DOMNodeRemoved':
          this.addTransientObserver(e.target);
          // Fall through.
        case 'DOMNodeInserted':
          // http://dom.spec.whatwg.org/#concept-mo-queue-childlist
          var target = e.relatedNode;
          var changedNode = e.target;
          var addedNodes, removedNodes;
          if (e.type === 'DOMNodeInserted') {
            addedNodes = [changedNode];
            removedNodes = [];
          } else {

            addedNodes = [];
            removedNodes = [changedNode];
          }
          var previousSibling = changedNode.previousSibling;
          var nextSibling = changedNode.nextSibling;

          // 1.
          var record = getRecord('childList', target);
          record.addedNodes = addedNodes;
          record.removedNodes = removedNodes;
          record.previousSibling = previousSibling;
          record.nextSibling = nextSibling;

          forEachAncestorAndObserverEnqueueRecord(target, function(options) {
            // 2.1, 3.2
            if (!options.childList)
              return;

            // 2.2, 3.3
            return record;
          });

      }

      clearRecords();
    }
  };

  global.JsMutationObserver = JsMutationObserver;

  if (!global.MutationObserver)
    global.MutationObserver = JsMutationObserver;


})(this);

// Copyright 2011 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var MutationObserverCtor;
if (typeof WebKitMutationObserver !== 'undefined')
    MutationObserverCtor = WebKitMutationObserver;
else
    MutationObserverCtor = MutationObserver;

if (MutationObserverCtor === undefined) {
    console.error('DOM Mutation Observers are required.');
    console.error('https://developer.mozilla.org/en-US/docs/DOM/MutationObserver');
    throw Error('DOM Mutation Observers are required');
}

var NodeMap = (function () {
    function NodeMap() {
        this.nodes = [];
        this.values = [];
    }
    NodeMap.prototype.isIndex = function (s) {
        return +s === s >>> 0;
    };

    NodeMap.prototype.nodeId = function (node) {
        var id = node[NodeMap.ID_PROP];
        if (!id)
            id = node[NodeMap.ID_PROP] = NodeMap.nextId_++;
        return id;
    };

    NodeMap.prototype.set = function (node, value) {
        var id = this.nodeId(node);
        this.nodes[id] = node;
        this.values[id] = value;
    };

    NodeMap.prototype.get = function (node) {
        var id = this.nodeId(node);
        return this.values[id];
    };

    NodeMap.prototype.has = function (node) {
        return this.nodeId(node) in this.nodes;
    };

    NodeMap.prototype.delete = function (node) {
        var id = this.nodeId(node);
        delete this.nodes[id];
        this.values[id] = undefined;
    };

    NodeMap.prototype.keys = function () {
        var nodes = [];
        for (var id in this.nodes) {
            if (!this.isIndex(id))
                continue;
            nodes.push(this.nodes[id]);
        }

        return nodes;
    };
    NodeMap.ID_PROP = '__mutation_summary_node_map_id__';
    NodeMap.nextId_ = 1;
    return NodeMap;
})();

/**
 *  var reachableMatchableProduct = [
 *  //  STAYED_OUT,  ENTERED,     STAYED_IN,   EXITED
 *    [ STAYED_OUT,  STAYED_OUT,  STAYED_OUT,  STAYED_OUT ], // STAYED_OUT
 *    [ STAYED_OUT,  ENTERED,     ENTERED,     STAYED_OUT ], // ENTERED
 *    [ STAYED_OUT,  ENTERED,     STAYED_IN,   EXITED     ], // STAYED_IN
 *    [ STAYED_OUT,  STAYED_OUT,  EXITED,      EXITED     ]  // EXITED
 *  ];
 */
var Movement;
(function (Movement) {
    Movement[Movement["STAYED_OUT"] = 0] = "STAYED_OUT";
    Movement[Movement["ENTERED"] = 1] = "ENTERED";
    Movement[Movement["STAYED_IN"] = 2] = "STAYED_IN";
    Movement[Movement["REPARENTED"] = 3] = "REPARENTED";
    Movement[Movement["REORDERED"] = 4] = "REORDERED";
    Movement[Movement["EXITED"] = 5] = "EXITED";
})(Movement || (Movement = {}));

function enteredOrExited(changeType) {
    return changeType === 1 /* ENTERED */ || changeType === 5 /* EXITED */;
}

var NodeChange = (function () {
    function NodeChange(node, childList, attributes, characterData, oldParentNode, added, attributeOldValues, characterDataOldValue) {
        if (typeof childList === "undefined") { childList = false; }
        if (typeof attributes === "undefined") { attributes = false; }
        if (typeof characterData === "undefined") { characterData = false; }
        if (typeof oldParentNode === "undefined") { oldParentNode = null; }
        if (typeof added === "undefined") { added = false; }
        if (typeof attributeOldValues === "undefined") { attributeOldValues = null; }
        if (typeof characterDataOldValue === "undefined") { characterDataOldValue = null; }
        this.node = node;
        this.childList = childList;
        this.attributes = attributes;
        this.characterData = characterData;
        this.oldParentNode = oldParentNode;
        this.added = added;
        this.attributeOldValues = attributeOldValues;
        this.characterDataOldValue = characterDataOldValue;
        try{
            this.isCaseInsensitive = this.node.nodeType === Node.ELEMENT_NODE && this.node instanceof HTMLElement && this.node.ownerDocument instanceof HTMLDocument;
        }catch(e){
            //temp IE 10 faild logic not understandable
            //console.log("TO DO : fix for IE")
            this.isCaseInsensitive = false;
        }
    }
    NodeChange.prototype.getAttributeOldValue = function (name) {
        if (!this.attributeOldValues)
            return undefined;
        if (this.isCaseInsensitive)
            name = name.toLowerCase();
        return this.attributeOldValues[name];
    };

    NodeChange.prototype.getAttributeNamesMutated = function () {
        var names = [];
        if (!this.attributeOldValues)
            return names;
        for (var name in this.attributeOldValues) {
            names.push(name);
        }
        return names;
    };

    NodeChange.prototype.attributeMutated = function (name, oldValue) {
        this.attributes = true;
        this.attributeOldValues = this.attributeOldValues || {};

        if (name in this.attributeOldValues)
            return;

        this.attributeOldValues[name] = oldValue;
    };

    NodeChange.prototype.characterDataMutated = function (oldValue) {
        if (this.characterData)
            return;
        this.characterData = true;
        this.characterDataOldValue = oldValue;
    };

    // Note: is it possible to receive a removal followed by a removal. This
    // can occur if the removed node is added to an non-observed node, that
    // node is added to the observed area, and then the node removed from
    // it.
    NodeChange.prototype.removedFromParent = function (parent) {
        this.childList = true;
        if (this.added || this.oldParentNode)
            this.added = false;
        else
            this.oldParentNode = parent;
    };

    NodeChange.prototype.insertedIntoParent = function () {
        this.childList = true;
        this.added = true;
    };

    // An node's oldParent is
    //   -its present parent, if its parentNode was not changed.
    //   -null if the first thing that happened to it was an add.
    //   -the node it was removed from if the first thing that happened to it
    //      was a remove.
    NodeChange.prototype.getOldParent = function () {
        if (this.childList) {
            if (this.oldParentNode)
                return this.oldParentNode;
            if (this.added)
                return null;
        }

        return this.node.parentNode;
    };
    return NodeChange;
})();

var ChildListChange = (function () {
    function ChildListChange() {
        this.added = new NodeMap();
        this.removed = new NodeMap();
        this.maybeMoved = new NodeMap();
        this.oldPrevious = new NodeMap();
        this.moved = undefined;
    }
    return ChildListChange;
})();

var TreeChanges = (function (_super) {
    __extends(TreeChanges, _super);





    function TreeChanges(rootNode, mutations,globalListener) {
        _super.call(this);

        this.rootNode = rootNode;
        this.reachableCache = undefined;
        this.wasReachableCache = undefined;
        this.anyParentsChanged = false;
        this.anyAttributesChanged = false;
        this.anyCharacterDataChanged = false;
        this.globalListener = globalListener;


        this.mutations = this.globalListener.removeDuplicates(mutations);

        for (var m = 0; m < mutations.length; m++) {
            var mutation = mutations[m];
            switch (mutation.type) {
                case 'childList':
                    this.anyParentsChanged = true;
                    for (var i = 0; i < mutation.removedNodes.length; i++) {
                        var node = mutation.removedNodes[i];
                        if(this.globalListener.checkIgnorList(mutation.target) || this.globalListener.checkIgnorList(node))  if(!this.globalListener.config.isIgnorSetEmptyBox) break;
                        this.getChange(node).removedFromParent(mutation.target);
                    }
                    for (var i = 0; i < mutation.addedNodes.length; i++) {
                        var node = mutation.addedNodes[i];
                        if(this.globalListener.checkIgnorList(mutation.target) || this.globalListener.checkIgnorList(node))  if(!this.globalListener.config.isIgnorSetEmptyBox) break;
                        this.getChange(node).insertedIntoParent();
                    }
                    break;

                case 'attributes':
                    if(this.globalListener.checkIgnorList(mutation.target)) break;
                    this.anyAttributesChanged = true;
                    var change = this.getChange(mutation.target);
                    change.attributeMutated(mutation.attributeName, mutation.oldValue);
                    break;

                case 'characterData':
                    if(this.globalListener.checkIgnorList(mutation.target)) break;
                    this.anyCharacterDataChanged = true;
                    var change = this.getChange(mutation.target);
                    change.characterDataMutated(mutation.oldValue);
                    break;
            }
        }
    }
    TreeChanges.prototype.getChange = function (node) {
        var change = this.get(node);
        if (!change) {
            change = new NodeChange(node);
            this.set(node, change);
        }
        return change;
    };

    TreeChanges.prototype.getOldParent = function (node) {
        var change = this.get(node);
        return change ? change.getOldParent() : node.parentNode;
    };

    TreeChanges.prototype.getIsReachable = function (node) {
        if (node === this.rootNode)
            return true;
        if (!node)
            return false;

        this.reachableCache = this.reachableCache || new NodeMap();
        var isReachable = this.reachableCache.get(node);
        if (isReachable === undefined) {
            isReachable = this.getIsReachable(node.parentNode);
            this.reachableCache.set(node, isReachable);
        }
        return isReachable;
    };

    // A node wasReachable if its oldParent wasReachable.
    TreeChanges.prototype.getWasReachable = function (node) {
        if (node === this.rootNode)
            return true;
        if (!node)
            return false;

        this.wasReachableCache = this.wasReachableCache || new NodeMap();
        var wasReachable = this.wasReachableCache.get(node);
        if (wasReachable === undefined) {
            wasReachable = this.getWasReachable(this.getOldParent(node));
            this.wasReachableCache.set(node, wasReachable);
        }
        return wasReachable;
    };

    TreeChanges.prototype.reachabilityChange = function (node) {
        if (this.getIsReachable(node)) {
            return this.getWasReachable(node) ? 2 /* STAYED_IN */ : 1 /* ENTERED */;
        }

        return this.getWasReachable(node) ? 5 /* EXITED */ : 0 /* STAYED_OUT */;
    };
    return TreeChanges;
})(NodeMap);

var MutationProjection = (function () {
    // TOOD(any)
    function MutationProjection(rootNode, mutations, selectors, calcReordered, calcOldPreviousSibling,globalListener) {
        this.rootNode = rootNode;
        this.mutations = mutations;
        this.selectors = selectors;
        this.calcReordered = calcReordered;
        this.calcOldPreviousSibling = calcOldPreviousSibling;
        this.treeChanges = new TreeChanges(rootNode, mutations,globalListener);
        this.entered = [];
        this.exited = [];
        this.stayedIn = new NodeMap();
        this.visited = new NodeMap();
        this.childListChangeMap = undefined;
        this.characterDataOnly = undefined;
        this.matchCache = undefined;

        this.processMutations();
    }
    MutationProjection.prototype.processMutations = function () {
        if (!this.treeChanges.anyParentsChanged && !this.treeChanges.anyAttributesChanged)
            return;

        var changedNodes = this.treeChanges.keys();
        for (var i = 0; i < changedNodes.length; i++) {
            this.visitNode(changedNodes[i], undefined);
        }
    };

    MutationProjection.prototype.visitNode = function (node, parentReachable) {
        if (this.visited.has(node))
            return;

        this.visited.set(node, true);

        var change = this.treeChanges.get(node);
        var reachable = parentReachable;

        // node inherits its parent's reachability change unless
        // its parentNode was mutated.
        if ((change && change.childList) || reachable == undefined)
            reachable = this.treeChanges.reachabilityChange(node);

        if (reachable === 0 /* STAYED_OUT */)
            return;

        // Cache match results for sub-patterns.
        this.matchabilityChange(node);

        if (reachable === 1 /* ENTERED */) {
            this.entered.push(node);
        } else if (reachable === 5 /* EXITED */) {
            this.exited.push(node);
            this.ensureHasOldPreviousSiblingIfNeeded(node);
        } else if (reachable === 2 /* STAYED_IN */) {
            var movement = 2 /* STAYED_IN */;

            if (change && change.childList) {
                if (change.oldParentNode !== node.parentNode) {
                    movement = 3 /* REPARENTED */;
                    this.ensureHasOldPreviousSiblingIfNeeded(node);
                } else if (this.calcReordered && this.wasReordered(node)) {
                    movement = 4 /* REORDERED */;
                }
            }

            this.stayedIn.set(node, movement);
        }

        if (reachable === 2 /* STAYED_IN */)
            return;

        for (var child = node.firstChild; child; child = child.nextSibling) {
            this.visitNode(child, reachable);
        }
    };

    MutationProjection.prototype.ensureHasOldPreviousSiblingIfNeeded = function (node) {
        if (!this.calcOldPreviousSibling)
            return;

        this.processChildlistChanges();

        var parentNode = node.parentNode;
        var nodeChange = this.treeChanges.get(node);
        if (nodeChange && nodeChange.oldParentNode)
            parentNode = nodeChange.oldParentNode;

        var change = this.childListChangeMap.get(parentNode);
        if (!change) {
            change = new ChildListChange();
            this.childListChangeMap.set(parentNode, change);
        }

        if (!change.oldPrevious.has(node)) {
            change.oldPrevious.set(node, node.previousSibling);
        }
    };

    MutationProjection.prototype.getChanged = function (summary, selectors, characterDataOnly) {
        this.selectors = selectors;
        this.characterDataOnly = characterDataOnly;

        for (var i = 0; i < this.entered.length; i++) {
            var node = this.entered[i];
            var matchable = this.matchabilityChange(node);
            if (matchable === 1 /* ENTERED */ || matchable === 2 /* STAYED_IN */)
                summary.added.push(node);
        }

        var stayedInNodes = this.stayedIn.keys();
        for (var i = 0; i < stayedInNodes.length; i++) {
            var node = stayedInNodes[i];
            var matchable = this.matchabilityChange(node);

            if (matchable === 1 /* ENTERED */) {
                summary.added.push(node);
            } else if (matchable === 5 /* EXITED */) {
                summary.removed.push(node);
            } else if (matchable === 2 /* STAYED_IN */ && (summary.reparented || summary.reordered)) {
                var movement = this.stayedIn.get(node);
                if (summary.reparented && movement === 3 /* REPARENTED */)
                    summary.reparented.push(node);
                else if (summary.reordered && movement === 4 /* REORDERED */)
                    summary.reordered.push(node);
            }
        }

        for (var i = 0; i < this.exited.length; i++) {
            var node = this.exited[i];
            var matchable = this.matchabilityChange(node);
            if (matchable === 5 /* EXITED */ || matchable === 2 /* STAYED_IN */)
                summary.removed.push(node);
        }
    };

    MutationProjection.prototype.getOldParentNode = function (node) {
        var change = this.treeChanges.get(node);
        if (change && change.childList)
            return change.oldParentNode ? change.oldParentNode : null;

        var reachabilityChange = this.treeChanges.reachabilityChange(node);
        if (reachabilityChange === 0 /* STAYED_OUT */ || reachabilityChange === 1 /* ENTERED */)
            throw Error('getOldParentNode requested on invalid node.');

        return node.parentNode;
    };

    MutationProjection.prototype.getOldPreviousSibling = function (node) {
        var parentNode = node.parentNode;
        var nodeChange = this.treeChanges.get(node);
        if (nodeChange && nodeChange.oldParentNode)
            parentNode = nodeChange.oldParentNode;

        var change = this.childListChangeMap.get(parentNode);
        if (!change)
            throw Error('getOldPreviousSibling requested on invalid node.');

        return change.oldPrevious.get(node);
    };

    MutationProjection.prototype.getOldAttribute = function (element, attrName) {
        var change = this.treeChanges.get(element);
        if (!change || !change.attributes)
            throw Error('getOldAttribute requested on invalid node.');

        var value = change.getAttributeOldValue(attrName);
        if (value === undefined)
            throw Error('getOldAttribute requested for unchanged attribute name.');

        return value;
    };

    MutationProjection.prototype.attributeChangedNodes = function (includeAttributes) {
        if (!this.treeChanges.anyAttributesChanged)
            return {};

        var attributeFilter;
        var caseInsensitiveFilter;
        if (includeAttributes) {
            attributeFilter = {};
            caseInsensitiveFilter = {};
            for (var i = 0; i < includeAttributes.length; i++) {
                var attrName = includeAttributes[i];
                attributeFilter[attrName] = true;
                caseInsensitiveFilter[attrName.toLowerCase()] = attrName;
            }
        }

        var result = {};
        var nodes = this.treeChanges.keys();

        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];

            var change = this.treeChanges.get(node);
            if (!change.attributes)
                continue;

            if (2 /* STAYED_IN */ !== this.treeChanges.reachabilityChange(node) || 2 /* STAYED_IN */ !== this.matchabilityChange(node)) {
                continue;
            }

            var element = node;
            var changedAttrNames = change.getAttributeNamesMutated();
            for (var j = 0; j < changedAttrNames.length; j++) {
                var attrName = changedAttrNames[j];

                if (attributeFilter && !attributeFilter[attrName] && !(change.isCaseInsensitive && caseInsensitiveFilter[attrName])) {
                    continue;
                }

                var oldValue = change.getAttributeOldValue(attrName);
                if (oldValue === element.getAttribute(attrName))
                    continue;

                if (caseInsensitiveFilter && change.isCaseInsensitive)
                    attrName = caseInsensitiveFilter[attrName];

                result[attrName] = result[attrName] || [];
                result[attrName].push(element);
            }
        }

        return result;
    };

    MutationProjection.prototype.getOldCharacterData = function (node) {
        var change = this.treeChanges.get(node);
        if (!change || !change.characterData)
            throw Error('getOldCharacterData requested on invalid node.');

        return change.characterDataOldValue;
    };

    MutationProjection.prototype.getCharacterDataChanged = function () {
        if (!this.treeChanges.anyCharacterDataChanged)
            return [];

        var nodes = this.treeChanges.keys();
        var result = [];
        for (var i = 0; i < nodes.length; i++) {
            var target = nodes[i];
            if (2 /* STAYED_IN */ !== this.treeChanges.reachabilityChange(target))
                continue;

            var change = this.treeChanges.get(target);
            if (!change.characterData || target.textContent == change.characterDataOldValue)
                continue;

            result.push(target);
        }

        return result;
    };

    MutationProjection.prototype.computeMatchabilityChange = function (selector, el) {
        if (!this.matchCache)
            this.matchCache = [];
        if (!this.matchCache[selector.uid])
            this.matchCache[selector.uid] = new NodeMap();

        var cache = this.matchCache[selector.uid];
        var result = cache.get(el);
        if (result === undefined) {
            result = selector.matchabilityChange(el, this.treeChanges.get(el));
            cache.set(el, result);
        }
        return result;
    };

    MutationProjection.prototype.matchabilityChange = function (node) {
        var _this = this;
        // TODO(rafaelw): Include PI, CDATA?
        // Only include text nodes.
        if (this.characterDataOnly) {
            switch (node.nodeType) {
                case Node.COMMENT_NODE:
                case Node.TEXT_NODE:
                    return 2 /* STAYED_IN */;
                default:
                    return 0 /* STAYED_OUT */;
            }
        }

        // No element filter. Include all nodes.
        if (!this.selectors)
            return 2 /* STAYED_IN */;

        // Element filter. Exclude non-elements.
        if (node.nodeType !== Node.ELEMENT_NODE)
            return 0 /* STAYED_OUT */;

        var el = node;

        var matchChanges = this.selectors.map(function (selector) {
            return _this.computeMatchabilityChange(selector, el);
        });

        var accum = 0 /* STAYED_OUT */;
        var i = 0;

        while (accum !== 2 /* STAYED_IN */ && i < matchChanges.length) {
            switch (matchChanges[i]) {
                case 2 /* STAYED_IN */:
                    accum = 2 /* STAYED_IN */;
                    break;
                case 1 /* ENTERED */:
                    if (accum === 5 /* EXITED */)
                        accum = 2 /* STAYED_IN */;
                    else
                        accum = 1 /* ENTERED */;
                    break;
                case 5 /* EXITED */:
                    if (accum === 1 /* ENTERED */)
                        accum = 2 /* STAYED_IN */;
                    else
                        accum = 5 /* EXITED */;
                    break;
            }

            i++;
        }

        return accum;
    };

    MutationProjection.prototype.getChildlistChange = function (el) {
        var change = this.childListChangeMap.get(el);
        if (!change) {
            change = new ChildListChange();
            this.childListChangeMap.set(el, change);
        }

        return change;
    };

    MutationProjection.prototype.processChildlistChanges = function () {
        if (this.childListChangeMap)
            return;

        this.childListChangeMap = new NodeMap();

        for (var i = 0; i < this.mutations.length; i++) {
            var mutation = this.mutations[i];
            if (mutation.type != 'childList')
                continue;

            if (this.treeChanges.reachabilityChange(mutation.target) !== 2 /* STAYED_IN */ && !this.calcOldPreviousSibling)
                continue;

            var change = this.getChildlistChange(mutation.target);

            var oldPrevious = mutation.previousSibling;

            function recordOldPrevious(node, previous) {
                if (!node || change.oldPrevious.has(node) || change.added.has(node) || change.maybeMoved.has(node))
                    return;

                if (previous && (change.added.has(previous) || change.maybeMoved.has(previous)))
                    return;

                change.oldPrevious.set(node, previous);
            }

            for (var j = 0; j < mutation.removedNodes.length; j++) {
                var node = mutation.removedNodes[j];
                recordOldPrevious(node, oldPrevious);

                if (change.added.has(node)) {
                    change.added.delete(node);
                } else {
                    change.removed.set(node, true);
                    change.maybeMoved.delete(node);
                }

                oldPrevious = node;
            }

            recordOldPrevious(mutation.nextSibling, oldPrevious);

            for (var j = 0; j < mutation.addedNodes.length; j++) {
                var node = mutation.addedNodes[j];
                if (change.removed.has(node)) {
                    change.removed.delete(node);
                    change.maybeMoved.set(node, true);
                } else {
                    change.added.set(node, true);
                }
            }
        }
    };

    MutationProjection.prototype.wasReordered = function (node) {
        if (!this.treeChanges.anyParentsChanged)
            return false;

        this.processChildlistChanges();

        var parentNode = node.parentNode;
        var nodeChange = this.treeChanges.get(node);
        if (nodeChange && nodeChange.oldParentNode)
            parentNode = nodeChange.oldParentNode;

        var change = this.childListChangeMap.get(parentNode);
        if (!change)
            return false;

        if (change.moved)
            return change.moved.get(node);

        change.moved = new NodeMap();
        var pendingMoveDecision = new NodeMap();

        function isMoved(node) {
            if (!node)
                return false;
            if (!change.maybeMoved.has(node))
                return false;

            var didMove = change.moved.get(node);
            if (didMove !== undefined)
                return didMove;

            if (pendingMoveDecision.has(node)) {
                didMove = true;
            } else {
                pendingMoveDecision.set(node, true);
                didMove = getPrevious(node) !== getOldPrevious(node);
            }

            if (pendingMoveDecision.has(node)) {
                pendingMoveDecision.delete(node);
                change.moved.set(node, didMove);
            } else {
                didMove = change.moved.get(node);
            }

            return didMove;
        }

        var oldPreviousCache = new NodeMap();
        function getOldPrevious(node) {
            var oldPrevious = oldPreviousCache.get(node);
            if (oldPrevious !== undefined)
                return oldPrevious;

            oldPrevious = change.oldPrevious.get(node);
            while (oldPrevious && (change.removed.has(oldPrevious) || isMoved(oldPrevious))) {
                oldPrevious = getOldPrevious(oldPrevious);
            }

            if (oldPrevious === undefined)
                oldPrevious = node.previousSibling;
            oldPreviousCache.set(node, oldPrevious);

            return oldPrevious;
        }

        var previousCache = new NodeMap();
        function getPrevious(node) {
            if (previousCache.has(node))
                return previousCache.get(node);

            var previous = node.previousSibling;
            while (previous && (change.added.has(previous) || isMoved(previous)))
                previous = previous.previousSibling;

            previousCache.set(node, previous);
            return previous;
        }

        change.maybeMoved.keys().forEach(isMoved);
        return change.moved.get(node);
    };
    return MutationProjection;
})();

var Summary = (function () {
    function Summary(projection, query) {
        var _this = this;
        this.projection = projection;
        this.added = [];
        this.removed = [];
        this.reparented = query.all || query.element ? [] : undefined;
        this.reordered = query.all ? [] : undefined;

        projection.getChanged(this, query.elementFilter, query.characterData);

        if (query.all || query.attribute || query.attributeList) {
            var filter = query.attribute ? [query.attribute] : query.attributeList;
            var attributeChanged = projection.attributeChangedNodes(filter);

            if (query.attribute) {
                this.valueChanged = attributeChanged[query.attribute] || [];
            } else {
                this.attributeChanged = attributeChanged;
                if (query.attributeList) {
                    query.attributeList.forEach(function (attrName) {
                        if (!_this.attributeChanged.hasOwnProperty(attrName))
                            _this.attributeChanged[attrName] = [];
                    });
                }
            }
        }

        if (query.all || query.characterData) {
            var characterDataChanged = projection.getCharacterDataChanged();

            if (query.characterData)
                this.valueChanged = characterDataChanged;
            else
                this.characterDataChanged = characterDataChanged;
        }

        if (this.reordered)
            this.getOldPreviousSibling = projection.getOldPreviousSibling.bind(projection);
    }
    Summary.prototype.getOldParentNode = function (node) {
        return this.projection.getOldParentNode(node);
    };

    Summary.prototype.getOldAttribute = function (node, name) {
        return this.projection.getOldAttribute(node, name);
    };

    Summary.prototype.getOldCharacterData = function (node) {
        return this.projection.getOldCharacterData(node);
    };

    Summary.prototype.getOldPreviousSibling = function (node) {
        return this.projection.getOldPreviousSibling(node);
    };
    return Summary;
})();

// TODO(rafaelw): Allow ':' and '.' as valid name characters.
var validNameInitialChar = /[a-zA-Z_]+/;
var validNameNonInitialChar = /[a-zA-Z0-9_\-]+/;

// TODO(rafaelw): Consider allowing backslash in the attrValue.
// TODO(rafaelw): There's got a to be way to represent this state machine
// more compactly???
function escapeQuotes(value) {
    return '"' + value.replace(/"/, '\\\"') + '"';
}

var Qualifier = (function () {
    function Qualifier() {
    }
    Qualifier.prototype.matches = function (oldValue) {
        if (oldValue === null)
            return false;

        if (this.attrValue === undefined)
            return true;

        if (!this.contains)
            return this.attrValue == oldValue;

        var tokens = oldValue.split(' ');
        for (var i = 0; i < tokens.length; i++) {
            if (this.attrValue === tokens[i])
                return true;
        }

        return false;
    };

    Qualifier.prototype.toString = function () {
        if (this.attrName === 'class' && this.contains)
            return '.' + this.attrValue;

        if (this.attrName === 'id' && !this.contains)
            return '#' + this.attrValue;

        if (this.contains)
            return '[' + this.attrName + '~=' + escapeQuotes(this.attrValue) + ']';

        if ('attrValue' in this)
            return '[' + this.attrName + '=' + escapeQuotes(this.attrValue) + ']';

        return '[' + this.attrName + ']';
    };
    return Qualifier;
})();

var Selector = (function () {
    function Selector() {
        this.uid = Selector.nextUid++;
        this.qualifiers = [];
    }
    Object.defineProperty(Selector.prototype, "caseInsensitiveTagName", {
        get: function () {
            return this.tagName.toUpperCase();
        },
        enumerable: true,
        configurable: true
    });

    Object.defineProperty(Selector.prototype, "selectorString", {
        get: function () {
            return this.tagName + this.qualifiers.join('');
        },
        enumerable: true,
        configurable: true
    });

    Selector.prototype.isMatching = function (el) {
        return el[Selector.matchesSelector](this.selectorString);
    };

    Selector.prototype.wasMatching = function (el, change, isMatching) {
        if (!change || !change.attributes)
            return isMatching;

        var tagName = change.isCaseInsensitive ? this.caseInsensitiveTagName : this.tagName;
        if (tagName !== '*' && tagName !== el.tagName)
            return false;

        var attributeOldValues = [];
        var anyChanged = false;
        for (var i = 0; i < this.qualifiers.length; i++) {
            var qualifier = this.qualifiers[i];
            var oldValue = change.getAttributeOldValue(qualifier.attrName);
            attributeOldValues.push(oldValue);
            anyChanged = anyChanged || (oldValue !== undefined);
        }

        if (!anyChanged)
            return isMatching;

        for (var i = 0; i < this.qualifiers.length; i++) {
            var qualifier = this.qualifiers[i];
            var oldValue = attributeOldValues[i];
            if (oldValue === undefined)
                oldValue = el.getAttribute(qualifier.attrName);
            if (!qualifier.matches(oldValue))
                return false;
        }

        return true;
    };

    Selector.prototype.matchabilityChange = function (el, change) {
        var isMatching = this.isMatching(el);
        if (isMatching)
            return this.wasMatching(el, change, isMatching) ? 2 /* STAYED_IN */ : 1 /* ENTERED */;
        else
            return this.wasMatching(el, change, isMatching) ? 5 /* EXITED */ : 0 /* STAYED_OUT */;
    };

    Selector.parseSelectors = function (input) {
        var selectors = [];
        var currentSelector;
        var currentQualifier;

        function newSelector() {
            if (currentSelector) {
                if (currentQualifier) {
                    currentSelector.qualifiers.push(currentQualifier);
                    currentQualifier = undefined;
                }

                selectors.push(currentSelector);
            }
            currentSelector = new Selector();
        }

        function newQualifier() {
            if (currentQualifier)
                currentSelector.qualifiers.push(currentQualifier);

            currentQualifier = new Qualifier();
        }

        var WHITESPACE = /\s/;
        var valueQuoteChar;
        var SYNTAX_ERROR = 'Invalid or unsupported selector syntax.';

        var SELECTOR = 1;
        var TAG_NAME = 2;
        var QUALIFIER = 3;
        var QUALIFIER_NAME_FIRST_CHAR = 4;
        var QUALIFIER_NAME = 5;
        var ATTR_NAME_FIRST_CHAR = 6;
        var ATTR_NAME = 7;
        var EQUIV_OR_ATTR_QUAL_END = 8;
        var EQUAL = 9;
        var ATTR_QUAL_END = 10;
        var VALUE_FIRST_CHAR = 11;
        var VALUE = 12;
        var QUOTED_VALUE = 13;
        var SELECTOR_SEPARATOR = 14;

        var state = SELECTOR;
        var i = 0;
        while (i < input.length) {
            var c = input[i++];

            switch (state) {
                case SELECTOR:
                    if (c.match(validNameInitialChar)) {
                        newSelector();
                        currentSelector.tagName = c;
                        state = TAG_NAME;
                        break;
                    }

                    if (c == '*') {
                        newSelector();
                        currentSelector.tagName = '*';
                        state = QUALIFIER;
                        break;
                    }

                    if (c == '.') {
                        newSelector();
                        newQualifier();
                        currentSelector.tagName = '*';
                        currentQualifier.attrName = 'class';
                        currentQualifier.contains = true;
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '#') {
                        newSelector();
                        newQualifier();
                        currentSelector.tagName = '*';
                        currentQualifier.attrName = 'id';
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '[') {
                        newSelector();
                        newQualifier();
                        currentSelector.tagName = '*';
                        currentQualifier.attrName = '';
                        state = ATTR_NAME_FIRST_CHAR;
                        break;
                    }

                    if (c.match(WHITESPACE))
                        break;

                    throw Error(SYNTAX_ERROR);

                case TAG_NAME:
                    if (c.match(validNameNonInitialChar)) {
                        currentSelector.tagName += c;
                        break;
                    }

                    if (c == '.') {
                        newQualifier();
                        currentQualifier.attrName = 'class';
                        currentQualifier.contains = true;
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '#') {
                        newQualifier();
                        currentQualifier.attrName = 'id';
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '[') {
                        newQualifier();
                        currentQualifier.attrName = '';
                        state = ATTR_NAME_FIRST_CHAR;
                        break;
                    }

                    if (c.match(WHITESPACE)) {
                        state = SELECTOR_SEPARATOR;
                        break;
                    }

                    if (c == ',') {
                        state = SELECTOR;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case QUALIFIER:
                    if (c == '.') {
                        newQualifier();
                        currentQualifier.attrName = 'class';
                        currentQualifier.contains = true;
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '#') {
                        newQualifier();
                        currentQualifier.attrName = 'id';
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '[') {
                        newQualifier();
                        currentQualifier.attrName = '';
                        state = ATTR_NAME_FIRST_CHAR;
                        break;
                    }

                    if (c.match(WHITESPACE)) {
                        state = SELECTOR_SEPARATOR;
                        break;
                    }

                    if (c == ',') {
                        state = SELECTOR;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case QUALIFIER_NAME_FIRST_CHAR:
                    if (c.match(validNameInitialChar)) {
                        currentQualifier.attrValue = c;
                        state = QUALIFIER_NAME;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case QUALIFIER_NAME:
                    if (c.match(validNameNonInitialChar)) {
                        currentQualifier.attrValue += c;
                        break;
                    }

                    if (c == '.') {
                        newQualifier();
                        currentQualifier.attrName = 'class';
                        currentQualifier.contains = true;
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '#') {
                        newQualifier();
                        currentQualifier.attrName = 'id';
                        state = QUALIFIER_NAME_FIRST_CHAR;
                        break;
                    }
                    if (c == '[') {
                        newQualifier();
                        state = ATTR_NAME_FIRST_CHAR;
                        break;
                    }

                    if (c.match(WHITESPACE)) {
                        state = SELECTOR_SEPARATOR;
                        break;
                    }
                    if (c == ',') {
                        state = SELECTOR;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case ATTR_NAME_FIRST_CHAR:
                    if (c.match(validNameInitialChar)) {
                        currentQualifier.attrName = c;
                        state = ATTR_NAME;
                        break;
                    }

                    if (c.match(WHITESPACE))
                        break;

                    throw Error(SYNTAX_ERROR);

                case ATTR_NAME:
                    if (c.match(validNameNonInitialChar)) {
                        currentQualifier.attrName += c;
                        break;
                    }

                    if (c.match(WHITESPACE)) {
                        state = EQUIV_OR_ATTR_QUAL_END;
                        break;
                    }

                    if (c == '~') {
                        currentQualifier.contains = true;
                        state = EQUAL;
                        break;
                    }

                    if (c == '=') {
                        currentQualifier.attrValue = '';
                        state = VALUE_FIRST_CHAR;
                        break;
                    }

                    if (c == ']') {
                        state = QUALIFIER;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case EQUIV_OR_ATTR_QUAL_END:
                    if (c == '~') {
                        currentQualifier.contains = true;
                        state = EQUAL;
                        break;
                    }

                    if (c == '=') {
                        currentQualifier.attrValue = '';
                        state = VALUE_FIRST_CHAR;
                        break;
                    }

                    if (c == ']') {
                        state = QUALIFIER;
                        break;
                    }

                    if (c.match(WHITESPACE))
                        break;

                    throw Error(SYNTAX_ERROR);

                case EQUAL:
                    if (c == '=') {
                        currentQualifier.attrValue = '';
                        state = VALUE_FIRST_CHAR;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);

                case ATTR_QUAL_END:
                    if (c == ']') {
                        state = QUALIFIER;
                        break;
                    }

                    if (c.match(WHITESPACE))
                        break;

                    throw Error(SYNTAX_ERROR);

                case VALUE_FIRST_CHAR:
                    if (c.match(WHITESPACE))
                        break;

                    if (c == '"' || c == "'") {
                        valueQuoteChar = c;
                        state = QUOTED_VALUE;
                        break;
                    }

                    currentQualifier.attrValue += c;
                    state = VALUE;
                    break;

                case VALUE:
                    if (c.match(WHITESPACE)) {
                        state = ATTR_QUAL_END;
                        break;
                    }
                    if (c == ']') {
                        state = QUALIFIER;
                        break;
                    }
                    if (c == "'" || c == '"')
                        throw Error(SYNTAX_ERROR);

                    currentQualifier.attrValue += c;
                    break;

                case QUOTED_VALUE:
                    if (c == valueQuoteChar) {
                        state = ATTR_QUAL_END;
                        break;
                    }

                    currentQualifier.attrValue += c;
                    break;

                case SELECTOR_SEPARATOR:
                    if (c.match(WHITESPACE))
                        break;

                    if (c == ',') {
                        state = SELECTOR;
                        break;
                    }

                    throw Error(SYNTAX_ERROR);
            }
        }

        switch (state) {
            case SELECTOR:
            case TAG_NAME:
            case QUALIFIER:
            case QUALIFIER_NAME:
            case SELECTOR_SEPARATOR:
                // Valid end states.
                newSelector();
                break;
            default:
                throw Error(SYNTAX_ERROR);
        }

        if (!selectors.length)
            throw Error(SYNTAX_ERROR);

        return selectors;
    };
    Selector.nextUid = 1;
    Selector.matchesSelector = (function () {
        var element = document.createElement('div');
        if (typeof element['webkitMatchesSelector'] === 'function')
            return 'webkitMatchesSelector';
        if (typeof element['mozMatchesSelector'] === 'function')
            return 'mozMatchesSelector';
        if (typeof element['msMatchesSelector'] === 'function')
            return 'msMatchesSelector';

        return 'matchesSelector';
    })();
    return Selector;
})();

var attributeFilterPattern = /^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;

function validateAttribute(attribute) {
    if (typeof attribute != 'string')
        throw Error('Invalid request opion. attribute must be a non-zero length string.');

    attribute = attribute.trim();

    if (!attribute)
        throw Error('Invalid request opion. attribute must be a non-zero length string.');

    if (!attribute.match(attributeFilterPattern))
        throw Error('Invalid request option. invalid attribute name: ' + attribute);

    return attribute;
}

function validateElementAttributes(attribs) {
    if (!attribs.trim().length)
        throw Error('Invalid request option: elementAttributes must contain at least one attribute.');

    var lowerAttributes = {};
    var attributes = {};

    var tokens = attribs.split(/\s+/);
    for (var i = 0; i < tokens.length; i++) {
        var name = tokens[i];
        if (!name)
            continue;

        var name = validateAttribute(name);
        var nameLower = name.toLowerCase();
        if (lowerAttributes[nameLower])
            throw Error('Invalid request option: observing multiple case variations of the same attribute is not supported.');

        attributes[name] = true;
        lowerAttributes[nameLower] = true;
    }

    return Object.keys(attributes);
}

function elementFilterAttributes(selectors) {
    var attributes = {};

    selectors.forEach(function (selector) {
        selector.qualifiers.forEach(function (qualifier) {
            attributes[qualifier.attrName] = true;
        });
    });

    return Object.keys(attributes);
}

var MutationSummary = (function () {
    function MutationSummary(opts,globalListener) {
        var _this = this;
        this.connected = false;
        this.options = MutationSummary.validateOptions(opts);
        this.observerOptions = MutationSummary.createObserverOptions(this.options.queries);
        this.root = this.options.rootNode;
        this.callback = this.options.callback;
        this.globalListener = globalListener;
        this.elementFilter = Array.prototype.concat.apply([], this.options.queries.map(function (query) {
            return query.elementFilter ? query.elementFilter : [];
        }));
        if (!this.elementFilter.length)
            this.elementFilter = undefined;

        this.calcReordered = this.options.queries.some(function (query) {
            return query.all;
        });

        this.queryValidators = []; // TODO(rafaelw): Shouldn't always define this.
        if (MutationSummary.createQueryValidator) {
            this.queryValidators = this.options.queries.map(function (query) {
                return MutationSummary.createQueryValidator(_this.root, query);
            });
        }
        // how match buffering data befor send
        this.bufferTime = this.globalListener.config.bufferTime;
        // max wait time befor last send

        if(this.bufferTime == 0){
            this.observer = new MutationObserverCtor(function (mutations) {
                _this.observerCallback(mutations);
            });
        }else{
            this.observerTimer = 0;
            this.mutationsArr = new Array();
            this.observer = new MutationObserverCtor(function (mutations) {
                var now = new Date().getTime();
                _this.mutationsArr = _this.mutationsArr.concat(mutations);
                var diff = now-_this.observerTimer;
                if(diff < _this.bufferTime){
                    if(diff > 0){
                        try{ clearTimeout(_this.timerDispatch); }catch(e){};
                        _this.timerDispatch = setTimeout(Tools.Delegate(_this,_this.dispatchCallBack),(_this.bufferTime-diff));
                    }
                    return;
                }
                _this.observerTimer = now;
                _this.dispatchCallBack();
            });

        }
        this.reconnect();
    }
    MutationSummary.prototype.dispatchCallBack = function(){
        this.observerCallback(this.mutationsArr);
        this.mutationsArr = new Array();
    }
    MutationSummary.createObserverOptions = function (queries) {
        var observerOptions = {
            childList: true,
            subtree: true
        };

        var attributeFilter;
        function observeAttributes(attributes) {
            if (observerOptions.attributes && !attributeFilter)
                return;

            observerOptions.attributes = true;
            observerOptions.attributeOldValue = true;

            if (!attributes) {
                // observe all.
                attributeFilter = undefined;
                return;
            }

            // add to observed.
            attributeFilter = attributeFilter || {};
            attributes.forEach(function (attribute) {
                attributeFilter[attribute] = true;
                attributeFilter[attribute.toLowerCase()] = true;
            });
        }

        queries.forEach(function (query) {
            if (query.characterData) {
                observerOptions.characterData = true;
                observerOptions.characterDataOldValue = true;
                return;
            }

            if (query.all) {
                observeAttributes();
                observerOptions.characterData = true;
                observerOptions.characterDataOldValue = true;
                return;
            }

            if (query.attribute) {
                observeAttributes([query.attribute.trim()]);
                return;
            }

            var attributes = elementFilterAttributes(query.elementFilter).concat(query.attributeList || []);
            if (attributes.length)
                observeAttributes(attributes);
        });

        if (attributeFilter)
            observerOptions.attributeFilter = Object.keys(attributeFilter);

        return observerOptions;
    };

    MutationSummary.validateOptions = function (options) {
        for (var prop in options) {
            if (!(prop in MutationSummary.optionKeys))
                throw Error('Invalid option: ' + prop);
        }

        if (typeof options.callback !== 'function')
            throw Error('Invalid options: callback is required and must be a function');

        if (!options.queries || !options.queries.length)
            throw Error('Invalid options: queries must contain at least one query request object.');

        var opts = {
            callback: options.callback,
            rootNode: options.rootNode || document,
            observeOwnChanges: !!options.observeOwnChanges,
            oldPreviousSibling: !!options.oldPreviousSibling,
            queries: []
        };

        for (var i = 0; i < options.queries.length; i++) {
            var request = options.queries[i];

            // all
            if (request.all) {
                if (Object.keys(request).length > 1)
                    throw Error('Invalid request option. all has no options.');

                opts.queries.push({ all: true });
                continue;
            }

            // attribute
            if ('attribute' in request) {
                var query = {
                    attribute: validateAttribute(request.attribute)
                };

                query.elementFilter = Selector.parseSelectors('*[' + query.attribute + ']');

                if (Object.keys(request).length > 1)
                    throw Error('Invalid request option. attribute has no options.');

                opts.queries.push(query);
                continue;
            }

            // element
            if ('element' in request) {
                var requestOptionCount = Object.keys(request).length;
                var query = {
                    element: request.element,
                    elementFilter: Selector.parseSelectors(request.element)
                };

                if (request.hasOwnProperty('elementAttributes')) {
                    query.attributeList = validateElementAttributes(request.elementAttributes);
                    requestOptionCount--;
                }

                if (requestOptionCount > 1)
                    throw Error('Invalid request option. element only allows elementAttributes option.');

                opts.queries.push(query);
                continue;
            }

            // characterData
            if (request.characterData) {
                if (Object.keys(request).length > 1)
                    throw Error('Invalid request option. characterData has no options.');

                opts.queries.push({ characterData: true });
                continue;
            }

            throw Error('Invalid request option. Unknown query request.');
        }

        return opts;
    };

    MutationSummary.prototype.createSummaries = function (mutations) {
        if (!mutations || !mutations.length)
            return [];

        var projection = new MutationProjection(this.root, mutations, this.elementFilter, this.calcReordered, this.options.oldPreviousSibling,this.globalListener);

        var summaries = [];
        for (var i = 0; i < this.options.queries.length; i++) {
            summaries.push(new Summary(projection, this.options.queries[i]));
        }

        return summaries;
    };

    MutationSummary.prototype.checkpointQueryValidators = function () {
        this.queryValidators.forEach(function (validator) {
            if (validator)
                validator.recordPreviousState();
        });
    };

    MutationSummary.prototype.runQueryValidators = function (summaries) {
        this.queryValidators.forEach(function (validator, index) {
            if (validator)
                validator.validate(summaries[index]);
        });
    };

    MutationSummary.prototype.changesToReport = function (summaries) {
        return summaries.some(function (summary) {
            var summaryProps = [
                'added', 'removed', 'reordered', 'reparented',
                'valueChanged', 'characterDataChanged'];
            if (summaryProps.some(function (prop) {
                return summary[prop] && summary[prop].length;
            }))
                return true;

            if (summary.attributeChanged) {
                var attrNames = Object.keys(summary.attributeChanged);
                var attrsChanged = attrNames.some(function (attrName) {
                    return !!summary.attributeChanged[attrName].length;
                });
                if (attrsChanged)
                    return true;
            }
            return false;
        });
    };

    MutationSummary.prototype.observerCallback = function (mutations) {
        // check if on target
//       for(var i = 0 ; i < mutations.length ; i++){
//           if(mutations[i].addedNodes.length > 0 && mutations[i].target.regExp != undefined){
//               var regExp = mutations[i].target.regExp;
//               var nodes = mutations[i].addedNodes;
//               for(var n = 0 ; n < nodes.length ; n++){
//                   for(var j = 0 ; j < regExp.length ; j++){
//                       data.attributes[attr.name] = data.attributes[attr.name].replace(new RegExp(regExp[j][0],regExp[j][1]), regExp[j][2])
//                   }
//               }
//
//
//           }
//       }



        if (!this.options.observeOwnChanges)
            this.observer.disconnect();

        var summaries = this.createSummaries(mutations);
        this.runQueryValidators(summaries);

        if (this.options.observeOwnChanges)
            this.checkpointQueryValidators();

        if (this.changesToReport(summaries))
            this.callback(summaries);

        // disconnect() may have been called during the callback.
        if (!this.options.observeOwnChanges && this.connected) {
            this.checkpointQueryValidators();
            this.observer.observe(this.root, this.observerOptions);
        }
    };

    MutationSummary.prototype.reconnect = function () {
        if (this.connected)
            throw Error('Already connected');

        this.observer.observe(this.root, this.observerOptions);
        this.connected = true;
        this.checkpointQueryValidators();
    };

    MutationSummary.prototype.takeSummaries = function () {
        if (!this.connected)
            throw Error('Not connected');

        var summaries = this.createSummaries(this.observer.takeRecords());
        return this.changesToReport(summaries) ? summaries : undefined;
    };

    MutationSummary.prototype.disconnect = function () {
        var summaries = this.takeSummaries();
        this.observer.disconnect();
        this.connected = false;
        return summaries;
    };
    MutationSummary.NodeMap = NodeMap;
    MutationSummary.parseElementFilter = Selector.parseSelectors;

    MutationSummary.optionKeys = {
        'callback': true,
        'queries': true,
        'rootNode': true,
        'oldPreviousSibling': true,
        'observeOwnChanges': true
    };
    return MutationSummary;
})();

//----------------------------------------------------------------------------------------------------------------
//----------------------------------| Expert |------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------
var GlobalListenerObject = new Object();
function GlobalListener(treeMirror){
    this.treeMirror = treeMirror;
    this.bodyReady = false;
    this.iframe = this.treeMirror.iframe;
    this.iframeContainer = this.treeMirror.iframeContainer;
    this.isDeleted = false;
    this.isCustumoerOnMobile = false;
    this.Delegate = function(o, f) {
        return function() {
            f.apply(o, arguments);
        }
    }
    this.setCustomerIsMobile = function(){
        this.isCustumoerOnMobile = true;
    }
    //-------------------------------------
    //------ remote controll --------------
    //-------------------------------------
    this.runFunction = function(params){
        if(this.bodyReady == false){
            if(this.isDeleted == false){
                return;
            }
            setTimeout(this.Delegate(this,this.runFunction),100,params)
            return;
        }
        this[params[0]].apply(this, params[1]);
    }
    this.callFunction = function(fName){
        var params = Array.prototype.slice.call(arguments);
        params.shift()
        this.treeMirror.delegate.callFunction([fName,params]);
    }
    //--------------------------------------------------------
    //----- run function on delay when body is ready ---------
    //--------------------------------------------------------

    this.globalDelayedFunctionStack = new Array();
    this.treeMirrorDelayedFunctionStack = new Array();
    this.clear = function(){
        this.bodyReady = false;
        this.isDeleted = true;
        this.clearEventsListeners();
    }
    this.runDelayedFunctions = function(){
        this.treeMirror.delegate.onInitilized(this);
        this.bodyReady = true;
        this.runGlobalDelayedFunctions();
        var len = this.treeMirrorDelayedFunctionStack.length;
        var a;
        for(var i = 0 ; i < len ; i++){
            a = this.treeMirrorDelayedFunctionStack[i];
            this.treeMirror.applyChanged(a[0],a[1],a[2],a[3]);
        }
        this.treeMirrorDelayedFunctionStack = new Array();
        this.loopOnAllElementAndRegister();
        this.initMouse();
        this.treeMirror.delegate.initilized();
        // check if this is FF and set customer send scroller by delay to fix bug
        if(Device.isFF && Device.version < 12){
            this.callFunction("setScrollerDelay");
        }
    }
    this.runGlobalDelayedFunctions = function(){
        var len = this.globalDelayedFunctionStack.length;
        for(var i = 0 ; i < len ; i++){
            this.applyGlobalChange(this.globalDelayedFunctionStack[i]);
        }
        this.globalDelayedFunctionStack = new Array();
    }
    //-------------------------------------
    //------------ DOM changes ------------
    //-------------------------------------
    this.loopOnAllElementAndRegister = function(){
        var nodsList = this.treeMirror.idMap;
        for(var index in nodsList) {
            this.loopOnElements(nodsList[index])
        }

    }
    this.setDisable = function(id){
        var target = this.treeMirror.idMap[id];
        var objType = target.type;
        if ( this.checkTextType(objType) || this.checkButtonType(objType)) {
            this.disableElamant(target);
        }
    }
    this.disableElamant = function(target){
        if(this.checkTextType(target.type)){
            target.setAttribute("readonly", true);
        }else{
            $hbr(target).css("opacity","0.6")
            $hbr(target).removeAttr("onclick");
            $hbr(target).data("root",this)
            $hbr(target).click(function(e){
                debugger;
                e.preventDefault();
                e.stopPropagation();
                $hbr(this).blur();
                $hbr(this).data('root').onClick(e);
            });
            $hbr(target).focus(function() {
                //Store old value
                $hbr(this).data('lastValue',$hbr(this).val());
            });
            $hbr(target).change(function(e){
                // reset last
                $hbr(this).val($hbr(this).data('lastValue'));
            });
        }
    }
    this.loopOnElements = function(target) {
        try{
            var objType = target.type;
            if ( this.checkTextType(objType) || this.checkButtonType(objType)) {
                if(this.isViwerMode){
                    this.disableElamant(target);
                }else{
                    $hbr(target).removeAttr("onclick");
                    this.registerTargetForChanges(target);
                }
            }else if(objType == "password"){
                target.disabled = true
            }else{

                $hbr(target).data("root",this)
                $hbr(target).mousedown(function(e){
                    //var type = e.target.type;
                    //debugger;
                    //e.preventDefault();
                    //e.stopPropagation();
                    $hbr(this).data('root').onMouseDown(e);
                });
                $hbr(target).mouseup(function(e){
                    //e.preventDefault();
                    //e.stopPropagation();
                    $hbr(this).data('root').onMouseUp(e);
                });
                $hbr(target).mouseenter(function(e){
                   // e.preventDefault();
                   // e.stopPropagation();
                    $hbr(this).data('root').onMouseEnter(e);
                });
                $hbr(target).mouseleave(function(e){
                   // e.preventDefault();
                   // e.stopPropagation();
                    $hbr(this).data('root').onMouseLeave(e);
                });
            }
        }catch(e){

        }
    }
    this.checkButtonType = function(objType){
        switch (objType){
            case "checkbox":
            case "radio":
            case "select-one":
            case "select-multiple":
            case "button":
            case "submit":
            case "reset":
            case "file":
                return true;
        }
        return false;
    }
    this.checkTextType = function(objType){
        switch (objType){
            case "text":
            case "search":
            case "textarea":
            case "email":
            case "tel":
            case "password":
            case "color":
            case "date":
            case "datetime":
            case "datetime-local":
            case "month":
            case "number":
            case "range":
            case "time":
            case "url":
            case "week":
            case "password":
                return true;
        }
        return false;
    }
    this.registerTargetForChanges = function(item){
        if(item.registered){
            return;
        }
        var f;
        var objType = item.type;
        //
        item.objType = objType;
        item.protected = false;
        item.root = this;
        item.registered = true;
        if(this.checkTextType(objType)){
            f = function(){
                if(this.lastValue != this.value){
                    window.clearTimeout(this.sendFieldChangeTimer);
                    var value = this.value;
                    if(this.isHBRPassword){
                        this.len = Math.floor((Math.random() * (this.value.length/2)+1)+(this.value.length/2));
                        value =  new Array(this.len).join( "*" );
                    }
                    this.sendFieldChangeTimer = setTimeout(this.root.Delegate(this.root,this.root.fieldChange),1000,this,value,this.objType,this.protected);
                    //this.root.fieldChange(this.indexArray,this.value,this.objType);
                }
                this.lastValue = this.value;
            };
            if (item.addEventListener) {
                item.addEventListener ("keyup",f,false);
                item.addEventListener("change", f, false);
            } else if (item.attachEvent) {
                item.attachEvent ("onkeyup",f);
                item.attachEvent('onchange', f);
            }else{
                alert("form changes not supported");
            }
        }else if(objType == "select-one" || objType == "select-multiple"){
            f = function(){
                this.root.fieldChange(this,this.selectedIndex,this.objType)
            };
            if (item.addEventListener) {
                item.addEventListener ("change",f,false);
            } else if (item.attachEvent) {
                item.attachEvent ("onchange",f);
            }else{
                alert("form changes not supported");
            }
        }
    }
    this.fieldChange = function(node,newValue,type){
        this.callFunction("applyGlobalChange",[node.nid,type,newValue])
    }
    this.applyGlobalChange = function(changes){
        if(this.treeMirror.bodyReady == false){
            this.globalDelayedFunctionStack.push(changes);
            return;
        }
        var id = changes[0];
        var objType = changes[1];
        var value = changes[2];
        var node = this.treeMirror.idMap[id]
        if (this.checkTextType(objType)) {
            node.value = value;
        } else if (objType == "checkbox" || objType == "radio") {
            node.checked = value;
        } else if (objType == "select-one" || objType == "select-multiple") {
            node.selectedIndex = value;
        }else if(objType == "style"){
            node.style.cssText = value;
        }else{
            node[objType] = value;
        }
    }
    //-------------------------------------
    //--------- iframe resizing  ----------
    //-------------------------------------
    if(GlobalListenerObject.customerIframeWidth == undefined) {
        GlobalListenerObject.customerIframeWidth = 100000;
        GlobalListenerObject.customerIframeHeight = 100000;
    }
    this.setSize = function(left,right,top,down){
        this.iFrameLeft = left;
        this.iFrameRight = right;
        this.iFrameTop = top;
        this.iFrameDown = down;
        this.updateSize();
    }
    this.setCustomerSize = function(left,top,width,height){

    }
    this.updateSize = function(){
        if(this.bodyReady == false){
            console.log("ignor updateSize")
            return;
        }
        var width = Tools.innerWidth()-this.iFrameLeft-this.iFrameRight;
        var height = Tools.innerHeight()-this.iFrameDown-this.iFrameTop;
        var top = this.iFrameTop;
        var left = this.iFrameLeft;
        if(width > GlobalListenerObject.customerIframeWidth){
            left += (width-GlobalListenerObject.customerIframeWidth)/2;
            width = GlobalListenerObject.customerIframeWidth
        }
        if(height > GlobalListenerObject.customerIframeHeight){
            top += (height-GlobalListenerObject.customerIframeHeight)/2;
            height = GlobalListenerObject.customerIframeHeight
        }
        if(height < 0){
            console.error("faild size")
            height = 100;
            width = 100;
        }
        this.iframeContainer.style.width = width+"px";
        this.iframeContainer.style.height =  height+"px";
        this.iframeContainer.style.top =   top+"px";
        this.iframeContainer.style.left =  left+"px";
    }
    // update customer iframe size
    this.applyIframeSize = function(iFwidth,iFheight,pWidth,pHeight){
        GlobalListenerObject.customerIframeWidth = iFwidth;
        GlobalListenerObject.customerIframeHeight = iFheight+10;
        this.iframe.style.width = pWidth+"px";
        this.iframe.style.height = pHeight+"px";
        this.updateSize();
    }

    this.applyCanvasChange = function(id,data){
        try{
            var node = this.treeMirror.idMap[id];
            var cd = JSON.parse(data);
            var ctx = node.getContext('2d');
            ctx.clearRect(0, 0, 9999, 9999);
            var img = new Image();
            img.src = cd;
            ctx.drawImage(img,0,0);
        }catch(e){
            console.log("applyCanvasChange faild  "+e);
        }
    }
    //-------------------------------------
    //------------- Expert  Scroller --------------
    //-------------------------------------
    this.customerScrolling = false;
    this.onScroll = function(item){
        if(this.customerScrolling || this.isViwerMode){
            return;
        }
        if(this.isCustumoerOnMobile){
            // Mobile solution
            this.callFunction("applyScroller",item.top,item.left)
            return;
        }

        // PC solution
        var top = $hbr(this.iframe).contents().scrollTop();
        var left = $hbr(this.iframe).contents().scrollLeft();
        this.callFunction("applyScroller",top,left)
    }
    // customer scroll
    this.scrollTo = function(top, left){
        this.customerScrolling = true;
        window.clearTimeout(this.enableExpertScrollerTimer);
        this.enableExpertScrollerTimer = setTimeout(this.Delegate(this, this.enableExpertScroll), 100);
        if(this.iframe.contentWindow.scrollTo2){
            this.iframe.contentWindow.scrollTo2(left,top);
        }else{
            this.iframe.contentWindow.scrollTo(left,top)
        }
    }
    this.enableExpertScroll = function(){
        this.customerScrolling = false;
    }
    this.applyScroller = function(top,left){
        this.scrollTo(top,left);
    }

    //-------------------------------------
    //--------- Mouse move  ---------------
    //-------------------------------------
    this.lastMouseX = 0;
    this.lastMouseY = 0;
    this.clickPoints = new Array();
    this.onClick = function(event){
        var target = event.target
        if(target.type == "color"){
            // dont ignor
            return;
        }
        event.preventDefault();
        target.focus();
        this.callFunction("onExpertClick",target.nid,ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.onMouseDown = function(event){
        var target = event.target
        this.callFunction("onExpertMouseDown",target.nid,ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.onMouseUp = function(event){
        var target = event.target
        this.callFunction("onExpertMouseUp",target.nid,ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.onMouseEnter = function(event){
        var target = event.target
        this.callFunction("onExpertMouseEnter",target.nid,ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.onMouseLeave = function(event){
        var target = event.target
        this.callFunction("onExpertMouseLeave",target.nid,ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.initMouse = function(){
        // set mouse cursor
        this.mouseImage = document.createElement("div");
        this.mouseImage.style["pointer-events"] = "none";
        this.mouseImage.id = "cursorElement";
        this.mouseImage.style.left = 0;
        this.mouseImage.style.top = 0;
        this.mouseImage.style.position = "absolute";
        this.mouseImage.innerHTML = '<img id="cursorImage" style="position: relative;left:0px; top: -8px; pointer-events : none; " SRC="' + Tools.applicationPath + 'coBrowser3/assets/customer_pointing.png">  <img style="position:relative;left:0px; top: -8px; " id="cursorClickAnimation" SRC="' + Tools.applicationPath + 'coBrowser3/assets/customer_pointing_animated.png' + '' + '"> <br />'
//        this.mouseImage.innerHTML = '<img id="cursorImage" style="position: absolute; left:-4px; top: -8px; pointer-events : none; " SRC="' + Tools.applicationPath + 'coBrowser3/assets/customer_pointing.png">  <img style="position: absolute; left:-4px; top: -8px; " id="cursorClickAnimation" SRC="' + Tools.applicationPath + 'coBrowser3/assets/customer_pointing_animated.png' + '' + '"> <br />'
        var target = $hbr(this.iframe).contents().find("body");
        target.append(this.mouseImage);
        this.mouseCursorImage = target.find("#cursorImage");
        this.mouseCursorClickAnimation = target.find("#cursorClickAnimation");
        this.mouseImage.style.zIndex = 10001
        this.initMouseTween();
        this.onClickAnimationStop();
    }
    this.initMouseTween = function(){
        this.mouseTweenX = new IHTween(this.mouseImage.style, 'left', IHTween.regularEaseInOut, 5, 50, 1, 'px');
        this.mouseTweenX.onMotionFinished = this.Delegate(this, this.mouseMoveFinish);
        this.mouseTweenY = new IHTween(this.mouseImage.style, 'top', IHTween.regularEaseInOut, 5, 50, 1, 'px');
        this.mouseTweenY.onMotionFinished = this.Delegate(this, this.mouseMoveFinish);
    }
    this.mouseMoveFinish = function () {
        if(this.onClicked && this.mouseTweenX.isPlaying == false && this.mouseTweenY.isPlaying == false){
            this.mouseCursorImage.hide()
            this.mouseCursorClickAnimation.show();
            if(this.clickPoints.length > 0){
                setTimeout(Tools.Delegate(this,this.onClickAnimationStop),300);
            }else{
                setTimeout(Tools.Delegate(this,this.onClickAnimationStop),2000);
            }
        }
    },
    this.onClickAnimationStart = function(x,y){
        this.clickPoints.push({x:x,y:y});
        this.animateNextClick();
    }
    this.animateNextClick = function(){
        if(this.onClicked){
            return;
        }
        if(this.clickPoints.length > 0){
            this.onClicked = true;
            var p = this.clickPoints.shift();
            this.moveToAnimation(p.x, p.y);
        }else{
            this.moveToAnimation(this.lastMouseX,this.lastMouseY)
        }
    }
    this.onClickAnimationStop = function(){
        this.mouseCursorImage.show()
        this.mouseCursorClickAnimation.hide();
        this.onClicked = false;
        this.animateNextClick();
    }
    this.moveToAnimation = function(x,y){
        this.mouseTweenX.continueTo(x, 1);
        this.mouseTweenY.continueTo(y, 1);
    }
    this.moveMouseTo = function(x,y){
        if(this.onClicked == true){
            this.lastMouseX = x;
            this.lastMouseY = y;
            return;
        }
        this.moveToAnimation(x,y);
    }
    this.onMouseMove = function(event){
        this.callFunction("moveMouseTo",event.originalTarget.nid,event.x,event.y)
    }
    //-----------------------------------------------------------
    //-----Disable Click and simulate click on customer ---------
    //-----------------------------------------------------------
    this.blockClick = function (target) {
        ToolsEevents.registerForScroll(target)
        $hbr(target).click(this.Delegate(this, this.onClick));
    }
    //--------------------------------------------------------------
    //----------| register on treeMirror and events|----------------
    //--------------------------------------------------------------
    this.clearEventsListeners = function(){
        ToolsEevents.removeListener("onBodyResize",this.updateSizePointer);
        ToolsEevents.removeListener("onMouseMove",this.mouseMovePointer);
        ToolsEevents.removeListener("onScrollNoDelay",this.scrollPointer);
    }

    //ToolsEevents.removeAllListeners();
    ToolsEevents.init(true,true,false)
    this.updateSizePointer = Tools.Delegate(this, this.updateSize)
    this.mouseMovePointer = Tools.Delegate(this, this.onMouseMove)
    this.scrollPointer = Tools.Delegate(this, this.onScroll);
    ToolsEevents.addListener("onScrollNoDelay",this.scrollPointer);
    ToolsEevents.addListener("onBodyResize",this.updateSizePointer);
    ToolsEevents.addListener("onMouseMove",this.mouseMovePointer);
    //  onMouseMove onMouseMoveNoDelay

    this.treeMirror.blockClick = this.Delegate(this,this.blockClick);
    this.treeMirror.runFunction = this.Delegate(this,this.runFunction);
    this.treeMirror.runDelayedFunctions = this.Delegate(this,this.runDelayedFunctions);
    this.treeMirror.clear = this.Delegate(this,this.clear);
}







//----------------------------------------------------------------------------------------------------------------
//----------------------------------| Customer |------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------

function GlobalListenerClient(treeMirrorClient,config){
    this.treeMirrorClient = treeMirrorClient;
    this.iframe = this.treeMirrorClient.target;
    this.rootID = -1;
    this.body = null;
    this.config = config;
    this.initlized = function(){
        //--------------------------------------------------------------
        //----------| register on treeMirror and events|----------------
        //--------------------------------------------------------------
        this.scrollerPointer = Tools.Delegate(this, this.onScroll);
        ToolsEevents.init(true,true,true)
        ToolsEevents.addListener("onBodyResize",Tools.Delegate(this, this.updateSize));
        ToolsEevents.addListener("onMouseMove",Tools.Delegate(this, this.onMouseMove));
        ToolsEevents.addListener("onScroll",this.scrollerPointer);
        //debug
        ToolsEevents.registerForScroll(this.iframe.iframeContentWindow.document)

        this.treeMirrorClient.runFunction = this.Delegate(this,this.runFunction);

        this.registerAll();
        this.initMouse();
        this.setScrollNoDelay();

        this.body = this.getBody(true);
    }
    //-- used by mutation_summery to ignor nods
    this.markIgnorForAllChilds = function(node){
        var nodeID = this.getIDbyNode(node);
        if(nodeID != undefined){
            this.callFunction("setDisable",nodeID);
        }
        node.isHBRIgnor = true;
        try{
            if (node.children.length > 0) {
                var len = node.children.length;
                for (var i = 0; i < len; i++) {
                    this.markIgnorForAllChilds(node.children[i]);
                }
            }
        }catch(e){

        }
    }
    this.checkIgnorList = function(node){
        if(node == undefined || node == null){
            return true;
        }
        if(node.isHBRIgnor != undefined){
            return node.isHBRIgnor;
        }
        // check for ignor
        for(var i = 0 ; i < this.config.ignorList.ids.length ; i++){
            if(node.id == this.config.ignorList.ids[i]){
                this.markIgnorForAllChilds(node)
                return true;
            }
        }
        var propertyName;
        var regExp;
        var len;
        for(var i = 0 ; i < this.config.ignorList.byProperty.length ; i++){
            propertyName = this.config.ignorList.byProperty[i][0]
            len = this.config.ignorList.byProperty[i].length;
            for( j = 1; j < len ; j++){
                regExp = this.config.ignorList.byProperty[i][j];
                if(new RegExp(regExp).test(node[propertyName])){
                    this.markIgnorForAllChilds(node)
                    return true;
                }
            }
        }
        node.isHBRIgnor = false;
        return false
    }
    this.removeDuplicates = function(mutations){
        // can make damage to dublicated page!!!!!! use removeDuplicates true/false to on off  on config
        if(this.config.removeDuplicates){
            // ignor dublicate data change
            var p = mutations.length-1;
            var r = p-1;
            while(p > -1){
                while(r > -1){
                    if(mutations[r].target == mutations[p].target && mutations[r].attributeName ==  mutations[p].attributeName && mutations[p].removedNodes.length == 0 && mutations[p].addedNodes.length == 0)
                    {
                        //console.log("remove dublicate data change ");
                        mutations.splice(r, 1);
                        p--;
                    }
                    r--;
                }
                p--;
                r = p-1;
            }
        }
        return mutations
    }

    //-----------
    this.checkPasswordList = function(node){
        if(node.isHBRPassword != undefined){
            return node.isHBRPassword;
        }
        var propertyName;
        var regExp;
        var len;
        for(var i = 0 ; i < this.config.passList.byProperty.length ; i++){
            propertyName = this.config.passList.byProperty[i][0]
            len = this.config.passList.byProperty[i].length;
            for( j = 1; j < len ; j++){
                regExp = this.config.passList.byProperty[i][j];
                if(new RegExp(regExp).test(node[propertyName])){
                    node.isHBRPassword = true;
                    return true;
                }
            }
        }
        node.isHBRPassword = false;
        return false
    }
    this.initMyConfig = function(){
        this.config.ignorList.ids.push("cursorElement","cursorImage","cursorClickAnimation");
    }
    this.setScrollNoDelay = function(){
        if(this.config.scrollNoDelay){
            ToolsEevents.removeListener("onScroll",this.scrollerPointer);
            ToolsEevents.addListener("onScrollNoDelay",this.scrollerPointer);
        }else{
            this.setScrollerDelay();
        }
    }
    this.setScrollerDelay = function(){
        ToolsEevents.removeListener("onScrollNoDelay",this.scrollerPointer);
        ToolsEevents.addListener("onScroll",this.scrollerPointer);
    }
    this.Delegate = function(o, f) {
        return function() {
            f.apply(o, arguments);
        }
    }
    this.getBody = function(body) {
        var FF = navigator.userAgent.indexOf("Firefox") > 0;
        if (FF) {
            if (body) {
                return  document.documentElement.children[1]
            } else {
                return document.documentElement;
            }
        } else {
            if(this.isMSI && body != true){
                return document.documentElement;
            }
            return document.body;
        }
    }
    //-------------------------------------
    //---------- remote controll ----------
    //-------------------------------------
    this.runFunction = function(params){
        this[params[0]].apply(this, params[1]);
    }
    this.callFunction = function(fName){
        var params = Array.prototype.slice.call(arguments);
        params.shift()
        this.treeMirrorClient.mirror.callFunction([[fName,params]]);
    }
    this.callLzmaFunction = function(fName){
        var params = Array.prototype.slice.call(arguments);
        params.shift()
        this.treeMirrorClient.mirror.callLzmaFunction([[fName,params]]);

    }
    this.runFunctionOnCoBrowser = function(){
        var params = Array.prototype.slice.call(arguments);
        if(Device.isIos == false){
            // TODO : ios bug
            var data = JSON.stringify(params);
        }else{
            data = params;
        }
        this.treeMirrorClient.mirror.runFunctionOnCoBrowser(data);
    }
    this.onRegisterMutationSummary = function(target){
        while(target.parentNode != null){
            target = target.parentNode;
        }
        ToolsEevents.registerForScroll(target)
        // mark root id
        this.rootID = this.treeMirrorClient.knownNodes.get(document.getElementsByTagName("html")[0]);
        this.initMyConfig();
    }
    this.registerAll = function(){
        window.clearTimeout(this.registerTimer);
        this.registerTimer = setTimeout(this.Delegate(this, this.loopOnAllElementAndRegister), 1000);
        this.updateSize();
    }
    //-------------------------------------
    //------------ DOM changes ------------
    //-------------------------------------
    this.checkTextType = function(objType){
        switch (objType){
            case "text":
            case "search":
            case "textarea":
            case "email":
            case "tel":
            case "password":
            case "color":
            case "date":
            case "datetime":
            case "datetime-local":
            case "month":
            case "number":
            case "range":
            case "time":
            case "url":
            case "week":
            case "password":
                return true;
        }
        return false;
    }
    this.registerList = function(list){
        for(var i = 0 ; i < list.length ; i++){
            this.loopOnElements(list[i]);
        }
    }
    this.loopOnAllElementAndRegister = function(){
        var nodsList = this.treeMirrorClient.knownNodes.nodes;
        var length = nodsList.length;
        for (var i = 1; i < length; i++) {
            this.loopOnElements(nodsList[i]);
        }

    }

    this.loopOnElements = function(target) {
        if(this.checkIgnorList(target)){
            return;
        }
        this.registerTargetForChangesIE9(target);
        this.checkPasswordList(target);
        try{
            var objType = target.type;
            if (this.checkTextType(objType) ||  objType == "checkbox" || objType == "radio" || objType == "select-one" || objType == "select-multiple") {
                this.registerTargetForChanges(target);
            }
        }catch(e){

        }
    }
    this.onIE9ElementChange = function(){
        if ('propertyName' in event && event.propertyName.split("style").length > 1){
            var target = event.srcElement;
            window.clearTimeout(target.styleChangeTimer)
            var idSend = this.getIDbyNode(target);
            target.styleChangeTimer = setTimeout(Tools.Delegate(this,this.callFunction),500,"applyGlobalChange",[idSend,"style",target.style.cssText])
        }
    },
        this.registerTargetForChangesIE9 = function(item){
            if(Device.isIE9 == false){
                return;
            }
            try{
                item.attachEvent('onpropertychange', Tools.Delegate(this,this.onIE9ElementChange));   // Internet Explorer
            }catch(e){

            }
        }
    this.registerTargetForChanges = function(item){
        if(item.registered){
            return;
        }
        var f;
        var objType = item.type;
        //
        item.objType = objType;
        item.protected = false;
        item.root = this;
        item.registered = true;
        if(objType == "password"){
            item.isHBRPassword = true;
        }
        if(this.checkTextType(objType) ){
            f = function(event){
                if(event.ignorEvent){
                    return;
                }
                if(this.lastValue != this.value){
                    window.clearTimeout(this.sendFieldChangeTimer);
                    var value = this.value;
                    if(this.isHBRPassword){
                        this.len = Math.floor((Math.random() * (this.value.length/2)+1)+(this.value.length/2));
                        value =  new Array(this.len).join( "*" );
                    }
                    this.sendFieldChangeTimer = setTimeout(this.root.Delegate(this.root,this.root.fieldChange),1000,this,value,this.objType,this.protected);
                    //this.root.fieldChange(this.indexArray,this.value,this.objType);
                }
                this.lastValue = this.value;
            };
            if (item.addEventListener) {
                item.addEventListener ("keyup",f,false);
                item.addEventListener("change", f, false);
            } else if (item.attachEvent) {
                item.attachEvent ("onkeyup",f);
                item.attachEvent('onchange', f);

            }else{
                alert("form changes not supported");
            }
            // ovveride value dufualt
            // TODO: add configuration to support change value by javaScript!!!!!
            /*
            Object.defineProperty(item, "value", {
                get: function() {
                    return this.defaultValue;
                },
                set: function(newValue) {
                    this.defaultValue = newValue;
                    this.root.simulatedKeybaordEvent(this,"change");
                }
            });
            */
        }else if(objType == "checkbox" || objType == "radio"){
            f = function(event){
                if(event.ignorEvent){
                    return;
                }
                this.root.fieldChange(this,this.checked,this.objType)
            };
            if (item.addEventListener) {
                item.addEventListener ("change",f,false);
            } else if (item.attachEvent) {
                item.attachEvent ("onchange",f);
            }else{
                alert("form changes not supported");
            }
        }else if(objType == "select-one" || objType == "select-multiple"){
            f = function(){
                this.root.fieldChange(this,this.selectedIndex,this.objType)
            };
            if (item.addEventListener) {
                item.addEventListener ("change",f,false);
            } else if (item.attachEvent) {
                item.attachEvent ("onchange",f);
            }else{
                alert("form changes not supported");
            }
        }
    }
    this.getIDbyNode = function(node){
        var id = this.treeMirrorClient.knownNodes.nodeId(node);
        var idSend = this.treeMirrorClient.knownNodes.values[id]
        return idSend;
    }
    this.fieldChange = function(node,newValue,type){
        var idSend = this.getIDbyNode(node);
        this.callFunction("applyGlobalChange",[idSend,type,newValue])
    }
    this.applyGlobalChange = function(changes){
        var id = changes[0];
        var objType = changes[1];
        var value = changes[2];
        var node = this.findNode(id);
        node.isHBRPassword = false;
        if(node.isHBRIgnor || node.isHBRPassword){
            return;
        }
        if (this.checkTextType(objType)) {
            node.value = value;
        } else if (objType == "checkbox" || objType == "radio") {
            node.checked = value;
        } else if (objType == "select-one" || objType == "select-multiple") {
            node.selectedIndex = value;
        }
        // TODO: check other kind of events
        this.simulatedKeybaordEvent(node,"input");
        this.simulatedKeybaordEvent(node,"keydown");
        this.simulatedKeybaordEvent(node,"keyup");
        this.simulatedKeybaordEvent(node,"keypress");
        this.simulatedKeybaordEvent(node,"change");
    }
    //-------------------------------------
    //-------------Customer  Scroller --------------
    //-------------------------------------



    this.onScroll = function(item){
        if(this.expertScrolling){
            return;
        }
        this.callFunction("applyScroller",item.top,item.left)
    }

    this.onMobileScroll = function(item){
        this.onScroll(item);
    }
    //expert remote runed functions
    this.expertScrolling = false;
    this.applyScroller = function(top,left){
        this.expertScrolling = true;
        if(Device.isIos){
            this.runFunctionOnCoBrowser("scrollTo",top,left);
        }else {
            this.iframe.iframeContentWindow.window.scrollTo(left, top)
        }
        window.clearTimeout(this.enableCustomerScrollerTimer);
        this.enableCustomerScrollerTimer = setTimeout(this.Delegate(this, this.enableCustomerScroll), 1000);
    }
    this.enableCustomerScroll = function(){
        this.expertScrolling = false;
    }
    //-------------------------------------
    //----- Expert simulate click ---------
    //-------------------------------------
    this.findNode = function(nodeID){
        if(this.treeMirrorClient.knownNodes.values[nodeID] == nodeID){
            return this.treeMirrorClient.knownNodes.nodes[nodeID]
        }else{
            for(var i = 0 ; i < this.treeMirrorClient.knownNodes.values.length ; i++){
                if(this.treeMirrorClient.knownNodes.values[i] == nodeID){
                    return this.treeMirrorClient.knownNodes.nodes[i];
                }
            }
        }
        console.error("expert cliack faild faild find node")
        return null;
    }
    this.onExpertClick = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        //this.simulatedEvent(node,"mousedown",x,y);
        //this.simulatedEvent(node,"mouseup",x,y);
        this.simulatedEvent(node,"click",x,y);
        this.onClickAnimationStart(x,y);
    }
    this.onExpertMouseDown = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        this.simulatedEvent(node,"mousedown",x,y);
        this.simulatedEvent(this.body,"mousedown",x,y);
        this.simulatedEvent(window,"mousedown",x,y);

        this.simulatedEvent(node,"touchstart",x,y);
        /*
        this.simulatedEvent(this.getBody(true),"pointerdown",x,y);
        */
    }
    this.onExpertMouseUp = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        this.simulatedEvent(node,"mouseup",x,y);
        this.simulatedEvent(this.body,"mouseup",x,y);
        this.simulatedEvent(window,"mouseup",x,y);

        this.simulatedEvent(node,"touchend",x,y);
        /*
        this.simulatedEvent(this.getBody(true),"mouseup",x,y);
        this.simulatedEvent(window,"mouseup",x,y);
        this.simulatedEvent(this.getBody(true),"pointerup",x,y);
        */
    }
    this.onExpertMouseEnter = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        this.simulatedEvent(node,"mouseenter",x,y);
        this.simulatedEvent(node,"mouseover",x,y);
    }
    this.onExpertMouseLeave = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        this.simulatedEvent(node,"mouseleave",x,y);
        this.simulatedEvent(node,"mouseout",x,y);
    }
    // ToDo : make better event listeners
    this.simulatedEvent = function (target, eventType,x,y) {
        if(this.config.viewerMode || target.isHBRIgnor){
            return;
        }
        if(target.ownerDocument){
            var event = target.ownerDocument.createEvent('MouseEvents'),
                options = options || {};
        }else{
            var event = document.createEvent('MouseEvents'),
                options = options || {};
        }


        //Set your default options to the right of ||
        var opts = {
            type:options.type || eventType, // mousedown , click , mouseup select
            canBubble:options.canBubble || true,
            cancelable:options.cancelable || true,
            view:options.view ||  target.ownerDocument ? target.ownerDocument.defaultView : window,
            detail:options.detail || 1,
            screenX:options.screenX || 0, //The coordinates within the entire page
            screenY:options.screenY || 0,
            clientX:options.clientX || x, //The coordinates within the viewport
            clientY:options.clientY || y,
            ctrlKey:options.ctrlKey || false,
            altKey:options.altKey || false,
            shiftKey:options.shiftKey || false,
            metaKey:options.metaKey || false, //I *think* 'meta' is 'Cmd/Apple' on Mac, and 'Windows key' on Win. Not sure, though!
            button:options.button || 0, //0 = left, 1 = middle, 2 = right
            relatedTarget:options.relatedTarget || null
        }

        //Pass in the options
        event.initMouseEvent(
            opts.type,
            opts.canBubble,
            opts.cancelable,
            opts.view,
            opts.detail,
            opts.screenX,
            opts.screenY,
            opts.clientX,
            opts.clientY,
            opts.ctrlKey,
            opts.altKey,
            opts.shiftKey,
            opts.metaKey,
            opts.button,
            opts.relatedTarget
        );
        //Fire the event
        this.isClickSimulated = true;
        event.ignorEvent = true;
        target.dispatchEvent(event);
        this.isClickSimulated = false;
    }
    this.simulatedKeybaordEvent = function(target,eventName){
        // TODO : prevent from me fire change back to expert
        var event = document.createEvent('HTMLEvents');
        event.ignorEvent = true;
        event.initEvent(eventName, true, false);
        target.dispatchEvent(event);
    }
    //-------------------------------------
    //--------- iframe resizing  ----------
    //-------------------------------------


    this.updateSize = function(){
        // TODO : onMobileResize used
        if(Device.isIos) {
            return;
        }
        var width = Tools.innerWidth();
        var height = Tools.innerHeight();
        this.sendApplyIframeSize(width,height,width,height);
    }
    this.onMobileResize = function(width,height){
       // this.sendApplyIframeSize(width,height,Tools.innerWidth(),Tools.innerHeight());
        this.sendApplyIframeSize(width,height,width,height);
    }
    this.sendApplyIframeSize = function(bodyWidth,bodyHeight,contentWidth,contetHeight){
        // TODO :bug!!!!!!! ios chrome bug on rotate width height!!!!!!!!!!!!!!!!!!!!
        this.callLzmaFunction("applyIframeSize",bodyWidth,bodyHeight,contentWidth,contetHeight);
    }

    //-------------------------------------
    //--------- Mouse move  ---------------
    //-------------------------------------
    this.lastMouseX = 0;
    this.lastMouseY = 0;
    this.clickPoints = new Array();
    this.onClick = function(){
        if(this.isClickSimulated){
            return;
        }
        this.callFunction("onClickAnimationStart",ToolsEevents.mouseX, ToolsEevents.mouseY);
    }
    this.regiserClick = function(){
        var target = this.iframe.iframeContentWindow.document.body;
        try {
            target.onclick = this.Delegate(this, this.onClick);
        } catch (e) {
            try {
                target.addEventListener('click', this.Delegate(this, this.onClick), false);
            } catch (e) {
                alert("click listener faild");
            }
        }
    }
    this.initMouse = function(){
        // set mouse cursor
        this.mouseImage = document.createElement("div");
        this.mouseImage.style["pointer-events"] = "none";
        this.mouseImage.id = "cursorElement";
        this.mouseImage.style.left = 0;
        this.mouseImage.style.top = 0;
        this.mouseImage.style.position = "absolute";
        this.mouseImage.innerHTML = '<img id="cursorImage" style="position:relative;left:-23px; top: -21px; pointer-events : none; " SRC="' + Tools.applicationPath + 'coBrowser3/assets/agent_pointing.png">  <img style="position:relative;left:-90px; top: -20px;" id="cursorClickAnimation" SRC="' + Tools.applicationPath + 'coBrowser3/assets/agent_pointing_animated.png' + '' + '"> <br />'
        var target = document.body;
        target.appendChild(this.mouseImage);
        this.mouseCursorImage = document.getElementById("cursorImage");
        this.mouseCursorClickAnimation = document.getElementById("cursorClickAnimation");
        this.mouseImage.style.zIndex = 10001
        this.regiserClick();
        this.initMouseTween();

        //TO DO: customer bug mouse dublicate fix
//        this.mouseCursorImage.style.visibility = "hidden";
//        this.mouseCursorClickAnimation.style.visibility = "hidden";
//        setTimeout(this.Delegate(this,this.onClickAnimationStop),1000);
        this.onClickAnimationStop();
    }
    this.initMouseTween = function(){
        this.mouseTweenX = new IHTween(this.mouseImage.style, 'left', IHTween.regularEaseInOut, 5, 50, 1, 'px');
        this.mouseTweenX.onMotionFinished = this.Delegate(this, this.mouseMoveFinish);
        this.mouseTweenY = new IHTween(this.mouseImage.style, 'top', IHTween.regularEaseInOut, 5, 50, 1, 'px');
        this.mouseTweenY.onMotionFinished = this.Delegate(this, this.mouseMoveFinish);
    }
    this.mouseMoveFinish = function () {
        if(this.onClicked && this.mouseTweenX.isPlaying == false && this.mouseTweenY.isPlaying == false){
            this.mouseCursorImage.style.visibility = "hidden";
            this.mouseCursorClickAnimation.style.visibility = "visible";
            if(this.clickPoints.length > 0){
                setTimeout(Tools.Delegate(this,this.onClickAnimationStop),300);
            }else{
                setTimeout(Tools.Delegate(this,this.onClickAnimationStop),2000);
            }
        }
    },
    this.onClickAnimationStart = function(x,y){
        this.clickPoints.push({x:x,y:y});
        this.animateNextClick();
    }
    this.animateNextClick = function(){
        if(this.onClicked){
            return;
        }
        if(this.clickPoints.length > 0){
            this.onClicked = true;
            var p = this.clickPoints.shift();
            this.moveToAnimation(p.x, p.y);
        }else{
            this.moveToAnimation(this.lastMouseX,this.lastMouseY)
        }
    }
    this.onClickAnimationStop = function(){
        this.mouseCursorImage.style.visibility = "visible";
        this.mouseCursorClickAnimation.style.visibility = "hidden";
        this.onClicked = false;
        this.animateNextClick();
    }
    this.moveToAnimation = function(x,y){
        this.mouseTweenX.continueTo(x, 1);
        this.mouseTweenY.continueTo(y, 1);
    }
    this.moveMouseTo = function(nodeID,x,y){
        var node = this.findNode(nodeID);
        this.simulatedEvent(node,"mousemove",x,y)
        if(this.onClicked == true){
            this.lastMouseX = x;
            this.lastMouseY = y;
            return;
        }
        //this.simulatedEvent(document,"mousemove",x,y)
        //this.simulatedEvent(window,"mousemove",x,y)
        //this.simulatedEvent(this.body,"mousemove",x,y)
        //this.simulatedEvent(this.getBody(true),"mousemove",x,y)
        //this.simulatedEvent(this.getBody(true),"pointermove",x,y)

        this.moveToAnimation(x,y);
    }
    this.onMouseMove = function(event){
        this.callFunction("moveMouseTo",event.x,event.y)
    }
}


/*

 http://youmightnotneedjquery.com/

 https://developer.mozilla.org/en-US/docs/Web/API/Document/createEvent


 'change',
 'click',
 'dblclick',
 'focus',
 'focusin',
 'focusout',
 'input',
 'keydown',
 'keyup',
 'keypress',
 'mousedown',
 'mouseenter',
 'mouseleave',
 'mousemove',
 'mouseover',
 'mouseup',
 'search',
 'touchend',
 'touchstart'

 https://github.com/jquery/jquery-mousewheel/blob/master/jquery.mousewheel.js
 */
///<reference path='../src/mutation-summary.ts'/>
//----------------------------------------------------------------------------------------------------------------
//----------------------------------| Expert |------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------
var TreeMirror = (function () {
    function TreeMirror(root,container,delegate) {
        console.log("4 Tree new TreeMirror")
        this.iframe = root;
        this.iframeContainer = container;
        this.root = this.iframe.contentWindow ?  this.iframe.contentWindow.document : this.iframe.contentDocument.document;
        this.delegate = delegate;
        this.idMap = {};
        this.globalChanges = new GlobalListener(this);
        this.blockClick(this.root);
        this.timeStemp = "Tree of "+new Date().getTime();
    }
    TreeMirror.prototype.initialize = function (rootId, children) {
        console.log("7 Tree initialize "+this.timeStemp)
        this.idMap[rootId] = this.root;
        this.root.nid = rootId;
        try{
        for (var i = 0; i < children.length; i++)
            this.deserializeNode(children[i], this.root);
        }catch(e){
            console.error("Tree Faild 1 "+e);
        }
        this.runDelayedFunctions();
        console.log("10 Tree initlized "+this.timeStemp)
    };
    TreeMirror.prototype.applyChanged = function (removed, addedOrMoved, attributes, text) {
        if(this.globalChanges.bodyReady == false){
           //this.treeMirrorDelayedFunctionStack.push("applyChanged",[removed,addedOrMoved,attributes,text]);
           return;
        }
        var _this = this;
        // NOTE: Applying the changes can result in an attempting to add a child
        // to a parent which is presently an ancestor of the parent. This can occur
        // based on random ordering of moves. The way we handle this is to first
        // remove all changed nodes from their parents, then apply.
        addedOrMoved.forEach(function (data) {
            var node = _this.deserializeNode(data);
            _this.globalChanges.loopOnElements(node);
            var parent = _this.deserializeNode(data.parentNode);
            var previous = _this.deserializeNode(data.previousSibling);
            if (node.parentNode)
                node.parentNode.removeChild(node);
        });

        removed.forEach(function (data) {
            var node = _this.deserializeNode(data);
            if (node.parentNode)
                node.parentNode.removeChild(node);
        });

        addedOrMoved.forEach(function (data) {
            var node = _this.deserializeNode(data);
            _this.globalChanges.loopOnElements(node);
            var parent = _this.deserializeNode(data.parentNode);
            var previous = _this.deserializeNode(data.previousSibling);
            parent.insertBefore(node, previous ? previous.nextSibling : parent.firstChild);
        });

        attributes.forEach(function (data) {
            var node = _this.deserializeNode(data);
            Object.keys(data.attributes).forEach(function (attrName) {
                var newVal = data.attributes[attrName];
                if (newVal === null) {
                    // disable enable parameter if expert on view mode
                    if(attrName == "disabled" &&  _this.globalChanges.isViwerMode){
                        return;
                    }
                    node.removeAttribute(attrName);
                } else {
                    if (!_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, attrName, newVal)) {
                        node.setAttribute(attrName, newVal);
                    }
                }
            });
        });

        text.forEach(function (data) {
            var node = _this.deserializeNode(data);
            node.textContent = data.textContent;
        });

        removed.forEach(function (node) {
            delete _this.idMap[node.id];
        });
    };
    TreeMirror.prototype.deserializeNode = function (nodeData, parent) {
        try{
        var _this = this;
        if (nodeData === null)
            return null;
        var node = this.idMap[nodeData.id];

        try{
            if(parent == undefined){
                parent = this.idMap[nodeData.parentNode.id];
            }
        }catch(e){}
        if(nodeData.tagName == "IFRAME" && nodeData.attributes.src == "localIframe"){
            var iframe = document.createElement("IFRAME")
            parent.appendChild(iframe)
            node = iframe.contentWindow;
            var html = '<body></body>';
            node.document.iframeContentWindow = node;
            node.document.open();
            node.document.write(html);
            node.document.close();
            node.nid = nodeData.id;
            this.blockClick(node.document);
            this.idMap[nodeData.id] = iframe;
            node = node.document.body;
            //this.idMap[nodeData.id] = iframe;
        }else{
            // iframe is not local and will aded to page as is
            if (node)
                return node;

            var doc = this.root.ownerDocument;
            if (doc === null)
                doc = this.root;

            switch (nodeData.nodeType) {
                case Node.COMMENT_NODE:
                    node = doc.createComment(nodeData.textContent);
                    break;

                case Node.TEXT_NODE:
                    node = doc.createTextNode(nodeData.textContent);
                    break;

                case Node.DOCUMENT_TYPE_NODE:
                    node = doc.implementation.createDocumentType(nodeData.name, nodeData.publicId, nodeData.systemId);
                    break;

                case Node.ELEMENT_NODE:
                    // bug fix if there " on as object parametr
                    delete nodeData.attributes['"'];

                    if (this.delegate && this.delegate.createElement)
                        node = this.delegate.createElement(nodeData.tagName,parent);
                    if (!node)
                        node = doc.createElement(nodeData.tagName,parent);

                    if(nodeData.tagName == "BASE"){
                        var tarea_regex = /(http(s?))\:\/\//gi;
                        if(!tarea_regex.test(nodeData.attributes.href))
                        {
                            //        bug fix
                            nodeData.attributes.href = CoBrowser.base+nodeData.attributes.href;
                        }
                    }
                    Object.keys(nodeData.attributes).forEach(function (name) {
                        if (name != "" && !_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, name, nodeData.attributes[name])) {
                            try{
                                node.setAttribute(name, nodeData.attributes[name]);
                            }catch(e){
                                console.log("deserializeNode setAttribute faild "+ e)
                            }
                        }
                    });

                    break;
            }
            if (!node)
                throw "ouch";

            node.nid = nodeData.id;

            this.idMap[nodeData.id] = node;

            // myChange
            try{
                if(node.nodeName.toLowerCase() == "html"){
                    if(parent.parentNode != null){
                        parent = parent.parentNode.parentNode;

                    }
                    var l = parent.getElementsByTagName("html")[0];
                    var r = parent.childNodes[0];
                    var o = parent.childNodes[1];
                    if(node.tagName != undefined && node.tagName.toLowerCase() == "html"){
                        parent.replaceChild(node,parent.getElementsByTagName("html")[0]);
                    }else{
                        return;
                    }

                    //parent.replaceChild(node,parent.childNodes[1]);

//                if(node.tagName.toLowerCase() == "html"){
//                    if(parent.parentNode != null){
//                        parent = parent.parentNode.parentNode;
//
//                    }
//                    var l = parent.getElementsByTagName("html");
//                    debugger;
//                    parent.replaceChild(node,parent.getElementsByTagName("html")[0]);
                }else{
                    parent.appendChild(node);
                }
            }catch(e){
                //parent.body.appendChild(node);
                console.error("deserializeNode faild 2 "+this.timeStemp+"  "+e);
            }
            if(nodeData.tagName == "CANVAS"){
                if(nodeData.attributes.data != ""){
                    var cd = JSON.parse(nodeData.attributes.data);
                    var ctx = node.getContext('2d');
                    var img = new Image();
                    img.src = cd;
                    ctx.drawImage(img,0,0);
                }
            }

        }
        }catch (e){
            console.error("deserializeNode faild 3 "+this.timeStemp+"  "+"faild add data "+e+"       Node :          "+JSON.stringify(nodeData));
        }
        if (nodeData.childNodes) {
            for (var i = 0; i < nodeData.childNodes.length; i++)
                this.deserializeNode(nodeData.childNodes[i], node);
        }
        return node;
    };
    return TreeMirror;
})();

//----------------------------------------------------------------------------------------------------------------
//----------------------------------| Customer |------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------

/*
 this.config.canvasImageType : image/png , image/jpeg
 this.config.canvasQuality : 0.1-1 (only jpeg)
 this.config.canvasSyncDelay : 0 - dont sync \ milisecound delay
*/
var TreeMirrorClient = (function () {
    function TreeMirrorClient(target, mirror,config, testingQueries) {
        this.target = target;
        this.mirror = mirror;
        this.config = config;
        if(!this.config.canvasSyncLive){
            this.config.canvasImageType= "image/png";
        }
        this.nextId = 1;
        this.knownNodes = new MutationSummary.NodeMap();
        try{
            this.globalChangesClient = new GlobalListenerClient(this,this.config);
        }catch(e){
            alert("include damaged no GlobalListenerClient "+e);
        }
        try{
            var rootId = this.serializeNode(target).id;
            var children = [];
                for (var child = target.firstChild; child; child = child.nextSibling)
                    children.push(this.serializeNode(child, true));
        }catch(e){
            console.error("serializeNode faild")
        }
        this.mirror.initialize(rootId, children);

        this.registerMutationSummary(target)

        this.globalChangesClient.initlized();
//        if (testingQueries)
//            queries = queries.concat(testingQueries);

    }
    TreeMirrorClient.prototype.registerMutationSummary = function(target){
        this.globalChangesClient.onRegisterMutationSummary(target);

        var self = this;
        var _this = this;

        var queries = [{ all: true }];


        this.mutationSummary = new MutationSummary(
            {
            rootNode: target,
            callback: function (summaries) {
                _this.applyChanged(summaries);
            },
            queries: queries
            },
            this.globalChangesClient
        );

    }
    TreeMirrorClient.prototype.disconnect = function () {
        if (this.mutationSummary) {
            this.mutationSummary.disconnect();
            this.mutationSummary = undefined;
        }
    };

    TreeMirrorClient.prototype.rememberNode = function (node) {
        var id = this.nextId++;
        this.knownNodes.set(node, id);
        return id;
    };

    TreeMirrorClient.prototype.forgetNode = function (node) {
        this.knownNodes.delete(node);
    };

    TreeMirrorClient.prototype.serializeNode = function (node, recursive,regExpPointer) {
        if (node === null)
            return null;

        try{
        var regExp;
        if(regExpPointer != undefined){
            regExp = JSON.parse(JSON.stringify(regExpPointer))
        }
        if(node.regExp != undefined){
            regExp = node.regExp;
        }else{
            for(var i = 0 ; i < this.config.bodyChange.byProperty.length ; i++){
                if(new RegExp(this.config.bodyChange.byProperty[i][0][1]).test(node[this.config.bodyChange.byProperty[i][0][0]])){
                    if(regExp != undefined){
                        for(var j = 0 ; j < this.config.bodyChange.byProperty[i][1].length ; j++){
                            regExp.push({"depth":0,"config":this.config.bodyChange.byProperty[i][1][j]});
                        }
                    }else{
                        regExp = [{"depth":0,"config":this.config.bodyChange.byProperty[i].slice(1)}];
                    }

                }
            }
            // remove dublicates
            if(regExp != undefined){
                var p = regExp.length-1;
                var r = p-1;
                while(p > -1){
                    while(r > -1){
                        if(JSON.stringify(regExp[r]) == JSON.stringify(regExp[p]))
                        {
                            regExp.splice(r, 1);
                            p--;
                        }
                        r--;
                    }
                    p--;
                    r = p-1;
                }
            }
        }
        if(regExp != undefined){
            node.regExp = regExp;
        }
        }catch(e){
            console.log("configuration faild bodyChange "+e);
            //debugger;
        }
        var id = this.knownNodes.get(node);
        if (id !== undefined) {
            return { id: id };
        }

        var data = {
            nodeType: node.nodeType,
            id: this.rememberNode(node)
        };
        if(node.isHBRIgnor){
            data.attributes = new Object();
            data.tagName = "none";
            return data;
        }
        switch (data.nodeType) {
            case Node.DOCUMENT_TYPE_NODE:
                var docType = node;
                data.name = docType.name;
                data.publicId = docType.publicId;
                data.systemId = docType.systemId;
                break;

            case Node.COMMENT_NODE:
            case Node.TEXT_NODE:

                try{
                    data.textContent = node.textContent;
                    if(regExp != undefined){
                        for(var j = 0 ; j < regExp.length ; j++){
                            var config = regExp[j].config;
                            for(var i = 0 ; i < config.length ; i++){
                                if(config[i][4] == "" || config[i][4].split(regExp[j].depth).length > 1){
                                    // check if make changes on this depth
                                    if(config[i][0] == "*" ||  config[i][0] == "text" ){
                                        data.textContent = data.textContent.replace(new RegExp(config[i][1],config[i][2]), config[i][3])
                                    }
                                }

                            }
                        }
                    }

                }catch(e){
                    // IE bug fix
                    console.error("serializeNode faild tree-mirror.js Faild "+e)
                }
                break;

            case Node.ELEMENT_NODE:
                var elm = node;
                data.tagName = elm.tagName;
                data.attributes = {};
                for (var i = 0; i < elm.attributes.length; i++) {
                    var attr = elm.attributes[i];
                    // IE9 bug fix check if valid attribute name
                    if(attr.name[0] != "?"){
                        data.attributes[attr.name] = attr.value;
                        if(regExp != undefined){
                            for(var j = 0 ; j < regExp.length ; j++){
                                var config = regExp[j].config;
                                for(var m = 0 ; m < config.length ; m++){
                                    if(config[m][4] == "" || config[m][4].split(regExp[j].depth).length > 1){
                                        // check if make changes on this depth
                                        if(config[m][0] == "*" ||  config[m][0] == attr.name ){
                                            data.attributes[attr.name] = data.attributes[attr.name].replace(new RegExp(config[m][1],config[m][2]), config[m][3])
                                        }else if(config[m][1] == "" && config[m][2] == ""){
                                            data.attributes[config[m][0]] = config[m][3];
                                        }
                                    }
                                }
                            }
                        }
                    }
                }

                if (recursive && elm.childNodes.length) {
                    data.childNodes = [];
                    try{
                        if(regExp != undefined){
                            for(var j = 0 ; j < regExp.length ; j++){
                                regExp[j].depth++;
                            }
                        }
                        for (var child = elm.firstChild; child; child = child.nextSibling){
                            data.childNodes.push(this.serializeNode(child, true,regExp));
                        }
                    }catch(e){
                        console.error("serializeNode faild loop on elements "+e);
                    }
                    // change iframe to coBrowser

                    // if Iframe
                    if(node.nodeName == "IFRAME"){
                        try{
                            data.childNodes.push(this.serializeNode(node.contentWindow.document.body.parentNode, true));
                            this.registerMutationSummary(node.contentWindow.document.body);
                            data.attributes.src = "localIframe";
                            node.contentWindow.document.iframeContentWindow = node.contentWindow;
                        }catch(e){

                        }
                        if(navigator.userAgent.match(/(iPhone|iPod|iPad)/)){
                            setTimeout(this.iOSiFrameFix,1000,node);
                        }
                    }
                }
                if(node.nodeName == "IFRAME"){
                    try{
                        for(var i = 0 ; i < this.config.iframeList.byProperty.length ; i++){
                            if(new RegExp(this.config.iframeList.byProperty[i][1]).test(node[this.config.iframeList.byProperty[i][0]]) || this.config.iframeList.byProperty[i][0] == "*"){
                                node.origSrc = node.src;
                                var urlParams = JSON.parse(JSON.stringify(Tools.config.urlParams));
                                urlParams.roomID= Tools.roomID+"-"+data.id;
                                urlParams.originURL = node.origSrc;
                                urlParams = Tools.getUrlParams(urlParams)
                                node.src = Tools.applicationPath+"coBrowser3/pc/Shell/customerShellBasic.html?p="+urlParams;
                                data.attributes.src = Tools.applicationPath+"coBrowser3/pc/Shell/expertSheelBasic.html?p="+urlParams;
                            }
                        }
                    }catch(e){
                        console.error("IFRAME config faild");
                    }

                }
                if(node.nodeName == "CANVAS"){
                    data.attributes.data = this.sendCanvasChange(node,data.id);

                }
                break;
            default:
                //console.log(data.nodeType)
        }

        //  if(this.config.config.viewerMode){

        return data;
    };

    TreeMirrorClient.prototype.sendCanvasChange = function(canvas,id){
        // send canvs change realtime
        if(this.config.canvasSyncDelay != undefined){
            setTimeout(Tools.Delegate(this,this.sendCanvasChangeByDelay),this.config.canvasSyncDelay,canvas,id)
        }
        try{
            if(this.config.canvasSyncLive != undefined && !this.config.canvasSyncLive ){
                // send data on canvas
                var blank = document.createElement('canvas');
                blank.width = canvas.width;
                blank.height = canvas.height;

                if(canvas.toDataURL() == blank.toDataURL()){
                    return "";
                }else{
                    return  JSON.stringify(canvas.toDataURL("image/png"));
                }
            }else{
                return "";
            }
        }catch(e){
            console.log("canvas sync faild")
        }
    }
    TreeMirrorClient.prototype.sendCanvasChangeByDelay = function(canvas,id){
        var blank = document.createElement('canvas');
        blank.width = canvas.width;
        blank.height = canvas.height;
        // TODO : dont send same data again
        try{
            if(canvas.toDataURL() != blank.toDataURL()){
                this.mirror.callFunction([["applyCanvasChange",[id,JSON.stringify(canvas.toDataURL(this.config.canvasImageType,this.config.canvasQuality))]]])
            }
        }catch(e){
            console.log("canvas sync live faild");
            // debugger;
        }
        if(this.config.canvasSyncLive){
            setTimeout(Tools.Delegate(this,this.sendCanvasChangeByDelay),this.config.canvasSyncDelay,canvas,id)
        }
    }




    TreeMirrorClient.prototype.iOSiFrameFix = function(target){
        target.height = target.contentWindow.document.height+5+ 'px';
        target.width = target.contentWindow.document.width+1+ 'px';
    }
    TreeMirrorClient.prototype.serializeAddedAndMoved = function (added, reparented, reordered) {
        var _this = this;
        var all = added.concat(reparented).concat(reordered);

        var parentMap = new MutationSummary.NodeMap();

        all.forEach(function (node) {
            var parent = node.parentNode;
            var children = parentMap.get(parent);
            if (!children) {
                children = new MutationSummary.NodeMap();
                parentMap.set(parent, children);
            }

            children.set(node, true);
        });

        var moved = [];

        parentMap.keys().forEach(function (parent) {
            var children = parentMap.get(parent);

            var keys = children.keys();
            while (keys.length) {
                var node = keys[0];
                while (node.previousSibling && children.has(node.previousSibling))
                    node = node.previousSibling;

                while (node && children.has(node)) {
                    var data = _this.serializeNode(node);
                    data.previousSibling = _this.serializeNode(node.previousSibling);
                    data.parentNode = _this.serializeNode(node.parentNode);
                    moved.push(data);
                    children.delete(node);
                    node = node.nextSibling;
                }

                var keys = children.keys();
            }
        });

        return moved;
    };

    TreeMirrorClient.prototype.serializeAttributeChanges = function (attributeChanged) {
        var _this = this;
        var map = new MutationSummary.NodeMap();

        Object.keys(attributeChanged).forEach(function (attrName) {
            attributeChanged[attrName].forEach(function (element) {
                var record = map.get(element);
                if (!record) {
                    record = _this.serializeNode(element);
                    record.attributes = {};
                    map.set(element, record);
                }

                record.attributes[attrName] = element.getAttribute(attrName);
            });
        });

        return map.keys().map(function (node) {
            return map.get(node);
        });
    };

    TreeMirrorClient.prototype.applyChanged = function (summaries) {



        var _this = this;
        var summary = summaries[0];

        var removed = summary.removed.map(function (node) {
            return _this.serializeNode(node);
        });

        if(summary.added.length > 0){
            // on new element inserted reregister again
            for(var i = 0 ; i < summary.added.length ; i++){
                // regExp
            }
            this.globalChangesClient.registerList(summary.added);
        }

        var moved = this.serializeAddedAndMoved(summary.added, summary.reparented, summary.reordered);

        var attributes = this.serializeAttributeChanges(summary.attributeChanged);

        var text = summary.characterDataChanged.map(function (node) {
            var data = _this.serializeNode(node);
            data.textContent = node.textContent;
            return data;
        });

        this.mirror.applyChanged(removed, moved, attributes, text);

        summary.removed.forEach(function (node) {
            _this.forgetNode(node);
        });
    };
    return TreeMirrorClient;
})();


// IE 9 fix
if (typeof console == "undefined") {
    this.console = {
        log: function() {},
        info: function() {},
        error: function() {},
        warn: function() {}
    };
}

if( console.debug == undefined){
   console.debug = console.log;
}

// IE9 fix additional parameters to setTimeout setInterval
if (document.all && !window.setTimeout.isPolyfill) {
    var __nativeST__ = window.setTimeout;
    window.setTimeout = function (vCallback, nDelay /*, argumentToPass1, argumentToPass2, etc. */) {
        var aArgs = Array.prototype.slice.call(arguments, 2);
        return __nativeST__(vCallback instanceof Function ? function () {
            vCallback.apply(null, aArgs);
        } : vCallback, nDelay);
    };
    window.setTimeout.isPolyfill = true;
}

if (document.all && !window.setInterval.isPolyfill) {
    var __nativeSI__ = window.setInterval;
    window.setInterval = function (vCallback, nDelay /*, argumentToPass1, argumentToPass2, etc. */) {
        var aArgs = Array.prototype.slice.call(arguments, 2);
        return __nativeSI__(vCallback instanceof Function ? function () {
            vCallback.apply(null, aArgs);
        } : vCallback, nDelay);
    };
    window.setInterval.isPolyfill = true;
}



//
var JavaScriptCodeIncluder = new Object();
JavaScriptCodeIncluder.require = function (file, callback) {
    callback = callback ||
        function () {};
    var filenode;
    var jsfile_extension = /(.js)$/i;
    var cssfile_extension = /(.css)$/i;

    if (jsfile_extension.test(file)) {
        filenode = document.createElement('script');
        filenode.src = file;
        // IE
        filenode.onreadystatechange = function () {
            if (filenode.readyState === 'loaded' || filenode.readyState === 'complete') {
                filenode.onreadystatechange = null;
                callback();
            }
        };
        // others
        filenode.onload = function () {
            callback();
        };
        document.head.appendChild(filenode);
    } else if (cssfile_extension.test(file)) {
        filenode = document.createElement('link');
        filenode.rel = 'stylesheet';
        filenode.type = 'text/css';
        filenode.href = file;
        document.head.appendChild(filenode);
        callback();
    } else {
        console.log("Unknown file type to load.")
    }
};

JavaScriptCodeIncluder.requireFiles = function () {
    var index = 0;
    return function (files, callback) {
        if(files.length == 0){
            callback();
            return;
        }
        if(index == 0 && files[0] == ""){
            return;
        }
        index += 1;
        Utilities.require(files[index - 1], callBackCounter);
        files[index - 1] = "";
        function callBackCounter() {
            if (index === files.length) {
                index = 0;
                callback();
                return;
            } else {
                Utilities.requireFiles(files, callback);
            }
        };
    };
}();

//---


function EventTarget(){
    this._listeners = {};
}
EventTarget.prototype = {
    constructor: EventTarget,
    addListener: function(type, listener){
        if (typeof this._listeners[type] == "undefined"){
            this._listeners[type] = [];
        }
        this.useDelegate
        this._listeners[type].push(listener);
    },

    fire: function(event){
        if (typeof event == "string"){
            event = { type: event };
        }
        if (!event.target){
            event.target = this;
        }

        if (!event.type){  //falsy
            throw new Error("Event object missing 'type' property.");
        }

        if (this._listeners[event.type] instanceof Array){
            var listeners = this._listeners[event.type];
            for (var i=0, len=listeners.length; i < len; i++){
                listeners[i].call(this, event);
            }
        }
    },

    removeListener: function(type, listener){
        if (this._listeners[type] instanceof Array){
            var listeners = this._listeners[type];
            for (var i=0, len=listeners.length; i < len; i++){
                if (listeners[i] === listener){
                    listeners.splice(i, 1);
                    break;
                }
            }
        }
    }
};


// url params:

var QSParam = new function() {
    var qsParm = {};
    var query = window.location.search.substring(1);
    var params = query.split('&');
    for (var i = 0; i < params.length; i++) {
        var pos = params[i].indexOf('=');
        if (pos > 0) {
            var key = params[i].substring(0, pos);
            var val = params[i].substring(pos + 1);
            qsParm[key] = val;
        }
    }
    this.isKeyExist = function(query){
        if(qsParm[query]){
            return true;
        }
        else{
           return false;
        }
    };
    this.getValue = function(query){
        if(qsParm[query])
        {
            return qsParm[query];
        }
        return "";
        //throw "URL does not contain query "+ query;
    }
};

//------- TWEEN


IHTween  = function(obj, prop, func, begin, finish, duration, suffixe) {
    this.obj = new Object();
    this.prop='';
    this.func = function (t, b, c, d) { return c*t/d + b; };
    if(func != null){
       this.func = func;
    }
    this.begin = 0;
    this.change = 0;
    this.prevTime = 0;
    this.prevPos = 0;
    this.looping = false;
    this._duration = 0;
    this._time = 0;
    this._pos = 0;
    this._position = 0;
    this._startTime = 0;
    this._finish = 0;
    this.name = '';
    this.suffixe = '';
    this._listeners = new Array();
    this.Delegate = function (o, f) {
       var a = new Array() ;
       var l = arguments.length ;
       for(var i = 2 ; i < l ; i++) a[i - 2] = arguments[i] ;
       return function() {
           var aP = [].concat(arguments, a) ;
           f.apply(o, aP);
        }
    }
    this.setTime = function(t){
        this.prevTime = this._time;
        if (t > this.getDuration()) {
            if (this.looping) {
                this.rewind (t - this._duration);
                this.update();
                this.broadcastMessage('onMotionLooped',{target:this,type:'onMotionLooped'});
            } else {
                this._time = this._duration;
                this.update();
                this.stop();
                this.broadcastMessage('onMotionFinished',{target:this,type:'onMotionFinished'});
            }
        } else if (t < 0) {
            this.rewind();
            this.update();
        } else {
            this._time = t;
            this.update();
        }
    }
    this.getTime = function(){
        return this._time;
    }
    this.setDuration = function(d){
        this._duration = (d == null || d <= 0) ? 100000 : d;
    }
    this.getDuration = function(){
        return this._duration;
    }
    this.setPosition = function(p){
        this.prevPos = this._pos;
        var a = this.suffixe != '' ? this.suffixe : '';
        this.obj[this.prop] = Math.round(p) + a;
        this._pos = p;
        this.broadcastMessage('onMotionChanged',{target:this,type:'onMotionChanged'});
    }
    this.getPosition = function(t){
        if (t == undefined) t = this._time;
        return this.func(t, this.begin, this.change, this._duration);
    };
    this.setFinish = function(f){
        this.change = f - this.begin;
    };
    this.getFinish = function(){
        return this.begin + this.change;
    };
    this.setBegin = function(b){
        this.begin = b;
        this._pos = b;
    };
    this.init = function(obj, prop, func, begin, finish, duration, suffixe){
        if (!arguments.length) return;
        this.isPlaying = false;
        this._listeners = new Array();
        this.addListener(this);
        if(suffixe) this.suffixe = suffixe;
        this.obj = obj;
        this.prop = prop;
        this.begin = begin;
        this._pos = begin;
        this.setDuration(duration);
        if (func!=null && func!='') {
            this.func = func;
        }
        this.setFinish(finish);
    }
    this.start = function(){
        this.rewind();
        this.startEnterFrame();
        this.broadcastMessage('onMotionStarted',{target:this,type:'onMotionStarted'});
        //alert('in');
    }
    this.rewind = function(t){
        this.stop();
        this._time = (t == undefined) ? 0 : t;
        this.fixTime();
        this.update();
    }
    this.fforward = function(){
        this._time = this._duration;
        this.fixTime();
        this.update();
    }
    this.update = function(){
        this.setPosition(this.getPosition(this._time));
        }
    this.startEnterFrame = function(){
        this.stopEnterFrame();
        this.isPlaying = true;
        this.onEnterFrame();
    }
    this.onEnterFrame = function(){
        if(this.isPlaying) {
            this.nextFrame();
            setTimeout(this.Delegate(this, this.onEnterFrame), 0);
        }
    }
    this.nextFrame = function(){
        this.setTime((this.getTimer() - this._startTime) / 1000);
        }
    this.stop = function(){
        this.stopEnterFrame();
        this.broadcastMessage('onMotionStopped',{target:this,type:'onMotionStopped'});
    }
    this.stopEnterFrame = function(){
        this.isPlaying = false;
    }

    this.continueTo = function(finish, duration){
        this.begin = this._pos;
        this.setFinish(finish);
        if (this._duration != undefined)
            this.setDuration(duration);
        this.start();
    }
    this.resume = function(){
        this.fixTime();
        this.startEnterFrame();
        this.broadcastMessage('onMotionResumed',{target:this,type:'onMotionResumed'});
    }
    this.yoyo = function (){
        this.continueTo(this.begin,this._time);
    }

    this.addListener = function(o){
        this.removeListener (o);
        return this._listeners.push(o);
    }
    this.removeListener = function(o){
        var a = this._listeners;
        var i = a.length;
        while (i--) {
            if (a[i] == o) {
                a.splice (i, 1);
                return true;
            }
        }
        return false;
    }
    this.broadcastMessage = function(){
        var arr = new Array();
        for(var i = 0; i < arguments.length; i++){
            arr.push(arguments[i])
        }
        var e = arr.shift();
        var a = this._listeners;
        var l = a.length;
        for (var i=0; i<l; i++){
            if(a[i][e])
            a[i][e].apply(a[i], arr);
        }
    }
    this.fixTime = function(){
        this._startTime = this.getTimer() - this._time * 1000;
    }
    this.getTimer = function(){
        return new Date().getTime() - this._time;
    }
    this.init(obj, prop, func, begin, finish, duration, suffixe);
};
// Motion types
IHTween.regularEaseInOut = function(t,b,c,d){
    if ((t/=d/2) < 1) return c/2*t*t + b;
    return -c/2 * ((--t)*(t-2) - 1) + b;
}
IHTween.bounceEaseOut = function(t,b,c,d){
    if ((t/=d) < (1/2.75)) {
        return c*(7.5625*t*t) + b;
    } else if (t < (2/2.75)) {
        return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;
    } else if (t < (2.5/2.75)) {
        return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;
    } else {
        return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;
    }
}

// ---- Device
// strange prototypejs bug temp fix WTF!!!!!!
var isIos = false;
var Device = {
    // device
    version:-1,
    isIos:false,
    isAndroid:false,
    isPC:false,
    isBlackBerry:false,
    isMobile:false,
    isTablet:false,
    isMSIE:false,
    isIE6:false,
    isIE7:false,
    isIE8:false,
    isIE9:false,
    isIE10:false,
    isIE11:false,
    isChrome:false,
    isTouch : false,
    isFF:false,
    isSafari:false,
    initialized:false,
    isEdge:false,
    initialize: function() {
        this.setDeviceTypes();
        this.initSize();
        isIos = this.isIos;
        this.initialized = true;
    },
    setDeviceTypes: function(){
        // check device type
        var ua = navigator.userAgent;
        this.isFF = ua.indexOf("Firefox") > 0;
        var checker = {
            iphone: ua.match(/(iPhone|iPod|iPad)/),
            blackberry: ua.match(/BlackBerry/),
            android: ua.match(/Android/)
        };
        if (checker.android){
            this.isAndroid = true;
            this.version = ua.split("Android")[1].split(";")[0].split(".");
        }
        else if (checker.iphone){
            this.isIos = true;
            this.version = ua.split("OS")[1].split(" ")[1].split("_");
        }
        else if (checker.blackberry){
            this.isBlackBerry = true;
        }
        else {
            this.isPC = true;
            if(ua.match(/(MSIE 6)/)){
                this.isIE6 = true;
            }
            if(ua.match(/(MSIE 7)/)){
                this.isIE7 = true;
            }
            if(ua.match(/(MSIE 8)/)){
                this.isIE8 = true;
            }
            if(ua.match(/(MSIE 9)/)){
                this.isIE9 = true;
            }
            if(ua.match(/(MSIE 10)/)){
                this.isIE10 = true;
            }
            if(ua.match(/(MSIE 11)/)){
                this.isIE11 = true;
            }
            if(ua.match(/(MSIE)/)){
                this.isMSIE = true;
            }
        }
        if(ua.match(/(Chrome)/) || ua.match(/(CriOS)/)){
            this.isChrome = true;
        }
        if(ua.match(/(Safari)/) && this.isChrome == false){
            this.isSafari = true;
        }
        if(ua.match(/(Edge)/)){
            this.isEdge = true;
            this.isSafari = false;
            this.isChrome = false;
        }
        var deviceAgent = navigator.userAgent.toLowerCase();
        var isMobile = deviceAgent.match(/(iphone|ipod|mobile)/) != null;
        var isIpad = deviceAgent.match(/(ipad)/) != null;
        if(isMobile && isIpad != true){
            this.isMobile = true
            this.isPC = false;
        }
        if((this.isAndroid && this.isMobile == false) || isIpad){
            this.isMobile = true
            //this.isTablet = true;
            this.isPC = false;
        }
        this.check_is_touch_device();

        // get version

        if(this.isFF){
            this.version = Number(ua.split("Firefox/")[1]);
        }else if(this.isChrome){
            try {
                this.version = Number(ua.split("Chrome/")[1].split(" ")[0].split(".")[0]);
            }catch(e){
                this.version = -1;
            }
        }else if(this.isSafari){
            try {
                this.version = ua.split("Version/")[1].split(" ")[0].split(".");
                this.version.pop()
                this.version = Number(this.version.join("."));
            }catch(e){
                this.version = -1;
            }
        }else if(this.isEdge){
            this.version = Number(ua.split("Edge/")[1]);
        }else if(this.isMSIE){
            try{
                this.version = Number(ua.split("MSIE/")[1].split(";")[0]);
            }catch(e){
                this.version = Number(ua.split("MSIE ")[1].split(";")[0]);
            }

        }
        // IE 11 Widnows 10
        var re  = new RegExp("trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
        if (re.exec(deviceAgent) != null){
            this.isMSIE = true;
            this.isIE11 = true;
            this.version = parseFloat( RegExp.$1 );
        }
        //debug
        //this.isMobile = true;
    },
    check_is_touch_device : function() {
        try {

            if("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch){}else{
                // "no touch"
                return;   }
            document.createEvent("TouchEvent");
            this.isTouch = true;
        } catch (e) {  }
    },
    isNumber:function(n) {
        return (Object.prototype.toString.call(n) === '[object Number]' || Object.prototype.toString.call(n) === '[object String]') &&!isNaN(parseFloat(n)) && isFinite(n.toString().replace(/^-/, ''));
    },
    checkVersion:function(testToVersion){
        if(this.version == -1){
            return true;
        }
        if(Number(testToVersion) <= Number(this.version)){
            return true;
        }
        return false;
    },
    getBrowserName:function(){
        if(this.isChrome){
            return "Chrome"
        }
        if(this.isFF){
            return "FireFox"
        }
        if(this.isMSIE){
            return "IE"
        }
        if(this.isSafari){
            return "Safari"
        }
        if(this.isEdge){
            return "Edge";
        }
        return "none"
    },
    getSystemName:function(){
        if(this.isAndroid){
            return "Android"
        }
        if(this.isIos){
            return "iOS"
        }
        return "PC"
    },
    getName: function(){
        if(this.isMobile){
            return "Phone"
        }
        if(this.isTablet){
            //return "Tablet"
            return "Phone"
        }
        return "PC"
    },
    // screen size
    width:0,
    height:0,
    ratio:0,
    initSize:function(){
        var w1 = Math.max(screen.width,screen.height);
        var h1 = Math.min(screen.width,screen.height);

        var w2 = Math.max(window.document.documentElement.clientHeight,window.document.documentElement.clientWidth)
        var h2 = Math.min(window.document.documentElement.clientHeight,window.document.documentElement.clientWidth)

        this.width = Math.min(w1,w2);

        this.width = Math.min(window.innerWidth,this.width)-4;

        this.height = Math.min(h1,h2);
        this.ratio = this.width/this.height;
    }
}
Device.initialize();


var UserAgentParser = function(){
    // device
        this.version  = -1,
        this.isIos = false,
        this.isAndroid = false,
        this.isPC = false,
        this.isBlackBerry =false,
        this.isMobile = false,
        this.isTablet = false,
        this.isMSIE = false,
        this.isIE6 = false,
        this.isIE7 = false,
        this. isIE8 = false,
        this.isIE9 = false,
        this.isIE10 = false,
        this.isIE11 = false,
        this.isChrome = false,
        this.isTouch =  false,
        this.isFF = false,
        this.isSafari = false,
        this.initialize = false,
        this.isEdge = false,
        this.isCompatibleBrowser = function(requeredBrowser){
            if(requeredBrowser == undefined || requeredBrowser.length == 0){
                return true;
            }
            for(var d = 0 ; d < requeredBrowser.length ; d++){
                if(requeredBrowser[d][0].toLocaleLowerCase() == this.getSystemName().toLocaleLowerCase()){
                    if(requeredBrowser[d].length == 1){
                        return true;
                    }else{
                        for(var b = 1 ; b < requeredBrowser[d].length ; b++){
                            var browser =  requeredBrowser[d][b];
                            if(browser[0].toLocaleLowerCase() == this.getBrowserName().toLocaleLowerCase()){
                                if(browser[1]==undefined || browser[1] == "" ||    this.checkVersion(browser[1])){
                                    return true;
                                }
                            }
                        }
                    }
                }

            }
            return false;
        },
        this.setUserAgent =  function(userAgent){
            // check device type
            var ua = userAgent;
            this.isFF = ua.indexOf("Firefox") > 0;
            var checker = {
                iphone: ua.match(/(iPhone|iPod|iPad)/),
                blackberry: ua.match(/BlackBerry/),
                android: ua.match(/Android/)
            };
            if (checker.android){
                this.isAndroid = true;
                this.version = ua.split("Android")[1].split(";")[0].split(".");
            }
            else if (checker.iphone){
                this.isIos = true;
                this.version = ua.split("OS")[1].split(" ")[1].split("_");
            }
            else if (checker.blackberry){
                this.isBlackBerry = true;
            }
            else {
                this.isPC = true;
                if(ua.match(/(MSIE 6)/)){
                    this.isIE6 = true;
                }
                if(ua.match(/(MSIE 7)/)){
                    this.isIE7 = true;
                }
                if(ua.match(/(MSIE 8)/)){
                    this.isIE8 = true;
                }
                if(ua.match(/(MSIE 9)/)){
                    this.isIE9 = true;
                }
                if(ua.match(/(MSIE 10)/)){
                    this.isIE10 = true;
                }
                if(ua.match(/(MSIE 11)/)){
                    this.isIE11 = true;
                }
                if(ua.match(/(MSIE)/)){
                    this.isMSIE = true;
                }
            }
            if(ua.match(/(Chrome)/) || ua.match(/(CriOS)/)){
                this.isChrome = true;
            }
            if(ua.match(/(Safari)/) && this.isChrome == false){
                this.isSafari = true;
            }
            if(ua.match(/(Edge)/)){
                this.isEdge = true;
                this.isSafari = false;
                this.isChrome = false;
            }
            var deviceAgent = userAgent.toLowerCase();
            var isMobile = deviceAgent.match(/(iphone|ipod|mobile)/) != null;
            var isIpad = deviceAgent.match(/(ipad)/) != null;
            if(isMobile && isIpad != true){
                this.isMobile = true
                this.isPC = false;
            }
            if((this.isAndroid && this.isMobile == false) || isIpad){
                this.isTablet = true;
                this.isPC = false;
            }

            // get version
            if(this.isFF){
                this.version = Number(ua.split("Firefox/")[1]);
            }else if(this.isChrome){
                try {
                    this.version = Number(ua.split("Chrome/")[1].split(" ")[0].split(".")[0]);
                }catch(e){
                    this.version = -1;
                }
            }else if(this.isSafari){
                try {
                    this.version = ua.split("Version/")[1].split(" ")[0].split(".");
                    this.version.pop()
                    this.version = Number(this.version.join("."));
                }catch(e){
                    this.version = -1;
                }
            }else if(this.isEdge){
                this.version = Number(ua.split("Edge/")[1]);
            }else if(this.isMSIE){
                try{
                    this.version = Number(ua.split("MSIE/")[1].split(";")[0]);
                }catch(e){
                    this.version = Number(ua.split("MSIE ")[1].split(";")[0]);
                }

            }
            // IE 11 Widnows 10
            var re  = new RegExp("trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
            if (re.exec(deviceAgent) != null){
                this.isMSIE = true;
                this.isIE11 = true;
                this.version = parseFloat( RegExp.$1 );
            }
            //debug
            //this.isMobile = true;
        },
        this.isNumber = function(n) {
            return (Object.prototype.toString.call(n) === '[object Number]' || Object.prototype.toString.call(n) === '[object String]') &&!isNaN(parseFloat(n)) && isFinite(n.toString().replace(/^-/, ''));
        },
        this.checkVersion = function(testToVersion){
            if(this.version == -1){
                return true;
            }
            if(Number(testToVersion) <= Number(this.version)){
                return true;
            }
            return false;
        },
        this.getBrowserName = function(){
            if(this.isChrome){
                return "Chrome"
            }
            if(this.isFF){
                return "FireFox"
            }
            if(this.isMSIE){
                return "IE"
            }
            if(this.isSafari){
                return "Safari"
            }
            if(this.isEdge){
                return "Edge";
            }
            return "none"
        },
        this.getSystemName = function(){
            if(this.isAndroid){
                return "Android"
            }
            if(this.isIos){
                return "iOS"
            }
            return "PC"
        },
        this.getName =  function(){
            if(this.isMobile){
                return "Phone"
            }
            if(this.isTablet){
                return "Tablet"
            }
            return "PC"
        }
}


var HBRlog = {
    who:"",
    config:0,  // -1 dont write enithing , 0 - no ovveride log , 1 - ovveride log and write only to server  , 2 - write to server and console , 3 - write debug info to console
    init:function(name,config){
        this.config = config;
        if(this.config == 0){
            return;
        }
        this.who = name;
        this.initOverrideConsole();
    },
    /// ovveride console log
    initOverrideConsole:function(){
        this.oldConsole = console;
        this.oldConsole.oldDebug = console.debug;
        this.oldConsole.oldError = console.error;
        this.oldConsole.oldLog = console.log;
        console.log = Tools.Delegate(this,this.consoleLog)
        console.error = Tools.Delegate(this,this.consoleError)
        console.debug = Tools.Delegate(this,this.consoleDebug)
        window.console = console;
    },
    consoleDebug:function(msg){
       if(this.config == 3){
            this.oldConsole.oldDebug(msg);
       }
       this.sendMessage("debug",msg);
    },
    consoleLog:function(msg){
        if(this.config == 2 || this.config == 3){
            this.oldConsole.oldLog(msg);
        }
        this.sendMessage("info",msg);
    },
    consoleError:function(msg){
        if(this.config == 2 || this.config == 3){
            this.oldConsole.oldError(msg);
        }
        this.sendMessage("error",msg);
    },
    sendMessage:function(type,msg){
        if(this.config == -1 || Tools.isDebug){
            return;
        }
        var url = encodeURI(Tools.applicationPath+"../../../log?action=jslog&type=" + type + "&who="+this.who+"&msg=" + msg + "  "+Tools.sessionID);
        if(!$){
            $hbr.ajax({
                url: url,
                dataType: "jsonp",
                success: function (data) {

                }
            });
        }else{
            $.ajax({
                url: url,
                dataType: "jsonp",
                success: function (data) {

                }
            });
        }
    }
}

// Tools
var Tools = {
    isDebug:false,
    isInit:false,
    sendCompressData:false,
    fixRTL: 0,
    isRTL: false,
    mobileMetaTag : null,
    agentImg: null,
    init:function(){
        if(this.isInit){
            // init ones
            return;
        }
        this.isInit = true;
        if(this.getDirection(this.getBody(true)) == "rtl"){
             this.isRTL = true;
        }
        // check if debug mode
        // TODO : change to pass from cookie or param
        if(location.href.split("localhost").length > 1){
            // Jenia 2 PC
            this.isDebug = true;
            this.applicationPath = "http://localhost/";
        }
        if(location.href.split("/Site").length > 1) {
            // Jenia 1 PC
            // this.isDebug = true;
            // this.applicationPath = window.location.href.split("HTML_IH2")[0]+"HTML_IH2/";
        }


        // TODO: move to floatingIfarme.js
        try{
        if(QSParam.isKeyExist("agentImg")){
            verishow.cobrowsing_vars.agentImg = QSParam.getValue("agentImg")
        }else if(verishow.cobrowsing_vars.agentImg){
            this.agentImg = verishow.cobrowsing_vars.agentImg;
        }
        }catch(e){}

        // set metaTag
        this.mobileMetaTag = document.querySelector("meta[name=viewport]");
        if(this.mobileMetaTag == null){
            this.mobileMetaTag = document.createElement("meta");
            this.mobileMetaTag.name = "viewport";
            document.getElementsByTagName('head')[0].appendChild(this.mobileMetaTag);
        }

    },
    uniqID:function(idlength) {
        var charstoformid = '_0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'.split('');
        if (! idlength) {
            idlength = Math.floor(Math.random() * charstoformid.length);
        }
        var uniqid = '';
        for (var i = 0; i < idlength; i++) {
            uniqid += charstoformid[Math.floor(Math.random() * charstoformid.length)];
        }
        uniqid += new Date().getTime();
        // one last step is to check if this ID is already taken by an element before
        if(jQuery("#"+uniqid).length == 0)
            return uniqid;
        else
            return uniqID(20)
    },
    disableTouchMove:function(){
        document.addEventListener("touchmove", function (evt)
        {
            evt.preventDefault();
        }, false);
    },
    getElementByIndexes:function(arr) {
        var orArr = arr;
        var arr = arr.split(",");
        var elemetId = arr.shift();
        var target;
        var goodTarget;
        if (elemetId == "-1") {
            target = this.getBody(true);
        } else {
            target = document.getElementById(elemetId)
        }
        goodTarget = target;
        for (var i = 0; i < arr.length; i++) {
            try {
                if (target !== undefined) {
                    goodTarget = target;
                }
                if(arr[i] == ".."){
                    target = target.parentNode;
                }else{
                    target = target.children[arr[i]];
                }
            } catch (e) {
                // if faild return null no goodTarget
                return null;
            }

        }
        if(target != null && orArr.split(",..").length>0){
            target.arrPath = orArr;
        }
        return target;
    },
    setMetaTag:function(data){
        this.mobileMetaTag.content = data;
    },
    Delegate:function (o, f) {
        //        if(f.bind != null){
        //            f.bind(o);
        //            return;
        //        }
        var a = new Array();
        var l = arguments.length;
        for (var i = 2; i < l; i++) a[i - 2] = arguments[i];
        return function () {
            var aP = [].concat(arguments, a);
            if(f == undefined){
                // TODO : fix undefined problem
                //  this.socket.on('connect',Tools.Delegate(this,this.onConnected)); replace to .bind(this);
                return;
            }
            try{
                f.apply(o, aP[0]);
            }catch(e){
                // faild run function
                console.error("Delegate faild "+e);
                try{
                    console.debug(o);
                    console.debug(arguments[0]);
                }catch(e){
                    // ignor trace erro data
                }
                if(!Device.isPC){
                    return;
                }
                // for debug
                //debugger;
                try{
                    f.apply(o, aP[0]);
                }catch(e){

                }

            }

        }
    },
    getPath : function() {
        return window.location.href;
        /*
        var loc = window.location;
        var pathName = loc.pathname.substring(0, loc.pathname.lastIndexOf('/') + 1);
        return loc.href.substring(0, loc.href.length - ((loc.pathname + loc.search + loc.hash).length - pathName.length));
        */
    },
    getBody:function (body,target) {
        if(target == null){
            target  = document;
        }
        if (Device.isFF) {
            if (body) {
                return  target.documentElement.children[1]
            } else {
                return target.documentElement;
            }
        } else {
            if(this.isMSIE && body != true){
                return target.documentElement;
            }
            return target.body;
        }
    },
    getBaseURL:function () {
        return location.protocol + "//" + location.hostname +
            (location.port && ":" + location.port) + "/";
    },
    innerWidth:function () {
        // fix Android 3.2 bug
        //  <meta name="viewport" content="user-scalable=yes, initial-scale=1.0, width=device-width">
        if(Device.isPC){
            return window.innerWidth-15;
        }else{
            return window.innerWidth-4;
        }
    },
    innerHeight:function () {
        return window.innerHeight;
    },
    // return page height width at realTime
    docHeight: function(target){
        if(target == null){
            target = document;
        }
        var db = target.body;      var dde = target.documentElement;
        return Math.max(db.scrollHeight, dde.scrollHeight, db.offsetHeight, dde.offsetHeight, db.clientHeight, dde.clientHeight)
    },
    docWidth: function(target){
        if(target == null){
            target = document;
        }
        var db = target.body;      var dde = target.documentElement;
        return Math.max(db.scrollWidth, dde.scrollWidth, db.offsetWidth, dde.offsetWidth, db.clientWidth, dde.clientWidth)
    },
    getDirection: function(element){
        try{
            var result = "";
            if (element){
                if (window.getComputedStyle){
                    result = window.getComputedStyle(element,null).direction;
                } else if (element.currentStyle){
                    result = element.currentStyle.direction;
                }
            }
        }catch(e){
            return "";
        }
        return result;
    },
    calcFixRTL: function(){
        if(this.isRTL){
             this.fixRTL = (this.getBody().scrollWidth-window.innerWidth)+12;
        }
    },
    getScrollLeft:function (target) {
        if(target == null){
            target = document;
        }
        var left = target.documentElement.scrollLeft;
        if (target.documentElement.scrollLeft == 0) {
            left = this.getBody(false,target).scrollLeft;
        }
        // fix scroller degative position
        this.calcFixRTL();
        left = this.fixRTL+left;
        return left;
    },
    getScrollTop:function (target) {
        if(target == null){
            target = document;
        }
        if (target.documentElement.scrollTop > 0) {
            return target.documentElement.scrollTop;
        } else {
            return this.getBody(false,target).scrollTop;
        }
    },
    config : new Object(),
    applicationPath:"",
    roomID:"-1",
    original_url:"",
    // TODO : make encription
    getUrlParams:function(par){
        if(par == undefined){
            return Base64.encode(encodeURIComponent(JSON.stringify(this.config.urlParams)));
        }else{
            return  Base64.encode(encodeURIComponent(JSON.stringify(par)));
        }
    },
    setUrlParams:function(value){
        try{
            Tools.config.urlParams = JSON.parse(decodeURIComponent(Base64.decode(value)));
        }catch (e){
            // set empty will use defualt config
            Tools.config.urlParams = new Object();
        }
        //
        if(Tools.config.uiParams != undefined){
            Tools.config.urlParams.unsupportedPage = Tools.config.uiParams.unsupportedPage;
            Tools.config.urlParams.log = Tools.config.uiParams.log;
            Tools.config.urlParams.logN = Tools.config.uiParams.logN;
            Tools.config.urlParams.askResendPageTimeOut = Tools.config.uiParams.askResendPageTimeOut;
        }
        //
        this.applicationPath = this.config.urlParams.applicationPath;
        if(this.applicationPath == ""){
            this.config.urlParams.applicationPath = this.applicationPath = window.location.href.split("coBrowser3")[0];
        }
        this.roomID = this.config.urlParams.roomID;
        if(this.config.urlParams.originURL != undefined){
            this.original_url = this.config.urlParams.originURL;
        }
        this.unsupportedPage = this.applicationPath+'coBrowser3/pc/Shell/'+this.config.urlParams.unsupportedPage+'/unsupportedPage.html';
        HBRlog.init(this.config.urlParams.logN,this.config.urlParams.log);
    },
    jsonExtendArray:function(target,src) {
        try {
            for (key in src) {
                if(typeof target[key] == 'object'){
                    if(Array.isArray(src[key])){
                        target[key] = src[key];
                        return ;
                    }
                    this.jsonExtendArray(target[key], src[key])
                }
            }
        }catch(e){
            debugger;
        }
    }
}
Tools.init();




// ----- PostMassage manager
if (!window.postMessage  && !parent.postMessage) {
   console.error("coBrowser not supported in this browser");
}
// iframe.contentWindow
// window
// if(this.isMSI)
//                this.setTargetWindow(parent);
//            else
//                this.setTargetWindow(parent.parent.window);
// var targe = this.ihIframe.contentWindow;
// this.connector = new PostMessageManager(this,targe,window,"chatIframe");
PostMessageManager = function(obj,outTarget,inTarget,name){
    this.obj = obj;
    this.connectionName = name;
    this.outTarget = outTarget;
    this.inTarget = inTarget;
    this.enabled = true;
    if(parent == outTarget && window == window.top){
        console.debug("PostMessage "+name+" Warning register to prente on root");
        this.enabled = false;
    }
    this.remove = function(){
        this.outTarget = null;
        this.inTarget = null;
        this.obj = null;
        this.enabled = false;
        //debugger;
    }
    this.callFunction = function(name) {
        if(!this.enabled){
            return;
        }
        var args = Array.prototype.slice.call(arguments);
        args.unshift(this.connectionName);
        args = JSON.stringify(args);
        this.outTarget.postMessage(args, "*");
    }
    // Recive
    // expert or Session run function on this HTML
    this.runFunction = Tools.Delegate(this,function(e) {
        if(!this.enabled){
            return;
        }
        // Do we trust the sender of this message?  (might be
      // different from what we originally opened, for example).
      //if (e.origin !== "http://example.org")
      //     return;
       var params = e.data;
       if(params.charAt(0) != "["){
           // ignor other post messages
           return;
       }
       try {
           params = eval(params);
       } catch (e) {
           params = JSON.parse(params);
       }
       try {
           if(params[0] == this.connectionName){
               //this.obj[params[1]].apply(this, params[2]);
                params.shift();
                this.startFunction(params);
           }else{
               // no same connection
           }
       } catch (e) {
           // console.log("apply function error "+params[0]+" , "+params[1]);
       }
    })
    this.startFunction = Tools.Delegate(this.obj,function(params){
        var fName = params.shift();
        this[fName].apply(this, params);
    })
    if (typeof this.inTarget.addEventListener != 'undefined') {
       this.inTarget.addEventListener('message', this.runFunction, false);
    }else if (typeof this.inTarget.attachEvent != 'undefined') {
       this.inTarget.attachEvent('onmessage', this.runFunction);
    }else{
        alert("Post messag faild")
    }
}





var ToolsEevents = {
    itilized:false,
    fixRTL: 0,
    isRTL: false,
    checkContentResizeTimeOut : 3000,
    resizeEndTimerHandlerTimeOut : 1000,
    init:function(isScroll,isResize,isMousemove){
        // register ones
//        if(this.isScroll && isScroll){ isScroll = false; }else{ this.isScroll = true; }
//        if(this.isResize && isResize){ isResize = false; }else{ this.isResize = true; }
//        if(this.isMousemove && isMousemove){ isMousemove = false; }else{ this.isMmousemove = true; }
        if(isScroll || isResize || isMousemove){this.itilized = false }
        if(this.itilized){
            return;
        }
        this.itilized = true;
        if(this.getDirection(this.getBody(true)) == "rtl"){
             this.isRTL = true;
        }
        if (typeof window.addEventListener != 'undefined') {
            if(isResize){      window.addEventListener("resize", this.Delegate(this, this.onWindowResize), false);}
            if(isScroll){    this.registerForScroll(document) }
            if(isMousemove){ document.addEventListener("mousemove", this.Delegate(this, this.onMouseMove), false);}
        }
        else if (typeof window.attachEvent != 'undefined') {
            if(isResize){  window.attachEvent("onresize", this.Delegate(this, this.onWindowResize), false);}
            if(isScroll){  this.registerForScroll(this.getBody(true)) }
            if(isMousemove){document.attachEvent("onmousemove", this.Delegate(this, this.onMouseMove), false); }

        }
        if(isResize){
            this.checkContentResize();
        }
    },
    registerForScroll:function(target){
        if (typeof window.addEventListener != 'undefined') {
            target.addEventListener("scroll", this.Delegate(this, this.onScroll), false);
            target.addEventListener("mouseup", this.Delegate(this, this.onMouseUp), false);
        }else{
            target.onscroll = this.Delegate(this, this.onScroll);
            target.mouseUp = this.Delegate(this, this.onMouseUp);
        }
    },
    registerForMouse:function(target){
        if (typeof window.addEventListener != 'undefined') {
            target.addEventListener("mousemove", this.Delegate(this, this.onMouseMove), false);
        }else{
            target.onmousemove = this.Delegate(this, this.onMouseMove);
        }
    },
    checkContentResize : function(){
        var sH =  this.getBody().clientHeight;
        var sW = this.getBody().clientWidth;
        var dH = this.docHeight();
        var dW = this.docWidth();
        var iH = Tools.innerHeight();
        var iW = Tools.innerWidth();
        if(this.lastDocHeight != dH || this.lastDocWidth != dW || this.oldScrollHeight != sH || this.oldScrollWidth != sW || this.oldInnerHeight != iH || this.oldInnerWidth != iW){
            this.fire({ type: "onBodyResize"});
        }
        this.lastDocHeight = dH;
        this.lastDocWidth = dW;
        this.oldScrollHeight = sH;
        this.oldScrollWidth = sW;
        this.oldInnerHeight = iH;
        this.oldInnerWidth = iW;
        window.clearTimeout(this.checkContentResizeEndTimer);
        this.checkContentResizeEndTimer = setTimeout(this.Delegate(this, this.checkContentResize), this.checkContentResizeTimeOut);
    },
    onWindowResize : function(){
       window.clearTimeout(this.resizeEndTimer);
       this.resizeEndTimer = setTimeout(this.Delegate(this, this.resizeEndTimerHandler), this.resizeEndTimerHandlerTimeOut);
    },
    resizeEndTimerHandler:function () {
       if(this.isRTL){
           this.fixRTL = (this.getBody().scrollWidth-window.innerWidth)+12;
       }
       this.fire({ type: "onResize" });
    },
    onMouseUp:function(target){
        try{
            if(target[0].document == undefined){
                if(target[0].scrollerPressed) {
                    this.fire({ type: "onScrollRelease", target: target[0]});
                    target[0].scrollerPressed = false;
                }
            }else{
                if(this.scrollItem.scrollerPressed) {
                    this.fire({ type: "onScrollRelease", target: this.scrollItem});
                    this.scrollItem.scrollerPressed = false;
                }
            }
        }catch(e){

        }
    },
    lastTimeSendScroller:0,
    scrollItem:null,
    onScroll : function(e){
        var diff = new Date().getTime() - this.lastTimeSendScroller;
        this.scrollItem = e[0].target;
        if(this.scrollItem.scrollerPressed == undefined || this.scrollItem.scrollerPressed == false){
            this.scrollItem.scrollerPressed = true;
            this.fire({ type: "onScrollClick" , target:this.scrollItem });
        }
        var scrollLeft = Tools.getScrollLeft(e[0].target);
        var scrollTop = Tools.getScrollTop(e[0].target);

        this.fire({ type: "onScrollNoDelay", target:this.scrollItem , left:scrollLeft, top:scrollTop });    //can also do target.fire("foo")

        if(scrollTop == 1){
            scrollTop = 0;
        }
        if(this.oldScrollLeft == scrollLeft && this.oldScrollTop == scrollTop){
            return;
        }
        window.clearTimeout(this.scrollItem.scrollEndTimer2);
        this.scrollItem.scrollEndTimer2 = setTimeout(this.Delegate(this, this.onMouseUp), 1000,e[0].target);
        if (diff < 500) {
            window.clearTimeout(this.scrollItem.scrollEndTimer);
            this.scrollItem.scrollEndTimer = setTimeout(this.Delegate(this, this.scrollEndTimerHangler), 250,e[0].target,scrollLeft,scrollTop);
            return;
        }
        this.scrollEndTimerHangler([this.scrollItem,scrollLeft,scrollTop])
    },
    scrollEndTimerHangler:function (item) {
        this.oldScrollLeft = item[1];
        this.oldScrollTop = item[2];
        this.fire({ type: "onScroll", target:item[0] , left:item[1], top:item[2] });    //can also do target.fire("foo")
        this.lastTimeSendScroller = new Date().getTime();
    },
    lastTimeSend:0,
    onMouseMove : function(e){
        if (e[0] != null) e = e[0];
        if(e.ignorEvent){
            return;
        }
        var diff = new Date().getTime() - this.lastTimeSend;
        if (e.touches == null) {
            if (!e) e = window.event;
            if (typeof e.pageY == 'number') {
                this.mouseY = e.pageY;
                this.mouseX = e.pageX;
            } else {
                this.mouseY = e.clientY;
                this.mouseX = e.clientX;
            }
        } else {
            var touch = e.touches[0];
            this.mouseY = touch.pageY;
            this.mouseX = touch.pageX;
        }
        this.fire({ type: "onMouseMoveNoDelay" , x : this.mouseX , y : this.mouseY , originalTarget : e.target });
        this.mouseX += this.fixRTL;
        if (this.lastMouseX != this.mouseX || this.lastMouseY != this.mouseY) {
            this.lastMouseX = this.mouseX;
            this.lastMouseY = this.mouseY;
            if (diff < 100) {
                window.clearTimeout(this.mouseMoveEndTimer);
                this.mouseMoveEndTimer = setTimeout(this.Delegate(this, this.mouseMoveEndTimerHangler), 100, e.target);
                return;
            }
            this.lastTimeSend = new Date().getTime();
            this.mouseMoveEndTimerHangler(e.target)
        }
    },
    mouseMoveEndTimerHangler : function(target){
        this.fire({ type: "onMouseMove" , x : this.mouseX , y : this.mouseY , originalTarget : target });

    },
    // global functions ...
    docHeight: function(){
        var db = document.body;      var dde = document.documentElement;
        return Math.max(db.scrollHeight, dde.scrollHeight, db.offsetHeight, dde.offsetHeight, db.clientHeight, dde.clientHeight)
    },
    docWidth: function(){
        var db = document.body;      var dde = document.documentElement;
        return Math.max(db.scrollWidth, dde.scrollWidth, db.offsetWidth, dde.offsetWidth, db.clientWidth, dde.clientWidth)
    },
    getBody:function (body) {
        var FF = navigator.userAgent.indexOf("Firefox") > 0;
        if (FF) {
            if (body) {
                return  document.documentElement.children[1]
            } else {
                return document.documentElement;
            }
        } else {
            if(this.isMSI && body != true){
                return document.documentElement;
            }
            if(body){
                return document.body;
            }else{
                return document.documentElement;
            }

        }
    },
    Delegate:function (o, f) {
        var a = new Array();
        var l = arguments.length;
        for (var i = 2; i < l; i++) a[i - 2] = arguments[i];
        return function () {
            var aP = [].concat(arguments, a);
            f.apply(o, aP);
        }
    },
    getDirection: function(element){
        try{
            var result = "";
            if (element){
                if (window.getComputedStyle){
                    result = window.getComputedStyle(element,null).direction;
                } else if (element.currentStyle){
                    result = element.currentStyle.direction;
                }
            }
        }catch(e){
            return "";
        }
        return result;
    },
    // Event dispatcher
    _listeners : {},
    addListener: function(type, listener){
        if (typeof this._listeners[type] == "undefined"){
            this._listeners[type] = [];
        }

        this._listeners[type].push(listener);
    },

    fire: function(event){
        if (typeof event == "string"){
            event = { type: event };
        }
        if (!event.target){
            event.target = this;
        }

        if (!event.type){  //falsy
            throw new Error("Event object missing 'type' property.");
        }

        if (this._listeners[event.type] instanceof Array){
            try {
                var listeners = this._listeners[event.type];
                for (var i = 0, len = listeners.length; i < len; i++) {
                    listeners[i].call(this, event);
                }
            }catch(e){
                debugger;
            }
        }
    },

    removeListener: function(type, listener){
            if (this._listeners[type] instanceof Array){
                var listeners = this._listeners[type];
                for (var i=0, len=listeners.length; i < len; i++){
                    if (listeners[i] === listener){
                        listeners.splice(i, 1);
                        break;
                    }
                }
            }
        },
    removeAllListeners:function(){
        this._listeners = {};
    }

}


var Mouses = {
    usersMouses:Object,
    init:function(hbrApi) {
        this.hbrAPI = hbrApi;
        this.usersMouses = new Object();
        this.hbrAPI.addListener(hbrAPI.ON_SHARED_OBJECT_CHANGE,Tools.Delegate(this,this.onSharedObjectChange));
        this.hbrAPI.addListener(hbrAPI.ON_USERS_LIST_UPDATED,Tools.Delegate(this,this.usersListUpdated));
        this.hbrAPI.register(this,"hbrApiMouses")

        ToolsEevents.init(false,false,true);
        ToolsEevents.addListener("onMouseMove",Tools.Delegate(this, this.onMouseMove));
    },
    onSharedObjectChange:function(data){
        //debugger;
        // data.path    // changet object path
        // data.newValue // new value of changet object
        // data.obj      // all object
    },
    hbrAPIReady:function(){
        //debugger;

    },
    onMouseMove:function(event){
        this.callFunction("moveMouseTo",this.hbrAPI.myUser.userId,event.x,event.y)
    },
    moveMouseTo:function(id,x,y){
        this.usersMouses[id].element.css({
            "left": x,
            "top": y
        });
    },
    hideMouses:function(){
        for(var id in this.usersMouses){
            this.usersMouses[id].element.hide();
        }
    },
    showMouses:function(){
        for(var id in this.usersMouses){
            this.usersMouses[id].element.show();
        }
    },
    usersListUpdated:function(data){
        for(var id in this.usersMouses){
            this.usersMouses[id].deleteMouse = true;
        }
        var users = data.users;
        if(users.length > 1){
            for(var i in users){
                if(users[i].userId != this.hbrAPI.myUser.userId ){
                    // add/remove mouse for user
                    if(this.usersMouses[users[i].userId] == undefined){
                        this.usersMouses[users[i].userId] = new Object();
                        var mouseID = 'mouse_'+users[i].userId;
                        var mt =  '<div style="position: absolute ; top: 0px ; left: -150px; z-index : 999999;" id="'+mouseID+'">' +
                            '<i class="fa fa-mouse-pointer" style="color:   #000000 ; font-size: 22px"></i>';
                        if(Device.isIos == false) {
                            mt += '<p style="position: relative ; top : -22px ; left : 22px">' + this.hbrAPI.myUser.visitorName + '</p>';
                        }
                        mt += '</div>'
                        $(document.body).append(
                            mt
                        );
                        this.usersMouses[users[i].userId].element = $("#"+mouseID);
                        this.usersMouses[users[i].userId].elementName = mouseID;
                    }
                    this.usersMouses[users[i].userId].deleteMouse = false;
                }
            }
        }
        for(var id in this.usersMouses){
            if(this.usersMouses[id].deleteMouse){
                this.usersMouses[id].element.remove();
            }
        }
    }
}



//  old browser support


// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys
if (!Object.keys) {
    Object.keys = (function () {
        'use strict';
        var hasOwnProperty = Object.prototype.hasOwnProperty,
            hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),
            dontEnums = [
                'toString',
                'toLocaleString',
                'valueOf',
                'hasOwnProperty',
                'isPrototypeOf',
                'propertyIsEnumerable',
                'constructor'
            ],
            dontEnumsLength = dontEnums.length;

        return function (obj) {
            if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {
                throw new TypeError('Object.keys called on non-object');
            }

            var result = [], prop, i;

            for (prop in obj) {
                if (hasOwnProperty.call(obj, prop)) {
                    result.push(prop);
                }
            }

            if (hasDontEnumBug) {
                for (i = 0; i < dontEnumsLength; i++) {
                    if (hasOwnProperty.call(obj, dontEnums[i])) {
                        result.push(dontEnums[i]);
                    }
                }
            }
            return result;
        };
    }());
}

var CoBrowserManagerObjects = {
    COBROWSER           : "coBrowser",
    ALERTS              : "alerts",
    TOOLS               : "tools",
    COBROWSER_MANAGER   : "coBrowserManager"
}




// Create Base64 Object
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}



if(HbrCoBrowser == undefined) {
    var HbrCoBrowserConfig = new Object();
    try{
        if(verishow.cobrowsing_vars.coBrowserConfig == ""){
            HbrCoBrowserConfig = new Object();
            console.log("VeriShow co-browsing configuration is incomplete")
        }else{
            HbrCoBrowserConfig =  eval(verishow.cobrowsing_vars.coBrowserConfig);
        }
    }catch(e){
        try{
            HbrCoBrowserConfig = JSON.parse(verishow.cobrowsing_vars.coBrowserConfig);
        }catch(e){
            console.log("configuration faild!!!!!")
        }

    }

var HbrCoBrowser = {
    connector : null,
    config: null,
    initilized: false,
    bodySynced:false,
    isInit:false,
    //------- call functions on synced ------
    callFunctionArr:Array,
    callLzmaFunctionArr:Array,
    // on customer page ready dispatch
    init:function () {
        try{ this.fixConflicts(); }catch (e){};
        //       this.targe;        if(Device.isMSIE)            this.targe = parent;       else           this.targe = parent.parent.window;
        this.targe = parent;
        this.connector = new PostMessageManager(this,this.targe,window,"coBrowserIframe");
        if(HbrCoBrowserConfig != null){
            this.setConfig(HbrCoBrowserConfig)
        }
        this.connector.callFunction("iframeInit",Tools.getPath(),Tools.docWidth(),Tools.docHeight());
        window.onunload = Tools.Delegate(this,this.onunload);
        this.loadTime = new Date().getTime();
    },
    setConfig:function(config){
       this.callFunctionNow("setViwerMode",config.viewerMode);
       this.connector.callFunction("replaceConfig",config);
       this.config = config;
        // fix scroller css
        if(this.config.skipSetBodyHeightAuto == true)
        {
        	console.log("Configure Co-Browser: skip body height auto");
        }
        else
	        document.body.style.height = "auto";
    },
    setAllLinkToSelf:function(){
        // fix redirect all url on page
        var all = document.getElementsByTagName("a");
        for (var i=0, max=all.length; i < max; i++) {
            // Do something with the element here
            // TODO : add ignor list links
            all[i].target = "_self";
        }
    },
    onunload:function(){
        this.callFunction("onunload");
        this.connector.callFunction("onunload");
    },
    fixConflicts:function(){
        // fix prototype.js bug JSON.stringify
        if(window.Prototype) {
            delete Object.prototype.toJSON;
            delete Array.prototype.toJSON;
            delete Hash.prototype.toJSON;
            delete String.prototype.toJSON;
        }
    },
    // call remote function on coBrowserExpert.js
    callFunction:function(){
        var params = Array.prototype.slice.call(arguments)
        if(this.bodySynced){
            this.callFunctionNow.apply(this,params);
        }else{
            this.callFunctionArr.push(params);
        }
    },
    callFunctionNow:function(){
        var params = Array.prototype.slice.call(arguments);
        params.unshift("callFunction");
        this.connector.callFunction("runFunction",params);
    },
    // call remote function on and compress params by lzma coBrowserExpert.js
    callLzmaFunction:function(){
        var params = Array.prototype.slice.call(arguments);
        if(this.bodySynced){
            this.callLzmaFunctionNow.apply(this, params)
        }else{
            this.callLzmaFunctionArr.push(params)
        }
    },
    callLzmaFunctionNow:function(){
        var params = Array.prototype.slice.call(arguments);
        var functionName = params[0];
        params.shift()
        //console.log("4.1 callLzmaFunctionNow")
        this.connector.callFunction("callLzmaFunction",functionName,params);

    },
    runFunction:function(params){
        var functionName = params[0];
        params.shift();
        this[functionName].apply(this, params);
    },

    //------- Page sync status ----
    onPageOutSync:function(){
        this.callFunctionArr = new Array();
        this.callLzmaFunctionArr = new Array();
        this.bodySynced = false;
    },
    onPageSync:function(){
        this.bodySynced = true;
        for(var i = 0 ; i < this.callFunctionArr.length ; i++){
            this.callFunctionNow.apply(this,this.callFunctionArr[i]);
        }
        for(i = 0 ; i < this.callLzmaFunctionArr.length ; i++){
            this.callLzmaFunctionNow.apply(this,this.callLzmaFunctionArr[i]);
        }
        console.log("6 onPageSync "+(new Date().getTime()-this.loadTime))

    },
    //------- Manager -----
    extend:function(destination, source) {
        for (var property in source)
            destination[property] = source[property];
        return destination;
    },
    initCoBrowser:function(urlParams){
        this.setAllLinkToSelf();
        Tools.setUrlParams(urlParams)
        //
        console.log(JSON.stringify(this.config));
        //
        var base = location.href.match(/^(.*\/)[^\/]*$/)[1];
        this.callFunctionNow("setBase",base,location.href);
        this.connector.callFunction("showHideCoBrowser",true);
        //
        try{verishow.cobrowsing_vars.coBrowserCustomerFunction()}catch(e){
            try{coBrowserCustomerFunction()()}catch(e){}
        }
        // on coBrowserInit init log to  server
        console.log("1 page loaded "+location.href);
        console.log("2 initCoBrowser")
        if(this.initilized == false){
            try {
                // disable all verishow activity on coBrowsing
                verishow.utils.setCoBrowsingMode();
            } catch (e) {
            }
            this.initDOMListener();
        }
        this.initilized = true;

    },
    setURL:function(){
        debugger;
        var url = Tools.getPath();
        // log report
        var currentTitle=document.title;
        var originalUrl=window.location.href;
        var reportObj = {
            type : "cb",
            event: "linkClicked",
            src: "ihCoBrowser.js",
            data : {
                   url :  originalUrl,
                   currentTitle : currentTitle
            }
        }
        this.runHbrApiFunction("runFunctionAllObject","reportManagerApp.report",reportObj);
        //  change url string by config
        try{
            var regExp;
            for(var i = 0 ; i < this.config.urlConfig.length ; i++){
                regExp = this.config.urlConfig[i];
                url = url.replace(new RegExp(regExp[0],regExp[1]), regExp[2]);
            }
        }catch(e){
            console.error("setURL urlConfig faild "+e);
        }
        //
        this.connector.callFunction("setUrl",url,this.config);
        this.callFunction("setUrl",url,this.config);
    },
    //-----------  DOM Change Listener  --------------------
    mirrorClient:null,
    initDOMListener:function(){
        console.log("3 initDOMListener")
        this.onPageOutSync();
        document.iframeContentWindow = window;
        this.mirrorClient = new TreeMirrorClient(
            document
            ,
            {
                initialize: function(rootId, children) {
                    console.log("4 mirrorClient initialize")
                    HbrCoBrowser.callLzmaFunctionNow("applyDomChangeInitilize",'initialize',[rootId, children]);
                    try{ HbrCoBrowser.callLzmaFunctionNow("runExpertFunction",verishow.cobrowsing_vars.coBrowserConfigFunction.toString()) }catch(e){}
                    debugger;
                    HbrCoBrowser.setURL();
                    console.log("5 mirrorClient initialize body sended "+(new Date().getTime()-HbrCoBrowser.loadTime))
                },
                applyChanged: function(removed, addedOrMoved, attributes, text) {
                    HbrCoBrowser.callLzmaFunction("applyDomChange",'applyChanged', [removed, addedOrMoved, attributes, text]);
                },
                callFunction: function(data){
                    HbrCoBrowser.callFunction("applyDomChange",'runFunction',data);
                },
                callLzmaFunction:function(data){
                    HbrCoBrowser.callLzmaFunction("applyDomChange",'runFunction',data);
                },
                // run function on coBrowser.js
                runFunctionOnCoBrowser : function(data){
                    HbrCoBrowser.connector.callFunction("runFunction",data);
                },
                applyGlobalChange : function(change){
                    HbrCoBrowser.callLzmaFunction("applyDomChange",'applyGlobalChange',change);
                }

            }
            ,
            this.config )

    },
    mirrorClientRunFunction:function(data){
        this.mirrorClient.runFunction(data);
    },
    //---- Mobile events
    onMobileScroll:function(top,left){
        // simulate dom scroll by pass scroll params of mobile iframe container
        var item = new Object()
        item.target = document;
        item.left = left;
        item.top = top;
        this.mirrorClient.globalChangesClient.onMobileScroll(item)
    },
    onMobileResize:function(width,height){
        this.mirrorClient.globalChangesClient.onMobileResize(width,height);
    },
    // init coBrowser resizing
    initMobileListener:function(){
        this.callFunction("setCustomerIsMobile");
        ToolsEevents.addListener("onBodyResize",Tools.Delegate(this, this.onBodyResize));
        this.initMobileKeyboardListener();
    },
    // on body resize call from coBrowserCustomer.js
    onBodyResize : function(stageWidth,stageHeight){
        this.onMobileResize(stageWidth,stageHeight);
        this.connector.callFunction("setIframeSize",Tools.docWidth(),Tools.docHeight());
    },
    //-------------------------------------
    //----- Keyboard focus lisener --------
    //-------------------------------------
    initMobileKeyboardListener:function(){
        this.k = new MobileKeyboardManager();

        this.onKeyboardChange = Tools.Delegate(this, function (event) {
            this.connector.callFunction("onMobileKeyboardChange",event.status)
        });
        this.k.addListener("isMobileKeyboardOpen", this.onKeyboardChange)
    },
    //------- Tab remote runFunction --------
    // run on CoBrowserManager.js all functions availble local on CB
    // callFunction , callFunctionAll , callFunctionObject , runFunctionAllObject , runFunctionObject
    runTabApplicationFunction:function(){
        var params = Array.prototype.slice.call(arguments);
        // HbrCoBrowser.connector.callFunction("runFunctionOnStendAlon",["runCoBrowserManagerFunction","runFunctionAllObject"
        this.connector.callFunction("runFunctionOnStendAlon",["runCoBrowserManagerFunction","runFunction",params])
    },
    runFunctionFromTab:function(){
        var params = Array.prototype.slice.call(arguments);
        var functionName = params[0];
        params.shift();
        window[functionName].apply(null,params);
    },
    //----HBRApi remote runFunction ------
    runHbrApiFunction:function(){
        var params = Array.prototype.slice.call(arguments);
        params.unshift("hbrApiRunFunction");
        params.unshift("runFunctionAllObject");
        this.runTabApplicationFunction.apply(this,params);
    }
}
// on all function availble start Session
function initHBRCoBrowser() {
    if(Device.isIE9 == false && Device.isIE10 == false && /loaded|complete|interactive/.test(document.readyState) && HbrCoBrowserConfig.sendBodyByDelay == undefined){
        HbrCoBrowser.init();
    }else if( /loaded|complete/.test(document.readyState) && Tools.getBody() != null){
        if(HbrCoBrowserConfig.sendBodyByDelay != undefined){
            setTimeout(Tools.Delegate(HbrCoBrowser,HbrCoBrowser.init),HbrCoBrowserConfig.sendBodyByDelay)
        }else{
            HbrCoBrowser.init();
        }
    }else {
        setTimeout(initHBRCoBrowser, 100);
    }
}

setTimeout(initHBRCoBrowser, 100);
}

new Date().getTime()




// Events onSizeChange , onEndSession ,  onDragBegin , onDragEnd , onClose , onShow , onOpenURL , setIcon , connectionEstablish , showFillDiv
// coBrowserTools.js contain FloatingInIframe logic to manage iframe from iframe
// ---- flow Iframe
FloatingIframe = function(name){
// Event dispatcher
    this.name = name;
    this.storageName = "FloatingIframe_"+this.name;
    this.keyboardFocus = false;
    this.isMinimizeDown = true;
    this.animationSpeed = 0.5;
    this._listeners = {};
    this.paddingLeft = 20;
    this.paddingRight = 20;
    this.paddingTop = 20;
    this.paddingBottom = 20;
    this.isHideBackground = true;
    this.resizeEnable = true;
    this.isShow = true;
    this.buttonsWidth = 46;
    this.noMinimizeButtonPudding = 30;
    this.fixHeight = 53;
    this.expertImageSize = 39;
    this.expertImageTop = -6;
    this.headerHeight = 37;
    this.radius = 5;
    this.borderThin = 0;
    this.fillDivOpacity = 0.8;
    this.fillDivColor =  "#c7c7c7";
    this.dragDisableColor = "#FFFFFF";
    this.minimizePosition = 15;
    this.isSaveState = false;
    this.reloadOnAllTabs = false;
    this.init = Tools.Delegate(this,function(){
        this.initFocusState();
        // = foo;
        // load on multiple tabs
        if (typeof(Storage) !== "undefined") {
            var sessionStorageData = sessionStorage[this.storageName];
            if(sessionStorageData != undefined){
                // localstorage shared between all opened tabs
                var sd = JSON.parse(sessionStorageData);
                if(sd.isShow){
                   this.isSaveState = sd.isSaveState;
                    if(sd.isSaveState == false){
                        return;
                    }
                    this.setWindowSize(sd.width, sd.height);
                    this.setLocation(parseFloat(sd.offsetLeft), parseFloat(sd.offsetTop));
                    this.moveTo(parseFloat(sd.offsetLeft), parseFloat(sd.offsetTop));
                    this.setTitleText(sd.titleSpan);
                    this.setTitleStyle(sd.titleSpanStyle)
                    this.setIframeMinimize(sd.minimizeState)

                    this.openURL(sd.url);
                }
                // session storage availble only on the tab
            }
        } else {
            // no native support for HTML5 storage :(
            // maybe try dojox.storage or a third-party solution
        }
    })
    this.setIsSaveCurrentState = Tools.Delegate(this,function(status){
        this.isSaveState = status;
        this.saveCurrentState();
    }),
    this.saveCurrentState =  Tools.Delegate(this,function(){
        var saveData = new Object();
        saveData.url = this.url;
        saveData.isShow = this.isShow;
        saveData.titleSpan = this.titleSpan.innerHTML;
        saveData.titleSpanStyle = this.titleSpanStyle;
        saveData.width = this.oldWindowWidth;
        saveData.height = this.oldWindowHeight;
        saveData.offsetLeft = this.draggableDiv.style.left;
        saveData.offsetTop = this.draggableDiv.style.top;
        saveData.minimizeState = this.minimizeState;
        saveData.isSaveState = this.isSaveState;
        sessionStorage.setItem(this.storageName, JSON.stringify(saveData));
    });
    this.deleCurrentStateSave = function(){
        sessionStorage.removeItem(this.storageName);
    }
    this.coBrowserOpenURL = function(url){
        CoBrowser.openURL(url);
        if(url){
            this.deleCurrentStateSave();
        }
    },
    this.coBroserSocketSetSessionID = function(id){
        CoBrowser.setSessionID(id);
    },
    this.runFunction = function(params){
        var fName = params.shift();
        this[fName].apply(this, params);
    },
    this.runFunctionOnRoot = function(params){
        var fName = params.shift();
        window[fName].apply(window,params);
    }
    this.callFunctionCoBrowser = function(params){
        var fName = params.shift();
        CoBrowser[fName].apply(CoBrowser, params);
    },
    this.callFunction = function(){
        var params = Array.prototype.slice.call(arguments);
        this.connector.callFunction("runFunction",params);
    }
    this.onSessionStart = function(){
        this.fire({ type: "onSessionStart" , target: this});
    }
    this.addListener =  function(type, listener){
        if (typeof this._listeners[type] == "undefined"){
            this._listeners[type] = [];
        }

        this._listeners[type].push(listener);
    },

        this.fire =  function(event){
            if (typeof event == "string"){
                event = { type: event };
            }
            if (!event.target){
                event.target = this;
            }

            if (!event.type){  //falsy
                throw new Error("Event object missing 'type' property.");
            }

            if (this._listeners[event.type] instanceof Array){
                var listeners = this._listeners[event.type];
                for (var i=0, len=listeners.length; i < len; i++){
                    listeners[i].call(this, event);
                }
            }
        },

        this.removeListener =  function(type, listener){
            if (this._listeners[type] instanceof Array){
                var listeners = this._listeners[type];
                for (var i=0, len=listeners.length; i < len; i++){
                    if (listeners[i] === listener){
                        listeners.splice(i, 1);
                        break;
                    }
                }
            }
        }
        this.loadDiv = function(bodyUrl,obj){
            $hbr.ajax({url:bodyUrl,context: document.body, success: Tools.Delegate(this,function(response){
                var divTempInitName = "hbrApiDivInit_"+new Date().getTime();
                response = response.replace("hbrApiDivInit",divTempInitName);
                response = response.replace("<html","<div")
                response = response.replace("</html","</div")


                // wrap it in jQuery, now it's a collection
                this.loadedDivElement = $hbr(response);
                $hbr("body").prepend(this.loadedDivElement)
                window[divTempInitName](this,obj)
                this.connector.callFunction("onDivInit");
            })});
        }
      this.removeDiv = function(){
          try{ this.loadedDivElement.remove(); }catch(err){}
          //$hbr("#"+name).remove();
      }
        //--- private functions ---
    // transparent box to allaw move events dispatchet on top of iframe


    this.initFocusState = function(){
        if (/*@cc_on!@*/false) { // check for Internet Explorer
            document.onfocusin = this.onFocus;
            document.onfocusout = this.onBlur;
        } else {
            window.onfocus = this.onFocus;
            window.onblur = this.onBlur;
        }
        this.onFocus();
    },
    this.onFocus = Tools.Delegate(this,function(){
        this.isOnFocus = true;
        this.connector.callFunction("onFocusChange",true);
    });
    this.onBlur = Tools.Delegate(this,function(){
        this.isOnFocus = false;
        this.connector.callFunction("onFocusChange",false);
    });

    this.showSellection = function(top, left, width, height) {
        this.sellecionBox.style.visibility = "visible";
        this.sellecionBox.style.left = left + "px";
        this.sellecionBox.style.top = top + "px";
        this.sellecionBox.style.width = width + "px";
        this.sellecionBox.style.height = height + "px";
        this.sellecionBox.style.visibility = "visible";
        this.sellecionBox.style["z-index"] = 20000;
    }
    this.hideSellection = Tools.Delegate(this,function(){
        this.sellecionBox.style.visibility = "hidden";
    });
    this.stateDirection = 1;
    this.headerStateColor = 1;
    this.headerBlinkTimerHandler = null;
    this.headerBlink = Tools.Delegate(this,function(){
        // header blink on message incom
        if(this.minimizeState == this.SIZE_MINIMIZE){
            this.headerStateColor = 0;
            this.headerBlinkTimer();
        }
    })

    this.headerBlinkTimer = Tools.Delegate(this,function(){
        this.headerStateColor++;
        if(this.headerStateColor > 1){
            this.headerStateColor = 0;
            // TODO: Blink!!!!!
            //this.headerDiv.style.background = this.headerColor
            //this.closeDiv.style.background = this.headerColor
            //this.minimizeDiv.style.background = this.headerColor
        }else{
            //this.headerDiv.style.background = this.headerColor
            //this.closeDiv.style.background = this.buttonsColor
            //this.minimizeDiv.style.background = this.buttonsColor
            if(this.minimizeState != this.SIZE_MINIMIZE){
                return;
            }
        }
        window.clearTimeout(this.headerBlinkTimerHandler);
        this.headerBlinkTimerHandler = setTimeout(this.headerBlinkTimer,1000);
    });
    this.minimizeClickHandlerConfirm = Tools.Delegate(this,function(){
        if(this.resizeEnable == false){
            return;
        }
        if(this.minimizeState == 1){
            this.minimizeState = 2;
        }else if(this.minimizeState == 2){
            this.minimizeState = 1;
        }
        // set keyboard focus to false
        this.setIframeMinimize(this.minimizeState);
        this.onMobileKeyboardChange(false);
    });
    // drag window
    this.dragBegin = Tools.Delegate(this,function () {
        this.windowManager.updateDragLimits();
        if(this.minimizeState == this.SIZE_FULL || this.isShow == false){
            return;
        }
        this.dragbleDivTransparent.style.visibility = "visible";
        this.dragbleIframeDivTransparent.style.visibility = "visible";
        this.dragbleIframeDivTransparent.style.width = Tools.docWidth()+"px";
        this.dragbleIframeDivTransparent.style.height = Tools.docHeight()+"px";
        this.fire({ type: "onDragBegin" , target: this});
    });
    this.dragEnd = Tools.Delegate(this,function () {
        this.dragbleDivTransparent.style.visibility = "hidden";
        this.dragbleIframeDivTransparent.style.visibility = "hidden";
        this.dragbleIframeDivTransparent.style.width = "0px";
        this.dragbleIframeDivTransparent.style.height = "0px";
        this.fire({ type: "onDragEnd" , target: this});
        this.saveCurrentState();
        //this.saveIframeLocation();
    });
    this.minimizeButtonVisibility = Tools.Delegate(this,function(status){
       if(status && this.resizeEnable){
           if(this.minimizeState == this.SIZE_MINIMIZE){
               this.maxemizeImage.style.visibility = "visible";
           }else{
               this.minimizeImage.style.visibility = "visible";
           }
           this.minimizeDiv.style.visibility = "visible";
       }else{
           this.minimizeImage.style.visibility = "hidden";
           this.maxemizeImage.style.visibility = "hidden";
           this.minimizeDiv.style.visibility = "hidden";
       }
        this.saveCurrentState();
    });
    this.close = Tools.Delegate(this,function() {
        this.isShow = false;
        this.expertImage.style.visibility = "hidden";
        this.showLogo(false);
        this.ihIframe.visibility = "hidden";
        this.ihIframe.style.width = "0px";
        $hbr(this.draggableDiv).hide();
        this.dragbleDivTransparent.style.visibility = "hidden";
        this.minimizeButtonVisibility(false)
        this.removeDiv();
        this.fire({ type: "onClose" , target: this});
    });
    this.show = Tools.Delegate(this,function() {
        this.isShow = true;
        this.ihIframe.visibility = "visible";
        $hbr(this.draggableDiv).show();
        this.minimizeButtonVisibility(true);
        this.setIframeMinimize(this.minimizeState)
        this.setIconStatus();
        this.fire({ type: "onShow" , target: this});
        this.saveCurrentState();
    });
    this.openURL = Tools.Delegate(this,function(url) {
        this.url = url;
        this.onUnload();
        this.ihIframe.src = url;
        this.show();
        this.enabldeEndSessionOnRoot(true);
        //this.ihIframe.style.display = "none";
        this.fire({ type: "onOpenURL" , target: this});
        this.saveCurrentState();
    });
    this.onUnload = Tools.Delegate(this,function(){
        this.ihIframe.style.display = "none";
        $hbr(this.loading).show();
        //setTimeout(this.showIframeContent,1000);
    });
    this.showIframeContent = Tools.Delegate(this,function(){
        $hbr(this.ihIframe).fadeIn();
        $hbr(this.loading).hide();
    })
    this.connectionEstablish = function(url){
        this.url = url;
        this.saveCurrentState();
        this.fire({ type: "connectionEstablish" , target: this});
    },
    this.redirect = Tools.Delegate(this,function(url) {
    debugger;
        document.location = url;
    });

    //---  public functions ---
    this.enableDrag = function(status){
        this.draggableDiv.dragEnabled = status;
    };
    this.enableResize = function(status){
        this.resizeEnable = status;
        this.minimizeButtonVisibility(status);
    }

    this.oldBodyHeight = $hbr('body').css('height');
    this.oldBodyOverflow = $hbr('body').css('overflow');
    this.oldHTMLHeight = $hbr('html').css('height');
    this.oldHTMLOverflow = $hbr('html').css('overflow');

    this.showBodyScroller = function(status){
        if(status){
            $hbr('body').css({
                'overflow':  this.oldBodyOverflow,
                'height': this.oldBodyHeight
            });
            $hbr('html').css({
                'overflow': this.oldHTMLOverflow,
                'height': this.oldHTMLHeight
            });
        }else{

            //this.oldBodyHeight = $hbr('body').css('height');
            //this.oldBodyOverflow = $hbr('body').css('overflow');
            //this.oldHeadHeight = $hbr('html').css('height');
            //this.oldHeadOverflow = $hbr('html').css('overflow');

            $hbr('html, body').css({
                'overflow': 'hidden',
                'height': '100%'
            });
        }
    };

    this.SIZE_FULL = 0;
    this.SIZE_NORMAL = 1;
    this.SIZE_MINIMIZE = 2;
    this.lastStatus = -1;

    this.initExpertIcon = function(){
        if(Device.isMobile){
            this.expertImage.style.top = "0px";
        }else{
            this.expertImage.style.top = this.expertImageTop+"px";
        }
    },
        this.setIframeMinimize = function(status){
            if (status instanceof Array) {
                status = status[0];
            }
            this.showLogo(true);
            if(this.lastMinimizeState == this.SIZE_FULL && status != this.SIZE_FULL){
                setTimeout(window.scrollTo,10,this.windowManager.lastScrollLeft,this.windowManager.lastScrollTop)
                setTimeout(this.setOffset,10,this.windowManager.lastOffsetLeft,this.windowManager.lastOffsetTop)
                //setTimeout(this.setOffset,10,0,0)
            }
            this.lastMinimizeState = this.minimizeState;
            this.minimizeState = status;
            var changet = false;
            if(this.lastMinimizeState != this.minimizeState){
                changet = true;
            }
            // enable drag
            this.enableDrag(true);
            if(changet)
                this.mobileZoomFix(Tools.innerWidth());

            if(this.minimizeState == this.SIZE_FULL){
                this.headerDiv.style.cursor = "default";
                this.showBodyScroller(false);
                Tools.setMetaTag("width=device-width, initial-scale=1,  maximum-scale=1 , minimum-scale=1 , user-scalable=0") ;
                // fill all screen
                this.setWindowSize(Tools.innerWidth()-this.paddingRight,Tools.innerHeight()-this.paddingBottom-this.fixHeight,false);
                this.draggableDiv.style.opacity = 1;
                if(this.keyboardFocus == false){
                    if(this.isHideBackground){
                        window.scrollTo(0,2);
                        this.moveTo(this.paddingLeft,this.paddingTop);
                        setTimeout(this.moveTo,100,this.paddingLeft,this.paddingTop);
                    }else{
                        window.scrollTo(0,Tools.docHeight());
                        this.moveTo(Tools.getScrollLeft()+this.paddingLeft,Tools.getScrollTop()+this.paddingTop);
                    }
                }
                // move to 0 0 location
                setTimeout(this.minimizeButtonVisibility,100,false);
                this.enableDrag(false);
            }else{
                this.showBodyScroller(true);
                this.minimizeButtonVisibility(true);
                this.ihIframe.style.height = this.ihIframe.oldheight;
                this.ihIframe.style.width = this.ihIframe.oldWidth;
                this.headerDiv.style.cursor = "move"

                this.draggableDiv.style.height = this.draggableDiv.oldheight;
                this.draggableDiv.style.width = this.draggableDiv.oldWidth;
                this.headerDiv.style.width = this.headerDiv.oldWidth;
                this.headerDiv.style.height = this.headerDiv.oldheight;

                this.dragbleDivTransparent.style.height = this.dragbleDivTransparent.oldheight;
                this.dragbleDivTransparent.style.width = this.dragbleDivTransparent.oldWidth;
            }
            // button mode

            this.minimizeImage.style.visibility = "hidden";
            this.maxemizeImage.style.visibility = "hidden";
            if(this.resizeEnable){
                if(this.isMinimizeDown &&  (Tools.innerHeight()-(this.getCurrentHeight()+this.windowManager.lastOffsetTop)) < 20 ){
                    // move down on minimize if its on boton
                    var left  = Tools.getScrollLeft()+this.windowManager.lastOffsetLeft;
                    var top = Tools.innerHeight()-this.getCurrentHeight()+this.windowManager.lastScrollTop-5;
                    this.moveTo(left,top);
                }

                if(Device.isTablet && this.minimizeState == this.SIZE_NORMAL){
                    // normals mode
                    this.maxemizeImage.style.visibility = "visible";
                    this.draggableDiv.style.opacity = 1;
                }else  if(this.minimizeState == this.SIZE_NORMAL || this.minimizeState == this.SIZE_FULL){
                    // normals mode
                    this.minimizeImage.style.visibility = "visible";
                    this.draggableDiv.style.opacity = 1;
                }

            }


            if(this.minimizeState == this.SIZE_MINIMIZE){
                var inH = Tools.innerHeight();
                var cH = this.getCurrentHeight();
                var oT = this.windowManager.lastOffsetTop;
                var st = this.windowManager.lastScrollTop;
                if(this.isMinimizeDown &&  (Tools.innerHeight()-(this.getCurrentHeight()+this.windowManager.lastOffsetTop)) < 20 ){
                    // move down on minimize if its on boton
                    var left  = Tools.getScrollLeft()+this.windowManager.lastOffsetLeft;
                    var top = Tools.getScrollTop()+this.windowManager.lastOffsetTop+this.getCurrentHeight()-this.headerHeight-5;
                    this.moveTo(left,top);
                    setTimeout(this.windowManager.onDragEnd,400);
                }
                // minumize
                if(this.resizeEnable){
                    this.maxemizeImage.style.visibility = "visible";
                }
                // set minimize mode
                this.ihIframe.style.height = "0px";
                this.draggableDiv.style.height = this.headerHeight+"px";
                this.dragbleDivTransparent.style.height = "0px";
                this.draggableDiv.style.opacity = 0.8;
                this.showLogo(false);
            }
            if(changet)
                this.mobileZoomFix(Tools.innerWidth());
            if(this.lastStatus != this.minimizeState){
                this.fire({ type: "onSizeChange" , target: this });
                this.connector.callFunction("onSizeChange",this.minimizeState,this.lastStatus)
            }
            if(this.resizeEnable){
                this.expertImage.style.left = (this.buttonsWidth)+"px"
                this.titleDiv.style.left = this.buttonsWidth+"px";
                this.titleDiv.style.width = parseInt(this.headerDiv.style.width, 10)-(this.buttonsWidth*2)+"px"
            }else{
                this.expertImage.style.left = (this.buttonsWidth-this.noMinimizeButtonPudding)+"px"
                this.titleDiv.style.left = (this.buttonsWidth-this.noMinimizeButtonPudding)+"px";
                this.titleDiv.style.width = (this.width-this.buttonsWidth)+"px";
                this.titleDiv.style.width = parseInt(this.headerDiv.style.width, 10)-(this.buttonsWidth)+"px"
            }
            this.updateStyle();

    }
    this.updateStyle = function(){

        this.closeDiv.jq.removeClass( "fullSize" );
        this.closeDiv.jq.removeClass( "normalSize" );
        this.closeDiv.jq.removeClass( "minimizeSize" );

        this.minimizeDiv.jq.removeClass( "fullSize" );
        this.minimizeDiv.jq.removeClass( "normalSize" );
        this.minimizeDiv.jq.removeClass( "minimizeSize" );

        this.headerDiv.jq.removeClass( "fullSize" );
        this.headerDiv.jq.removeClass( "normalSize" );
        this.headerDiv.jq.removeClass( "minimizeSize" );

        this.titleSpan.jq.removeClass( "normalSize" );
        this.titleSpan.jq.removeClass( "minimizeSize" );
        this.titleSpan.jq.removeClass( "fullSize" );

        switch (this.minimizeState){
            case this.SIZE_NORMAL:
                this.closeDiv.jq.addClass( "normalSize" );
                this.minimizeDiv.jq.addClass( "normalSize" );
                this.headerDiv.jq.addClass( "normalSize" );
                this.titleSpan.jq.addClass( "normalSize" );
                break;
            case this.SIZE_MINIMIZE:
                this.closeDiv.jq.addClass( "minimizeSize" );
                this.minimizeDiv.jq.addClass( "minimizeSize" );
                this.headerDiv.jq.addClass( "minimizeSize" );
                this.titleSpan.jq.addClass( "minimizeSize" );
                break;
            case this.SIZE_FULL:
                this.closeDiv.jq.addClass( "fullSize" );
                this.minimizeDiv.jq.addClass( "fullSize" );
                this.headerDiv.jq.addClass( "fullSize" );
                this.titleSpan.jq.addClass( "fullSize" );
                break
        }
        this.titleDiv.style.height = this.headerHeight+"px";
        this.lastStatus = this.minimizeState;
        this.saveCurrentState();
    }
    this.minimize = Tools.Delegate(this,function(){
        //
        this.setIframeMinimize(this.SIZE_MINIMIZE);
    })
    this.normal = Tools.Delegate(this,function(){
        this.setIframeMinimize(this.SIZE_NORMAL);
    });
    this.fullScreen = Tools.Delegate(this,function(){
        this.setIframeMinimize(this.SIZE_FULL);
    });
    this.setTitleText = Tools.Delegate(this,function(txt){
        this.titleSpan.innerHTML = txt;
        this.saveCurrentState();
    });
    // example {'color':'blue','font-size':'12px','font-family':'fantasy'}
    this.setTitleStyle = Tools.Delegate(this,function(style){
        $hbr(this.titleSpan).css(style);
        this.titleSpanStyle = style;
        this.saveCurrentState();
    });


    this.setWindowSize = Tools.Delegate(this,function(width,height,saveSize){
            if(width == this.oldWindowWidth && height == this.oldWindowHeight && saveSize){
                return;
            }
            isSizeChange = false;
            if(width != this.oldWindowWidth || height != this.oldWindowHeight){
                isSizeChange = true;
            }
            if(this.minimizeState == this.SIZE_FULL && this.keyboardFocus){
                if(Tools.isIos){
                    return;
                }else{
                    if(width != this.oldWindowWidth || height > this.oldWindowHeight){
                        // allaw resize
                    }else{
                        return;
                    }
                }
            }
            if(height == 101){
                // block resize for iPhone 4
                return;
            }
            if(Device.isMobile && Device.isIos && this.keyboardFocus && height > 150){
                try{   this.windowManager.isAutoMove = false; }catch (e){};
                return;
            }else if(Device.isMobile && Device.isIos){
                try{   this.windowManager.isAutoMove = true; }catch (e){};
            }
            this.oldWindowWidth = width;
            this.oldWindowHeight = height

            this.ihIframe.style.width = (width) + "px"
            this.ihIframe.style.height = (height) + "px"

            this.draggableDiv.style.width = (width ) + "px";
            this.draggableDiv.style.height = (parseInt(height) + this.headerHeight) + "px";

            this.dragbleDivTransparent.style.width = (width ) + "px";
            this.dragbleDivTransparent.style.height = (height ) + "px";

            this.headerDiv.style.width = (width) + "px";

            // save old params
            if(saveSize == undefined){
                this.ihIframe.oldheight = this.ihIframe.style.height;
                this.draggableDiv.oldheight =  this.draggableDiv.style.height;
                this.headerDiv.oldheight =  this.headerDiv.style.height;
                this.dragbleDivTransparent.oldheight =  this.dragbleDivTransparent.style.height;

                this.ihIframe.oldWidth = this.ihIframe.style.width;
                this.draggableDiv.oldWidth =  this.draggableDiv.style.width;
                this.headerDiv.oldWidth =  this.headerDiv.style.width;
                this.dragbleDivTransparent.oldWidth =  this.dragbleDivTransparent.style.width;

                // after size update current state
                this.setIframeMinimize(this.minimizeState);
            }
            if(isSizeChange){
                this.connector.callFunction("fixResizeBug",width,height);
            }
            if(this.minimizeState != this.SIZE_FULL){
                this.windowManager.onScroll();
            }
            this.saveCurrentState();
        }

    )
    this.setNormalSize = Tools.Delegate(this,function(width,height){
        this.ihIframe.style.width = (width + 12) + "px"
        this.draggableDiv.style.width = (width) + "px";
        this.draggableDiv.style.height = (parseInt(height) + 50) + "px";
        this.dragbleDivTransparent.style.width = (width) + "px";
        this.dragbleDivTransparent.style.height = (height + 10) + "px";
        this.headerDiv.style.width = (width) + "px";
        this.setIframeMinimize(this.minimizeState);
    })
    this.setLocation = Tools.Delegate(this,function(left,top){
        this.draggableDiv.style.top = top+"px";
        this.draggableDiv.style.left = left+"px";
        this.windowManager.lastOffsetLeft = top+"px";
        this.windowManager.lastOffsetTop = left+"px";
    });
    this.moveTo = Tools.Delegate(this,function(left,top){ // left,top
        this.draggableDivY.setBegin(parseFloat(this.draggableDiv.style.top));
        this.draggableDivX.setBegin(parseFloat(this.draggableDiv.style.left));
        // animate to new location
        this.draggableDivY.setBegin(parseFloat(this.draggableDiv.style.top));
        this.draggableDivX.setBegin(parseFloat(this.draggableDiv.style.left));

        // animate to new location
        this.draggableDivY.continueTo(top, this.animationSpeed)
        this.draggableDivX.continueTo(left, this.animationSpeed)

        var offsetLeft = left-Tools.getScrollLeft();
        var offsetTop = top-Tools.getScrollTop();

        this.windowManager.offsetTop = offsetTop;
        this.windowManager.offsetLeft = offsetLeft;
        window.clearTimeout(this.saveCurrentStateTimeHandler);
        this.saveCurrentStateTimeHandler = setTimeout(this.saveCurrentState,2000,left,top);
    });
    this.moveToCenter = Tools.Delegate(this,function(){
        var left  = Tools.getScrollLeft()+(Tools.innerWidth()-width)/2;
        var top = Tools.getScrollTop()+(Tools.innerHeight()-height)/2;
        this.moveTo(left,top);
    });
    this.setOffset = Tools.Delegate(this,function(left,top){
        if(left == -1){
            return;
        }
        this.windowManager.offsetTop = top;
        this.windowManager.offsetLeft = left;
        this.windowManager.onScroll();
        this.saveCurrentState();
    })
    this.setIcon = Tools.Delegate(this,function(iconURL){
        this.agentImg = iconURL;
        this.setIconStatus();
        this.saveCurrentState();
    })
    this.setPoweredBy = Tools.Delegate(this,function(imgURL,y,x){
        if(imgURL == "none"){
            return;
        }
        var top = y;
        var right = x;
        if(imgURL == undefined){
            imgURL = this.poweredByImg;
            top = "6"
            right = 8;
        }
        this.poweredBy.innerHTML = '<img style="position: absolute; right:'+(this.buttonsWidth+right)+'px; top: '+top+'px; pointer-events : none; " SRC="'+imgURL+'">';
        this.saveCurrentState();
    })
    this.setIconStatus = Tools.Delegate(this,function(){
        if(this.agentImg != null){
            this.expertImage.innerHTML = '<span class="floatingIframe-image-wrap custom" style="position:relative; display:inline-block; background:url('+this.agentImg+') no-repeat center center;"><img src="'+this.agentImg+'" style="opacity: 0;"></span>'

            this.setShowIconStatus(true)
        }else{
            this.setShowIconStatus(false);
        }
    });
    this.setLogo = Tools.Delegate(this,function(url){
        if(url == null){
            this.logoDiv.innerHTML =  '';
        }else{
            this.logoDiv.innerHTML =  '<img class="floatingIframe-logo-image custom" src="'+url+'" border="none" />';
        }
        this.showLogo(true);
    });
   this.showLogo = Tools.Delegate(this,function(status){
       if(status && this.minimizeState != this.SIZE_MINIMIZE){
           this.logoDiv.style.visibility = "visible";
       }else{
           this.logoDiv.style.visibility = "hidden";
       }
   })
    this.setShowIconStatus  = Tools.Delegate(this,function(status){
        if(status){
            this.expertImage.style.visibility = "visible";
        }else{
            this.expertImage.style.visibility = "hidden";
        }
    })
    this.mobileZoomFix = Tools.Delegate(this,function(width){
        if (Device.isIos) {
            if(Device.isTablet){
                //this.mobileMetaTag.content = "width=device-width, initial-scale=1, maximum-scale=2 minimum-scale=1";
                // if full screen
                if(this.minimizeState == this.SIZE_FULL){
                    Tools.setMetaTag("width=device-width, initial-scale=1, maximum-scale=1 minimum-scale=1 , user-scalable=no");
                }else{
                    Tools.setMetaTag("user-scalable=yes, initial-scale=0.8, maximum-scale=2, minimum-scale=1 ,  width=device-width");
                }
            }else{
                //this.mobileMetaTag.content = "width=device-width, initial-scale=1,  maximum-scale=1 , minimum-scale=1 , user-scalable=1" ;
                if(this.minimizeState == this.SIZE_FULL){
                    Tools.setMetaTag("width=device-width, initial-scale=1,  maximum-scale=1 , minimum-scale=1 , user-scalable=no") ;
                }else{
                    if (width <= 300) {
                        Tools.setMetaTag("width=device-width, initial-scale=1, maximum-scale=1 , minimum-scale=0.65");
                    }
                    if (width > 300) {
                        Tools.setMetaTag("width=device-width, initial-scale=1,  maximum-scale=1 , minimum-scale=0.4");
                    }
                }

            }
        } else if (Device.isAndroid) {
            if(Device.isTablet){
                if(this.minimizeState == this.SIZE_FULL){
                    Tools.setMetaTag("width=device-width, initial-scale=1, maximum-scale=1 minimum-scale=1");
                }else{
                    Tools.setMetaTag("user-scalable=no, initial-scale=0.8, maximum-scale=2, minimum-scale=0.4 ,  width=device-width");
                }
            }else{
                Tools.setMetaTag("user-scalable=no, initial-scale=1,maximum-scale=1, minimum-scale=0.5 , width=device-width");
            }
        }
    });

    // run remote from iframe content
    this.onMobileKeyboardChange = function(status){
        // setOffset
        this.keyboardFocus = status;
        this.windowManager.keyboardFocus = status;
        if(status){
            if(Device.isIos && Device.isMobile){
                this.windowManager.isAutoMoveHeight = false;
            }
            //this.windowManager.autoMove(false);
        }else{
            if(this.minimizeState == this.SIZE_FULL){
                this.setIframeMinimize(this.minimizeState);
            }else{

                //this.windowManager.autoMove(true);
                this.windowManager.isAutoMoveHeight = true;
                // move window to visble area
                this.windowManager.onDragEnd();

            }
        }
    }
    // --- Init iframe window ----


    // vars

    this.agentImg = typeof agentImg !== 'undefined' ? agentImg : null;
    this.windowName = typeof iframeId !== 'undefined' ? windowName : "ihCoBrowser_"+this.name+"_";
    this.isEndSessiuonByRoot = true;
    this.minimizeState = 1; // 0 - full screen , 1 - small , 2 - minimized
    this.lastMinimizeState = 1;
    // global functions
    this.endSessionClickHandlerConfirm = Tools.Delegate(this,function(event){
        event.preventDefault();
        if(this.isEndSessiuonByRoot){
            this.fireEndSession();
        }else{
            this.connector.callFunction("onEndSessionHandler");
        }
    });
    this.fireEndSession = Tools.Delegate(this,function(event){
        this.showFillDiv(false);
        this.deleCurrentStateSave();
        this.fire({ type: "onEndSessionHandler" , target: this});
    });
    this.enabldeEndSessionOnRoot = Tools.Delegate(this,function(status){
        this.isEndSessiuonByRoot = status;
    });
    this.getCurrentHeight = function(){
        return parseFloat(this.draggableDiv.style.height);
    }
    this.getCurrentWidth = function(){
        return parseFloat(this.ihIframe.style.width)
    }
    // fill Div
    this.fillDiv = document.createElement('div');
    this.fillDiv.id = this.windowName+"ihFillDiv"
    this.fillDiv.style.width = "100%";
    this.fillDiv.style.height = "100%";
    this.fillDiv.style.backgroundColor = this.fillDivColor;
    this.fillDiv.style.position = "fixed";
    this.fillDiv.style.left = "0px";
    this.fillDiv.style.top = "0px";
    this.fillDiv.style.opacity = this.fillDivOpacity;
    this.showFillDiv = Tools.Delegate(this,function(status){
        if(status){
            this.fillDiv.style.visibility = "visible";
            this.fillDiv.style.zIndex = "998";
        }else{
            this.fillDiv.style.visibility = "hidden";
        }
    });
    this.showFillDiv(false);
    // elements
    this.ihIframe = document.createElement('iframe');
    this.ihIframe.allowTransparency="true";
    this.ihIframe.id = this.windowName+"ihIframe";

    this.draggableDiv = document.createElement("div");
    this.draggableDiv.id = this.windowName+"draggableDiv";

    this.closeDiv = document.createElement("div");
    this.closeDiv.id = this.windowName+"closeDiv";
    this.closeDiv.className = "floatingIframe-buttons custom";
    this.minimizeDiv = document.createElement("div");
    this.minimizeDiv.id = this.windowName+"minimizeDiv";
    this.minimizeDiv.className = "floatingIframe-buttons custom";
    this.expertImage = document.createElement("div");
    this.expertImage.id = this.windowName+"expertImage";
    // logo element
    // texts Logo
    this.logoDiv = document.createElement("div");
    this.logoDiv.id = this.windowName+"logoDiv";
    this.logoDiv.className = "floatingIframe-logo-div custom";

    // texts Logo
    this.titleDiv = document.createElement("div");
    this.titleDiv.id = this.windowName+"titleDiv";
    this.titleSpan = document.createElement("span");
    this.titleSpan.className = "floatingIframe-title-span custom";

    this.titleSpan.id = this.windowName+"titleSpan";
    this.titleDiv.style.position = 'absolute';
    this.titleDiv.style.display = "table";
    $hbr(this.titleSpan).css({
        "display":"table-cell",
        "vertical-align":"middle",
        "text-align":"center",
        "cursor": "move"
    })
    this.titleDiv.appendChild(this.titleSpan);

    this.poweredBy= document.createElement("div");
    this.poweredBy.id = this.windowName+"poweredBy";
    this.minimizeButton = document.createElement("div");
    this.minimizeButton.id = this.windowName+"minimizeButton";
    this.headerDiv = document.createElement("div");
    this.headerDiv.id = this.windowName+"headerDiv";


    this.loading= document.createElement("div");
    this.loading.id = this.windowName+"loading";
    this.loading.style.position = "absolute";
    this.loading.style.top = "50%";
    this.loading.style.left = "46%";
    this.loading.innerHTML = '<i style="font-size:40px" class="fa fa-spinner fa-pulse custom"></i>';

    this.dragbleDivTransparent = document.createElement("div");
    this.dragbleDivTransparent.id = this.windowName+"dragbleDivTransparent";

    this.dragbleIframeDivTransparent = document.createElement("div");
    this.dragbleIframeDivTransparent.id = this.windowName+"dragbleIframeDivTransparent";

    this.sellecionBox = document.createElement("div");
    this.sellecionBox.id = this.windowName+"sellecionBox";

    this.sellecionBoxBackground = document.createElement('div');
    this.sellecionBoxBackground.id = this.windowName+"sellecionBoxBackground";

    this.draggableDiv.style.position = "absolute";
    this.draggableDiv.style.width = "0px";
    this.draggableDiv.style.height = "0px";
    this.draggableDiv.style.zIndex = "9999999";
    this.draggableDiv.style.borderRadius = this.radius+"px";
    // border
    this.draggableDiv.style["border-width"] = this.borderThin+"px";
    this.draggableDiv.style["border-style"] = "solid";
    this.draggableDiv.style.left = this.initX + "px";
    this.draggableDiv.style.top = this.initY + "px";
    //this.draggableDiv.style.display = "none";
    this.closeDiv.innerHTML =  '<span id="closeSpan" class="closeSpan custom"> </span>';

    this.closeDiv.style.cursor = "pointer";
    this.minimizeDiv.style.cursor = "pointer";

    // '<img style="position: absolute; left:'+(this.buttonsWidth+57)+'px; top: 10px; pointer-events : none; " SRC="' + Tools.applicationPath + 'com_hbrlabs/UI/coBrowser/assets/liveHelp.png">';
    this.minimizeButton.innerHTML = ' <a style="z-index: 2 ;  position: absolute ; right:'+(this.minimizePosition+20)+'px; top: 12px"><span class="minimizeSpan custom"></span><img style="visibility: hidden;" src="' + Tools.applicationPath + 'resources/images/max.png" alt="maxemize" border="none" /> </a>';
    this.minimizeImage = this.minimizeButton.children[0].children[0];
    this.maxemizeImage = this.minimizeButton.children[0].children[1];



    this.sellecionBoxBackground.style.backgroundColor = this.dragDisableColor;
    this.sellecionBoxBackground.style.opacity = "0.3"
    this.sellecionBoxBackground.style.width = "100%";
    this.sellecionBoxBackground.style.height = "100%";
    this.sellecionBoxBackground.style["pointer-events"] = "none";

    this.sellecionBox.style.border = "4px solid ";
    this.sellecionBox.style["border-radius"] = "2px"
    this.sellecionBox.style["pointer-events"] = "none";
    this.sellecionBox.appendChild(this.sellecionBoxBackground);
    this.sellecionBox.style.position = "absolute";
    this.showSellection(0, 0, 0, 0);
    this.sellecionBox.style.visibility = "hidden";

    try {
        this.sellecionBox.addEventListener("touchstart", this.hideSellection);
    } catch (e) {

    }
    this.sellecionBox.addEventListener("click", this.hideSellection);

    this.expertImage.innerHTML = '';
    this.expertImage.style.visibility = "hidden"


    this.ihIframe.frameBorder = "0"
    this.ihIframe.style.position = "absolute";
    this.ihIframe.style.top = this.headerHeight + "px";
    this.ihIframe.style.left = "0px";
    this.ihIframe.style.borderBottomLeftRadius = this.radius+"px";
    this.ihIframe.style.borderBottomRightRadius = this.radius+"px";


    // alpha
    this.dragbleDivTransparent.style.position = "absolute";
    this.dragbleDivTransparent.style.top = this.headerHeight + "px";
    this.dragbleDivTransparent.style.backgroundColor = this.dragDisableColor;
    this.dragbleDivTransparent.style.opacity = 0.4;
    this.dragbleDivTransparent.style.visibility = "hidden";

    this.dragbleIframeDivTransparent.style.position = "absolute";
    this.dragbleIframeDivTransparent.style.top = "0px";
    this.dragbleIframeDivTransparent.style.left = "0px";
    this.dragbleIframeDivTransparent.style.backgroundColor = this.dragDisableColor;
    this.dragbleIframeDivTransparent.style.opacity = 0;
    this.dragbleIframeDivTransparent.style.visibility = "hidden";

    this.draggableDiv.style["border-radius"] = this.radius + "px";
    this.draggableDiv.style["box-sizing"] = "content-box";
    this.draggableDiv.className = "floating-iframe-backround-div";
    this.draggableDivY = new IHTween(this.draggableDiv.style, 'top', IHTween.regularEaseInOut, 5, 500, 1, 'px');
    this.draggableDivY.addListener({onMotionStopped:Tools.Delegate(this,this.saveCurrentState)});
    this.draggableDivX = new IHTween(this.draggableDiv.style, 'left', IHTween.regularEaseInOut, 5, 500, 1, 'px');
    this.draggableDivX.addListener({onMotionStopped:Tools.Delegate(this,this.saveCurrentState)});
    this.closeDiv.style.width = this.buttonsWidth+this.borderThin+"px";
    this.closeDiv.style.height = this.headerHeight+"px";
    this.closeDiv.style["border-top-right-radius"] = this.radius + "px";
    this.closeDiv.style.position = "absolute"
    this.closeDiv.style.right = "0px";

    this.minimizeDiv.style.width = this.buttonsWidth+"px";
    this.minimizeDiv.style.height = this.headerHeight+"px";
    this.minimizeDiv.style["border-top-left-radius"] = this.radius + "px";
    this.minimizeDiv.style.position = "absolute"
    this.minimizeDiv.style.right = this.minimizePosition+"px";

    this.expertImage.style.position = "absolute"
    this.expertImage.style.left = this.buttonsWidth+"px";
    this.expertImage.style.top = this.expertImageTop+"px";
    // Border Color

    this.headerDiv.style.height = this.headerHeight+this.borderThin + "px";
    this.headerDiv.style["border-top-left-radius"] = this.radius + "px";
    this.headerDiv.style["border-top-right-radius"] = this.radius + "px";
    this.headerDiv.style.position = "absolute"
    this.headerDiv.style.top = -this.borderThin+"px";
    this.headerDiv.style.left ="0px";
    this.headerDiv.className = "floatingIframe-header custom";

    // Border Color
//    this.headerDiv.style["border-color"] = "#86a6bf";
//    this.headerDiv.style["border-width"] = this.borderThin+"px";
//    this.headerDiv.style["border-style"] = "solid";

    this.draggableDiv.appendChild(this.headerDiv);
    this.draggableDiv.appendChild(this.closeDiv);
    this.draggableDiv.appendChild(this.minimizeDiv);
    this.draggableDiv.appendChild(this.titleDiv);
    this.draggableDiv.appendChild(this.poweredBy);
    this.draggableDiv.appendChild(this.loading);

    this.draggableDiv.appendChild(this.minimizeButton);

    Tools.getBody(true).appendChild(this.fillDiv);
    Tools.getBody(true).appendChild(this.dragbleIframeDivTransparent);
    Tools.getBody(true).appendChild(this.draggableDiv);


    $hbr(this.loading).hide();

    this.draggableDiv.appendChild(this.ihIframe)
    this.draggableDiv.appendChild(this.expertImage);
    this.draggableDiv.appendChild(this.dragbleDivTransparent)

    this.draggableDiv.appendChild(this.logoDiv)


    // save jquery pointers
    this.closeDiv.jq = $hbr(this.closeDiv );
    this.minimizeDiv.jq = $hbr(this.minimizeDiv );
    this.headerDiv.jq = $hbr(this.headerDiv );
    this.titleSpan.jq = $hbr(this.titleSpan );

    if(Device.isTouch && Device.isPC == false){
        // windows or mobile drag
        this.MobileDrag = new MobileDrag();
        this.MobileDrag.init(this.draggableDiv);
        this.MobileDrag.onDragBegin = this.dragBegin;
        this.MobileDrag.onDragEnd = this.dragEnd;

        this.closeDiv.addEventListener("touchstart", this.endSessionClickHandlerConfirm);
        // close image
        this.draggableDiv.getElementsByTagName("*")[0].addEventListener("touchstart", this.endSessionClickHandlerConfirm)

        //this.minimizeDiv.addEventListener("touchstart", this.minimizeClickHandlerConfirm);
        //this.minimizeButton.addEventListener("touchstart", this.minimizeClickHandlerConfirm)

        this.MobileDrag.onClick = this.minimizeClickHandlerConfirm;
        //this.MobileDrag.onClick = this.minimizeClickHandlerConfirm;
    }else{
        this.closeDiv.addEventListener("click",  this.endSessionClickHandlerConfirm);
        this.minimizeDiv.addEventListener("click", this.minimizeClickHandlerConfirm);
        this.minimizeButton.getElementsByTagName("*")[0].addEventListener("click", this.minimizeClickHandlerConfirm)
        // close image
        this.draggableDiv.getElementsByTagName("*")[0].addEventListener("click", this.endSessionClickHandlerConfirm)
    }
    Drag.init(this.draggableDiv);
    Drag.onDragBegin = this.dragBegin;
    Drag.onDragEnd = this.dragEnd;

    // postMessage Manager
    var targe = this.ihIframe.contentWindow;
    this.connector = new PostMessageManager(this,targe,window,this.name);

    // on scroll resize locate window on right position
    this.windowManager = new FloatingIframeManager(this);

    this.ihIframe.onload = this.showIframeContent;

    this.init();
}

FloatingIframeManager = function(win){
    this.keyboardFocus = false;
    this.disableMoveOnKeyboardOnFocus = true;
    this.flowWin = win;
    this.isAutoMove = true;
    this.isAutoMoveWidth = true;
    this.isAutoMoveHeight = true;
    this.draggableDiv = this.flowWin.draggableDiv;
    this.ihIframe = this.flowWin.ihIframe;
    this.isChatOnFocus = false;
    this.offsetLeft = 0;
    this.offsetTop = 0;
    this.lastOffsetLeft = -1;
    this.lastOffsetTop = -1;
    this.lastScrollTop = 0;
    this.lastScrollLeft = 0;
    this.onDragEnd = Tools.Delegate(this,function(){
        this.offsetLeft = this.draggableDiv.offsetLeft-Tools.getScrollLeft();
        this.offsetTop = this.draggableDiv.offsetTop-Tools.getScrollTop();

        this.lastOffsetLeft = this.offsetLeft;
        this.lastOffsetTop = this.offsetTop;
    })
    this.flowWin.addListener("onDragEnd",this.onDragEnd)

    this.onSizeChange = Tools.Delegate(this,function(){

    })
    this.flowWin.addListener("onSizeChange",this.onSizeChange)
    this.onScroll = Tools.Delegate(this,function(){
        if(this.keyboardFocus){
            if(this.disableMoveOnKeyboardOnFocus){
                return;
            }
        }
        if(this.isAutoMove == false){
            //return;
        }
        if(this.flowWin.minimizeState == 0){
            this.flowWin.setIframeMinimize(this.flowWin.minimizeState);
            return;
        }

        var left  = Tools.getScrollLeft();
        var top = Tools.getScrollTop();
        // move to static location
        var oldTop = this.draggableDiv.style.top;
        var oldLeft = this.draggableDiv.style.left;

        if(Device.isPC  || this.isChatOnFocus == false){
            this.draggableDiv.style.left = this.offsetLeft+left+"px";
            this.draggableDiv.style.top = this.offsetTop+top+"px";
        }
        // move to allway sea the chat
        var chatHeight = parseFloat(this.ihIframe.style.height) + this.ihIframe.offsetTop;
        if ((top + Tools.innerHeight()) < (this.draggableDiv.offsetTop + chatHeight)) {
            this.draggableDiv.style.top = (top + Tools.innerHeight() - chatHeight) + "px";
        }
        if (parseFloat(this.draggableDiv.style.top) < top) {
            this.draggableDiv.style.top = top + "px";
        }
        // fix left
        var chatWidth = parseFloat(this.ihIframe.style.width);
        //console.log((this.getScrollLeft()+this.innerWidth())+" < "+(this.draggableDiv.offsetLeft+chatWidth));
        if ((left + Tools.innerWidth()) < (this.draggableDiv.offsetLeft + chatWidth)) {
            this.draggableDiv.style.left = (left + Tools.innerWidth() - chatWidth) + "px";
        }
        if (parseFloat(this.draggableDiv.style.left) < left) {
            this.draggableDiv.style.left = left + "px";
        }
        var newTop = parseFloat(this.draggableDiv.style.top);
        var newLeft = parseFloat(this.draggableDiv.style.left);
        this.draggableDiv.style.top = oldTop;
        this.draggableDiv.style.left = oldLeft;
        if(this.isAutoMoveHeight == false){
            this.flowWin.moveTo(newLeft,oldTop);
        }else if(this.isAutoMoveWidth == false){
            this.flowWin.moveTo(oldLeft,newTop);
        }else{
            this.flowWin.moveTo(newLeft,newTop);
        }
        this.lastScrollLeft = left;
        this.lastScrollTop = top;
    });

    this.onResize = Tools.Delegate(this,function(){
        if(this.isAutoMove == false){
            return;
        }
        this.flowWin.setIframeMinimize(this.flowWin.minimizeState);
        this.checkIfOrientationchange();
        this.onScroll();
    });
    this.fixWindowByDragLimits = Tools.Delegate(this,function(){
        this.updateDragLimits();
        // prevent locate iframe on open
        try{
            this.draggableDiv.onmousedown();
            document.onmousemove();
            document.onmouseup();
        }catch (e){

        }
        this.flowWin.dragEnd();
    });
    this.updateDragLimits = Tools.Delegate(this,function(){
        //
        var scrollWidth = 0;
        if ($hbr(document).height() > $hbr(window).height()) {
            scrollWidth = 8
        }
        // update max size
        this.draggableDiv.minY = this.lastScrollTop;
        this.draggableDiv.maxY = Tools.innerHeight()-this.flowWin.getCurrentHeight()-10+this.lastScrollTop;
        this.draggableDiv.minX = this.lastScrollLeft;
        this.draggableDiv.maxX = Tools.innerWidth()-this.flowWin.getCurrentWidth()-scrollWidth+this.lastScrollLeft;
    })

    this.orientationMode = -1;
    this.checkIfOrientationchange = function(){
        // check if orientationChange
        var mode = -1;
        if(window.innerHeight > window.innerWidth){
            Device.isTablet ? mode = 90 : mode = 0;
        }else{
            Device.isTablet ? mode = 0 : mode = 90;
        }
        if(this.orientationMode != mode){
            this.orientationMode = mode;
            this.flowWin.connector.callFunction("orientationchange",this.orientationMode);
        }
    },
        this.init = Tools.Delegate(this,function(){
            setTimeout(Tools.Delegate(this,this.onScroll),100);
            ToolsEevents.init(true,true,false);
            ToolsEevents.addListener("onScroll",this.onScroll)
            ToolsEevents.addListener("onResize",this.onResize)
            this.onResize();
        });
    setTimeout(this.init,1000);
}

// --- Mobile Drag ----
var MobileDrag = function(){
    this.obj = null;
    this.fixX = 0;
    this.fixY = 0;
    this.clickX = 0;
    this.clickY = 0;
    this.clickStart = 0;
    this.onDragBegin =  function(){},
        this.onDragEnd = function(){},
        this.onClick = function(){},
        this.init = function (o) {
            this.obj = o;
            o.addEventListener('touchstart', Tools.Delegate(this,this.touchstart), false)
            o.addEventListener('touchend',  Tools.Delegate(this,this.touchend), false);
            o.addEventListener('touchmove',  Tools.Delegate(this,this.touchmove), false);
        }
    this.touchstart = function () {
        event.preventDefault()
        var o = this.obj;
        this.clickX = parseInt(o.style.left, 10);
        this.clickY = parseInt(o.style.top, 10)
        if (event.targetTouches.length == 1) {
            var touch = event.targetTouches[0];

            this.fixX = (touch.pageX - this.clickX);
            this.fixY = (touch.pageY - this.clickY);
            //console.log("touchstart " + MobileDrag.fixX+","+ MobileDrag.fixY);
        }
        if(o.dragEnabled == false){
            return;
        }else{
            this.onDragBegin();
        }
        //console.log("touchstart")
    }
    this.touchend = function (event) {
        event.preventDefault()
        var o = this.obj;
        this.releaseX = parseInt(o.style.left, 10);
        this.releaseY = parseInt(o.style.top, 10);
        if(Math.abs(this.clickX-this.releaseX) < 2 && Math.abs(this.clickY-this.releaseY) < 2){
            this.onClick();
            this.onDragEnd();
            this.clickX = 0;
            this.clickY = 0;
        }
        if(o.dragEnabled == false){
            return;
        }
        // console.log("touchend");
        this.onDragEnd();

    },
        this.touchmove = function (event) {
            var o = this.obj;
            this.click = false;
            if(o.dragEnabled == false){
                return;
            }
            if (event.targetTouches.length == 1) {
                var touch = event.targetTouches[0];
                // Place element where the finger is
                if ((touch.pageX - this.fixX) > 0) {
                    o.style.left = (touch.pageX - this.fixX) + 'px';
                }
                if ((touch.pageY - this.fixY) > 0) {
                    o.style.top = (touch.pageY - this.fixY) + 'px';

                }
            }
            //console.log("touchmove");
        }
}

// Drag Div mobile chat

Drag = {

    obj:null,
    onDragBegin: function(){},
    onDragEnd : function(){},
    init:function (o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper) {
        o.onmousedown = Drag.start;
        o.dragEnabled = true;
        o.hmode = bSwapHorzRef ? false : true;
        o.vmode = bSwapVertRef ? false : true;

        o.root = oRoot && oRoot != null ? oRoot : o;

        if (o.hmode && isNaN(parseInt(o.root.style.left))) o.root.style.left = "0px";
        if (o.vmode && isNaN(parseInt(o.root.style.top))) o.root.style.top = "0px";
        if (!o.hmode && isNaN(parseInt(o.root.style.right))) o.root.style.right = "0px";
        if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = "0px";

        o.minX = typeof minX != 'undefined' ? minX : null;
        o.minY = typeof minY != 'undefined' ? minY : null;
        o.maxX = typeof maxX != 'undefined' ? maxX : null;
        o.maxY = typeof maxY != 'undefined' ? maxY : null;

        o.xMapper = fXMapper ? fXMapper : null;
        o.yMapper = fYMapper ? fYMapper : null;

        o.root.onDragStart = new Function();
        o.root.onDragEnd = new Function();
        o.root.onDrag = new Function();
    },

    start:function (e) {

        Drag.onDragBegin();

        var o = Drag.obj = this;
        if(o.dragEnabled == false){
            return;
        }
        e = Drag.fixE(e);
        var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);
        var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);
        o.root.onDragStart(x, y);

        o.lastMouseX = e.clientX;
        o.lastMouseY = e.clientY;

        if (o.hmode) {
            if (o.minX != null)    o.minMouseX = e.clientX - x + o.minX;
            if (o.maxX != null)    o.maxMouseX = o.minMouseX + o.maxX - o.minX;
        } else {
            if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;
            if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;
        }

        if (o.vmode) {
            if (o.minY != null)    o.minMouseY = e.clientY - y + o.minY;
            if (o.maxY != null)    o.maxMouseY = o.minMouseY + o.maxY - o.minY;
        } else {
            if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;
            if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;
        }

        document.onmousemove = Drag.drag;
        document.onmouseup = Drag.end;

        return false;
    },

    drag:function (e) {
        e = Drag.fixE(e);
        var o = Drag.obj;

        var ey = e.clientY;
        var ex = e.clientX;
        var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);
        var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);
        var nx, ny;

        if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);
        if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);
        if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);
        if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);

        nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));
        ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));

        if (o.xMapper)        nx = o.xMapper(y)
        else if (o.yMapper)    ny = o.yMapper(x)
        if (nx < 0) {
            nx = 0;
        }
        if (ny < 0) {
            ny = 0;
        }
        Drag.obj.root.style[o.hmode ? "left" : "right"] = nx + "px";
        Drag.obj.root.style[o.vmode ? "top" : "bottom"] = ny + "px";
        Drag.obj.lastMouseX = ex;
        Drag.obj.lastMouseY = ey;

        Drag.obj.root.onDrag(nx, ny);
        return false;
    },

    end:function () {
        Drag.onDragEnd();

        document.onmousemove = null;
        document.onmouseup = null;
        Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode ? "left" : "right"]),
            parseInt(Drag.obj.root.style[Drag.obj.vmode ? "top" : "bottom"]));
        Drag.obj = null;
    },

    fixE:function (e) {
        if (typeof e == 'undefined') e = window.event;
        if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;
        if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;
        return e;
    }
};

verishow.utils.loadjscssfile('https://platform4.verishow.com/files/htmlVersion/102en/coBrowser3/framworks/FloatingIframe/FloatingIframe.css', 'css');
verishow.utils.loadjscssfile('//fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext', 'css');
verishow.utils.loadjscssfile('https://platform4.verishow.com/client?get=dynamic_css&aid=8950', 'css');
Tools.applicationPath = "https://platform4.verishow.com/files/htmlVersion/102en/"
}
