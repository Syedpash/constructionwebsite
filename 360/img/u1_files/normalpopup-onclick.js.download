function checkMobileNumber(){var a=document.getElementById("normalMobile").value,b=$(".selected-flag").attr("title").split("+");a=a.replace("+"+b[1]+" ","");var c=/^[0]?[789]\d{9}$/;return c.test(a)}function makecallNormal(a){Waybeo.CTC.MakeCall({hash:"55beeeffc63fe",route_hash:"55beeecd6fde5",callerid_hash:"57b5b32473790",contact_number:a},eventCallBack)}function clearStatus(){$(".wbf-container").removeClass("connecting").removeClass("connected").removeClass("verifying").removeClass("verification-success").removeClass("failed").removeClass("in-progress").removeClass("completed").removeClass("ended").removeClass("agent-busy").removeClass("oops").removeClass("timer")}function eventCallBack(a,b){switch(clearStatus(),a){case"CAPTCHA":captcha=b.code,$(".wbf-container").addClass("connecting");break;case"ORIGINATE_ERROR":$(".wbf-container").addClass("wbf-livemsg-oops");break;case"DIALING":$(".wbf-container").addClass("connected");break;case"VERIFICATION_IN_PROGRESS":$(".wbf-container").addClass("verifying"),$(".wbf-verificationcode").text(captcha);break;case"VERIFIED":$(".wbf-container").addClass("verification-success"),setTimeout(function(){$(".wbf-container").removeClass("verification-success"),$(".wbf-container").addClass("in-progress")},1e3),setStatusTimer();break;case"AGENT_BUSY":$(".wbf-container").addClass("agent-busy");break;case"INPROGRESS":$(".wbf-container").addClass("in-progress"),setStatusTimer();break;case"COMPLETED":$(".wbf-container").addClass("completed"),clearInterval(timer);break;case"VALIDATION_ERROR":b.errorCode&&902==b.errorCode&&$(".wbf-formerror").show(),clearInterval(timer);break;case"ORIGINATE_ERROR":$(".wbf-container").addClass("oops"),clearInterval(timer)}}function setStatusTimer(){if(!timer){var a=0;timer=setInterval(function(){a++;var b=a%60,c=Math.floor(a/60),d=Math.floor(c/60);c%=60,Math.floor(b/10)||(b="0"+b),Math.floor(c/10)||(c="0"+c),Math.floor(d/10)||(d="0"+d),$(".timer").text(d+":"+c+":"+b)},1e3)}}$(document).ready(function(){var a=$("#normalMobile");Waybeo.Utils.getIpCountry(function(b){a.intlTelInput({defaultCountry:b.country_code.toLowerCase()})}),$("#normalCallMe").hide(),$(".wbf-close").click(function(){var a=$(".selected-flag").attr("title").split("+");$("#normalMobile").val("+"+a[1]+" ")}),$("#normalMobile").keyup(function(){var b=$(".selected-flag").attr("title").split("+"),c=$.trim($("#normalMobile").val()).replace(" ","");if(-1===c.indexOf("+"+b[1]+" ")&&(c=c.replace("+"+b[1],""),$("#normalMobile").val("+"+b[1]+" "+c)),"91"==b[1])checkMobileNumber()?($("#normalCallMe").show().fadeIn("slow"),$("#errmsg").html("Invalid Number").hide().fadeOut("slow")):($("#errmsg").html("Invalid Number").show(),$("#normalCallMe").hide().fadeOut("slow"));else{var b=$(".selected-flag").attr("title").split("+");$("#errmsg").html("Invalid Number").hide().fadeOut("slow"),$("#normalCallMe").show().fadeIn("slow")}}),$(".clickme").click(function(){showNormalPopup()}),$("#normalCallMe").click(function(){var a=$.trim($("#normalMobile").val()).replace("+","").replace(" ","");$(".wbf-container").addClass("connecting"),makecallNormal(a)}),$(".wbf-close").click(function(){$(".wbf-screen").removeClass("active"),$(".wbf-container").removeClass("active").delay("400").queue(function(){$.dequeue(this),clearStatus(),timer&&(timer=null)})})});var showNormalPopup=function(){$(".wbf-screen").addClass("active"),$(".wbf-container").addClass("active")};Waybeo.CTC.Init({hash:"55beeeffc63fe"});var captcha="",timer="";